!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="javascripts/",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var i=e.slice(1),n=t[e[0]];return function(t,e,r){n.apply(this,[t,e,r].concat(i))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(2),a=n(o),h=i(3),l=n(h),c=i(5),u=i(16),p=n(u),f=i(54),d=n(f),m=i(63),y=n(m),g=i(64),v=n(g),_=i(20),b=n(_),E=i(79),T=n(E),A=i(80),w=n(A),C=function(){function t(){r(this,t),this.emitter=(0,v["default"])({}),this.communication=new w["default"](this.emitter),this.scene=new a["default"](this.emitter,this.communication),this.setupHandlers(),this.setupListeners(),this.aboutScreenOpen=!1,Promise.all([this.scene.setup(),this.loadModeChooserAnimation(),this.loadingAnimation()]).then(function(){l["default"].to([".intro > div > *"],.5,{y:10}),l["default"].to([".intro > div > *"],.2,{opacity:1,delay:.3})})}return s(t,[{key:"loadingAnimation",value:function(){return new Promise(function(t,e){l["default"].to("header span",.5,{ease:SlowMo.ease.config(.3,.7,!1),width:"100%",onComplete:function(){(0,p["default"])("header h1").css("opacity",1),(0,p["default"])("header span").remove(),t()}})})}},{key:"requestFullscreen",value:function(){if(b["default"].isMobile()){document.addEventListener("fullscreenchange",function(t){document.fullscreen&&(screen.lockOrientationUniversal=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation,window.screen.lockOrientationUniversal("landscape-primary"))});var t=new T["default"];t.enable();var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}},{key:"setupListeners",value:function(){this.emitter.on(c.EVENT.RESTART_GAME,function(){(0,p["default"])(".game-over-screen-wrapper").hide(),(0,p["default"])("#play-again").text("Play again")}),this.emitter.on(c.EVENT.GAME_OVER,function(t){(0,p["default"])(".game-over-screen-wrapper").show(),document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock,document.exitPointerLock(),t.self>=c.INITIAL_CONFIG.POINTS_FOR_WIN?(0,p["default"])("#result").text("You won!"):(0,p["default"])("#result").text("Your opponent won!")}),this.emitter.on(c.EVENT.OPPONENT_DISCONNECTED,function(){console.log("Your opponent has disconnected")})}},{key:"showModeChooserScreen",value:function(){var t=new TimelineMax;t.set(".player-mode-chooser h3, .player-mode-chooser svg, .buttons",{opacity:0,y:10}),t.set(".intro",{zIndex:10}),t.set(".transition-color-screen",{zIndex:11}),t.set(".player-mode-chooser",{zIndex:12}),t.staggerTo([".intro button",".intro p",".intro h1",".intro"],.5,{left:"100%"},.1),t.staggerTo([".transition-color-screen.pink",".transition-color-screen.blue",".transition-color-screen.green",".player-mode-chooser"],.5,{left:"0%",ease:Power2.easeInOut},.1,"-=0.9"),t.set([".transition-color-screen.pink",".transition-color-screen.blue",".transition-color-screen.green"],{left:"-100%"}),t.staggerTo(["#singleplayer-animation svg","#multiplayer-animation svg",".one-player-col h3",".two-player-col h3",".one-player-col .buttons",".two-player-col .buttons"],.3,{y:0,opacity:1},.1)}},{key:"loadModeChooserAnimation",value:function(){var t=this;return Promise.all([new Promise(function(e,i){p["default"].getJSON("/animations/1player.json",function(i){t.singleplayerAnimation=y["default"].loadAnimation({container:document.getElementById("singleplayer-animation"),renderer:"svg",loop:!0,animationData:i}),e()})}),new Promise(function(e,i){p["default"].getJSON("/animations/2player.json",function(i){t.multiplayerAnimation=y["default"].loadAnimation({container:document.getElementById("multiplayer-animation"),renderer:"svg",loop:!0,animationData:i}),e()})})])}},{key:"setupHandlers",value:function(){var t=this;(0,p["default"])("#start").click(function(){t.showModeChooserScreen()}),(0,p["default"])("#start-singleplayer").click(function(e){(0,p["default"])("#cardboard img").attr("src","/images/cardboard-pink-1b4af49c19.gif"),(0,p["default"])("#tilt img").attr("src","/images/phone-tilt-pink-4b65dae25a.gif"),(0,p["default"])(".vr-mode-chooser").addClass("pink"),t.scene.setSingleplayer(),t.viewVRChooserScreen().then(function(){y["default"].stop(),y["default"].destroy()})}),(0,p["default"])("#open-room").click(function(e){(0,p["default"])("#cardboard img").attr("src","/images/cardboard-blue-6e0b74d1d2.gif"),(0,p["default"])("#tilt img").attr("src","/images/phone-tilt-blue-e0c86d673e.gif"),(0,p["default"])(".vr-mode-chooser").addClass("blue"),t.scene.setMultiplayer(),t.viewOpenRoomScreenAnimation().then(function(){y["default"].stop(),y["default"].destroy()})}),(0,p["default"])("#join-room").click(function(e){(0,p["default"])("#cardboard img").attr("src","/images/cardboard-green-cc145dc7dc.gif"),(0,p["default"])("#tilt img").attr("src","/images/phone-tilt-green-ff9d17dddf.gif"),(0,p["default"])(".vr-mode-chooser").addClass("green"),t.scene.setMultiplayer(),t.viewJoinRoomScreenAnimation().then(function(){y["default"].stop(),y["default"].destroy()})}),(0,p["default"])("#play-again").click(function(){t.communication.sendRestartGame(),(0,p["default"])("#play-again").text("Waiting for opponent to restart..."),t.scene.playerRequestedRestart=!0,t.scene.restartGame()}),(0,p["default"])("#exit").click(function(){location.reload()}),(0,p["default"])(".exit-arrow").click(function(){location.reload()}),(0,p["default"])(".about-button").click(function(){t.aboutScreenOpen?(l["default"].to(".about-screen",.5,{autoAlpha:0}),(0,p["default"])(".about-button").text("About")):(l["default"].set(".about-screen",{display:"block",opacity:0}),l["default"].to(".about-screen",.5,{autoAlpha:1}),(0,p["default"])(".about-button").text("Close")),t.aboutScreenOpen=!t.aboutScreenOpen}),(0,p["default"])("#cardboard").click(function(){t.scene.setupVRControls(),t.scene.controlMode="VR",t.scene.manager.enterVRMode_(),t.scene.startGame()}),(0,p["default"])("#tilt").click(function(){b["default"].isMobile()?(t.scene.setupVRControls(),t.scene.controlMode="VR"):t.scene.controlMode="MOUSE",t.scene.startGame()}),(0,p["default"])("button").on("click",function(){var t=.1;l["default"].to((0,p["default"])(this),t,{backgroundColor:"#fff"}),l["default"].to((0,p["default"])(this),t,{backgroundColor:"transparent",delay:t})}),(0,p["default"])(".back-arrow").on("click",function(){t.backAnimation()}),(0,p["default"])(".back-arrow").on("click",function(){t.backAnimation()})}},{key:"viewVRChooserScreen",value:function(){var t=this;return new Promise(function(e,i){if(!t.scene.manager.isVRCompatible)return t.scene.startGame(),void e();b["default"].isMobile()||((0,p["default"])("#cardboard p").text("Vive"),(0,p["default"])("#tilt p").text("Mouse"));var n=new TimelineMax;n.set(".vr-mode-chooser",{display:"block",opacity:0}),n.to(".intro, .player-mode-chooser",.5,{autoAlpha:0}),n.to(".vr-mode-chooser",.5,{opacity:1,onComplete:function(){e()}})})}},{key:"viewJoinRoomScreenAnimation",value:function(){var t=this;return new Promise(function(e,i){(0,p["default"])("#room-code").focus(),(0,p["default"])("#room-code").bind("input",function(){4===(0,p["default"])(this).val().length?((0,p["default"])("#join-room-button").removeClass("inactive"),(0,p["default"])("#join-room-button").css("pointer-events","auto")):((0,p["default"])("#join-room-button").addClass("inactive"),(0,p["default"])("#join-room-button").css("pointer-events","none"))}),(0,p["default"])("#join-room-button").click(function(){t.communication.tryConnecting((0,p["default"])("#room-code").val().toUpperCase()).then(function(e){t.viewVRChooserScreen()})["catch"](function(t){alert(t)})});var n=new TimelineMax;n.set(".join-room-screen > div > *",{opacity:0,y:10}),n.set(".player-mode-chooser",{zIndex:10}),n.set(".transition-color-screen",{zIndex:11}),n.set(".join-room-screen",{zIndex:12}),n.to(".player-mode-chooser",.5,{left:"100%"}),n.staggerTo([".transition-color-screen.pink",".transition-color-screen.blue",".transition-color-screen.green",".join-room-screen"],.5,{left:"0%",ease:Power2.easeInOut},.1,"-=0.6"),n.staggerTo([".join-room-screen .present-players",".join-room-screen #room-code",".join-room-screen .grey-text",".join-room-screen #join-room-button"],.3,{y:0,opacity:1},.1)})}},{key:"backAnimation",value:function(){var t=new TimelineMax;t.set(".player-mode-chooser",{zIndex:12}),t.set(".transition-color-screen",{zIndex:11,left:"100%"}),t.set(".join-room-screen, .open-room-screen",{zIndex:10}),t.staggerTo([".join-room-screen, .open-room-screen",".transition-color-screen.green",".transition-color-screen.blue",".transition-color-screen.pink"],.5,{left:"-100%",ease:Power2.easeInOut},.1),t.to([".player-mode-chooser"],.5,{left:"0%",ease:Power2.easeInOut},"-=0.5")}},{key:"viewOpenRoomScreenAnimation",value:function(){var t=this;return new Promise(function(e,i){t.communication.chooseClosestServer().then(function(){var e=t.communication.openRoom();(0,p["default"])("#room-url").val(e)}),t.emitter.on(c.EVENT.OPPONENT_CONNECTED,function(){(0,p["default"])(".opponent-joined").text("Opponent joined"),l["default"].set(".opponent-icon",{opacity:1}),(0,p["default"])("#join-waiting-room").hide(),setTimeout(function(){t.viewVRChooserScreen()},1e3)}),new d["default"]("#room-url");var n=new TimelineMax;n.set(".open-room-screen > div > *",{opacity:0,y:10}),n.set([".open-room-screen #room-url",".open-room-screen .grey-text"],{opacity:0,y:10}),n.set([".open-room-screen .present-players",".open-room-screen .opponent-joined"],{opacity:0}),n.set(".player-mode-chooser",{zIndex:10}),n.set(".transition-color-screen",{zIndex:11}),n.set(".open-room-screen",{zIndex:12}),n.to(".player-mode-chooser",.5,{left:"100%"}),n.staggerTo([".transition-color-screen.pink",".transition-color-screen.blue",".transition-color-screen.green",".open-room-screen"],.5,{left:"0%",ease:Power2.easeInOut},.1,"-=0.6"),n.staggerTo([".open-room-screen #room-url",".open-room-screen .grey-text"],.3,{y:0,opacity:1}),n.to([".open-room-screen .present-players",".open-room-screen .opponent-joined"],.3,{opacity:1},"+=0.5");var r=1,s=new TimelineMax({repeat:-1,repeatDelay:r});s.set(".opponent-joined",{visibility:"hidden"},0),s.set(".opponent-joined",{visibility:"visible"},r)})}}]),t}();new C},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(3),a=n(o),h=i(5),l=i(6),c=i(7),u=n(c),p=i(8),f=n(p),d=i(9),m=n(d),y=i(14),g=n(y),v=i(16),_=n(v),b=i(17),E=n(b),T=i(20),A=n(T),w=i(21),C=n(w),x=i(22),S=(n(x),i(23)),P=n(S),k=i(24),I=n(k),R=i(25),N=(n(R),i(26)),O=n(N),M=!1,D=function(){function t(e,i){r(this,t),this.emitter=e,this.time=new O["default"],this.controlMode="MOUSE",this.communication=i,this.renderer=null,this.scene=null,this.camera=null,this.controls=null,this.controller=null,this.effect=null,this.textureLoader=new THREE.TextureLoader,this.textureLoader.setPath("/models/"),this.objLoader=new THREE.OBJLoader,this.objLoader.setPath("/models/"),this.table=null,this.display=null,this.manager=null,this.gamePad=null,this.controller1=null,this.controller2=null,this.raycaster=null,this.tablePlane=null,this.controllerRay=null,this.net=null,this.tabActive=!0,this.ball=null,this.physicsDebugRenderer=null,this.resetBallTimeout=null,this.state=h.STATE.PRELOADER,this.ballHasHitEnemyTable=!1,this.resetTimeoutDuration=1500,this.physicsTimeStep=1e3,this.lastOpponentHitPosition=null,this.mouseMoveSinceLastFrame={x:0,y:0},this.paddleTween=null,this.hitAvailable=!0,this.playerRequestedRestart=!1,this.opponentRequestedRestart=!1,this.playerRequestedCountdown=!1,this.opponentRequestedCountdown=!1,this.mousemove=this.mousemove.bind(this),this.isMobile=A["default"].isMobile(),this.viewport={width:(0,_["default"])(document).width(),height:(0,_["default"])(document).height()},this.score={self:0,opponent:0},this.config=Object.assign({},h.INITIAL_CONFIG),this.physics=new f["default"](this.config,this.emitter),this.sound=new g["default"],this.frameNumber=0,this.totaltime=0,this.lastRender=0}return s(t,[{key:"setup",value:function(){var t=this;return new Promise(function(e,i){t.setupThree(),t.setupVR(),t.net=(0,P["default"])(t.scene,t.config),t.renderer.domElement.requestPointerLock=t.renderer.domElement.requestPointerLock||t.renderer.domElement.mozRequestPointerLock,t.renderer.domElement.onclick=function(){t.renderer.domElement.requestPointerLock()},document.addEventListener("pointerlockchange",function(){document.pointerLockElement===t.renderer.domElement?document.addEventListener("mousemove",t.mousemove,!1):(document.removeEventListener("mousemove",t.mousemove),t.setPaddlePosition(0,1.3,t.config.paddlePositionZ))},!1),t.physics.setupWorld(),M&&(t.physicsDebugRenderer=new THREE.CannonDebugRenderer(t.scene,t.physics.world)),t.setupEventListeners(),t.setupTablePlane(),t.setupLights(),t.hud=new m["default"](t.scene,t.config,t.emitter),document.addEventListener("keydown",function(t){}),Promise.all([t.hud.setup(),t.setupPaddles()]).then(function(){requestAnimationFrame(t.animate.bind(t)),e("loaded")})})}},{key:"mousemove",value:function(t){this.hitTween&&this.hitTween.isActive()||(this.mouseMoveSinceLastFrame.x+=t.movementX,this.mouseMoveSinceLastFrame.y+=t.movementY)}},{key:"setupEventListeners",value:function(){var t=this;this.emitter.on(h.EVENT.GAME_OVER,function(e){t.config.state=h.STATE.GAME_OVER}),this.emitter.on(h.EVENT.BALL_PADDLE_COLLISION,this.ballPaddleCollision.bind(this)),this.emitter.on(h.EVENT.BALL_TABLE_COLLISION,this.ballTableCollision.bind(this))}},{key:"setupVRControls",value:function(){this.controls=new THREE.VRControls(this.camera),this.controls.standing=!0,this.controls.userHeight=this.config.cameraHeight,this.setupControllers()}},{key:"setupVR",value:function(){this.effect=new THREE.VREffect(this.renderer),this.effect.setSize(window.innerWidth,window.innerHeight);var t={hideButton:!1,isUndistorted:!1};this.manager=new E["default"](this.renderer,this.effect,t),window.addEventListener("resize",this.onResize.bind(this),!0),window.addEventListener("vrdisplaypresentchange",this.onResize.bind(this),!0)}},{key:"setupThree",value:function(){this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(this.config.colors.BLUE_BACKGROUND,1),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=THREE.PCFSoftShadowMap,document.body.appendChild(this.renderer.domElement),this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(5,window.innerWidth/window.innerHeight,.1,1e4),this.camera.position.x=24,this.camera.position.z=24,this.camera.position.y=24,this.camera.lookAt(new THREE.Vector3(0,this.config.tableHeight,this.config.tablePositionZ))}},{key:"setupLights",value:function(){var t=new THREE.DirectionalLight(16777215,.3,0);t.position.z=this.config.tablePositionZ,t.position.z=2,t.position.y=4,t.shadow.camera.near=2.5,t.shadow.camera.far=6.2,t.shadow.camera.left=-1,t.shadow.camera.right=1,t.castShadow=!0,t.shadow.mapSize.width=512*(this.isMobile?1:8),t.shadow.mapSize.height=512*(this.isMobile?1:8),this.scene.add(t),t=new THREE.AmbientLight(16777215,.9),this.scene.add(t)}},{key:"setupTablePlane",value:function(){this.raycaster=new THREE.Raycaster;var t=new THREE.PlaneGeometry(40,40,5,5),e=new THREE.MeshBasicMaterial({color:16776960,wireframe:!0});this.tablePlane=new THREE.Mesh(t,e),this.tablePlane.rotation.x=.45*-Math.PI,this.tablePlane.position.y=this.config.tableHeight+.2,this.tablePlane.position.z=this.config.tablePositionZ+this.config.tableDepth/2,this.tablePlane.material.visible=!1,this.scene.add(this.tablePlane)}},{key:"setupControllers",value:function(){var t=this;if(navigator.getVRDisplays().then(function(e){e&&(t.display=e[0],e[0].capabilities&&e[0].capabilities.hasPosition&&(t.controller1=new THREE.ViveController(0),t.controller1.standingMatrix=t.controls.getStandingMatrix(),t.scene.add(t.controller1),t.controller2=new THREE.ViveController(1),t.controller2.standingMatrix=t.controls.getStandingMatrix(),t.scene.add(t.controller2),t.objLoader.load("vr_controller_vive_1_5.obj",function(e){t.controller=e.children[0],t.controller.material.map=t.textureLoader.load("onepointfive_texture.png"),t.controller.material.specularMap=t.textureLoader.load("onepointfive_spec.png"),t.controller1.add(e.clone()),t.controller2.add(e.clone())})))}),M){var e=new THREE.LineBasicMaterial({color:65535}),i=new THREE.Geometry;i.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,0)),this.controllerRay=new THREE.Line(i,e),this.controllerRay.geometry.dynamic=!0,this.scene.add(this.controllerRay)}}},{key:"setupPaddles",value:function(){var t=this;return new Promise(function(e,i){t.objLoader.load("paddle.obj",function(i){var n=.024;i.scale.set(n,n,n);var r=new THREE.MeshLambertMaterial({color:t.config.colors.PADDLE_COLOR,side:THREE.DoubleSide}),s=new THREE.MeshLambertMaterial({color:t.config.colors.PADDLE_WOOD_COLOR,side:THREE.DoubleSide});i.traverse(function(t){t instanceof THREE.Mesh&&("Cap_1"===t.name||"Cap_2"===t.name||"Extrude"===t.name?t.material=r:t.material=s,t.castShadow=!0)}),t.paddle=i.clone(),t.paddle.name="paddle",t.paddle.visible=!0,t.paddle.castShadow=!0,t.paddle.position.y=t.config.tableHeight+.3,t.paddle.position.z=t.config.paddlePositionZ,t.scene.add(t.paddle),t.paddleOpponent=i.clone(),t.paddleOpponent.name="paddleOpponent",t.paddleOpponent.position.z=t.config.tablePositionZ-t.config.tableDepth/2,t.paddleOpponent.position.y=1,t.paddleOpponent.visible=!1,t.scene.add(t.paddleOpponent),e()})})}},{key:"startGame",value:function(){var t=this;this.paddle.visible=!1,this.hud.container.visible=!1;var e=this.scene.getObjectByName("table");if(this.config.mode===h.MODE.MULTIPLAYER)this.communication.isHost?(this.renderer.setClearColor(this.config.colors.BLUE_BACKGROUND,1),e.material.color.set(this.config.colors.BLUE_TABLE)):(this.renderer.setClearColor(this.config.colors.GREEN_BACKGROUND,1),e.material.color.set(this.config.colors.GREEN_TABLE));else{var i=this.scene.getObjectByName("upwardsTableGroup");i.visible=!0,this.net.visible=!1,this.physics.net.collisionResponse=0,this.physics.upwardsTable.collisionResponse=1,this.renderer.setClearColor(this.config.colors.PINK_BACKGROUND,1),e.material.color.set(this.config.colors.PINK_TABLE)}this.introPanAnimation().then(function(){t.paddle.visible=!0,t.hud.container.visible=!0,t.setupVRControls(),t.config.mode===h.MODE.SINGLEPLAYER?t.countdown():(t.paddleOpponent.visible=!0,t.communication.sendRequestCountdown(),t.playerRequestedCountdown=!0,t.requestCountdown())})}},{key:"introPanAnimation",value:function(){var t=this;return new Promise(function(e,i){var n={fov:t.camera.fov},r=new TimelineMax;r.set("canvas",{left:"-100%"}),r.set(".transition-color-screen, .join-room-screen, .intro, .open-room-screen",{display:"none"}),r.to(".intro-wrapper",.4,{left:"100%"},0),r.to("canvas",.4,{left:"0%"},0);var s=1;r.to(n,s,{fov:47,ease:Power3.easeIn,onUpdate:function(){t.camera.fov=n.fov,t.camera.updateProjectionMatrix()}},1),r.to(t.camera.position,s,{x:0,y:1.6,z:.6,ease:Power1.easeInOut,onUpdate:function(){t.camera.lookAt(new THREE.Vector3(0,t.config.tableHeight,t.config.tablePositionZ))}},1),r.call(e,[],null,"+=1")})}},{key:"receivedRequestCountdown",value:function(){this.opponentRequestedCountdown=!0,this.requestCountdown()}},{key:"requestCountdown",value:function(){this.playerRequestedCountdown&&this.opponentRequestedCountdown&&this.countdown()}},{key:"countdown",value:function e(){var t=this;this.hud.message.hideMessage(),this.config.state=h.STATE.COUNTDOWN,this.hud.countdown.showCountdown();var i=2,e=this.time.setInterval(function(){if(t.hud.countdown.setCountdown(i),i--,i<0)if(t.time.clearInterval(e),t.hud.countdown.hideCountdown(),t.config.mode===h.MODE.SINGLEPLAYER)t.addBall(),t.physics.initBallPosition();else if(t.config.mode===h.MODE.MULTIPLAYER&&!t.communication.isHost){t.addBall();t.physics.initBallPosition(),t.communication.sendHit({x:t.physics.ball.position.x,y:t.physics.ball.position.y,z:t.physics.ball.position.z},{x:t.physics.ball.velocity.x,y:t.physics.ball.velocity.y,z:t.physics.ball.velocity.z},!0)}},1e3)}},{key:"restartGame",value:function(){this.opponentRequestedRestart&&this.playerRequestedRestart&&(this.emitter.emit(h.EVENT.RESTART_GAME,this.score),this.playerRequestedRestart=!1,this.opponentRequestedRestart=!1,this.resetScore(),this.countdown())}},{key:"resetScore",value:function(){this.score.self=0,this.score.opponent=0,this.hud.scoreDisplay.setSelfScore(0),this.hud.scoreDisplay.setOpponentScore(0)}},{key:"setMultiplayer",value:function(){this.config.mode=h.MODE.MULTIPLAYER,this.table=(0,C["default"])(this.scene,this.config),this.hud.message.showMessage(),this.resetTimeoutDuration=3e3,this.hud.scoreDisplay.opponentScore.visible=!0,this.communication.setCallbacks({move:this.receivedMove.bind(this),hit:this.receivedHit.bind(this),miss:this.receivedMiss.bind(this),restartGame:this.receivedRestartGame.bind(this),requestCountdown:this.receivedRequestCountdown.bind(this)})}},{key:"setSingleplayer",value:function(){this.config.mode=h.MODE.SINGLEPLAYER,this.table=(0,C["default"])(this.scene,this.config)}},{key:"receivedMove",value:function(t){var e=this,i=this.mirrorPosition(t.position),n={x:this.paddleOpponent.position.x,y:this.paddleOpponent.position.y,z:this.paddleOpponent.position.z,rotationX:this.paddleOpponent.rotation.x,rotationY:this.paddleOpponent.rotation.y,rotationZ:this.paddleOpponent.rotation.z};a["default"].to(n,.14,{x:i.x,y:i.y,z:i.z-.1,rotationX:-t.rotation._x,rotationY:t.rotation._y,rotationZ:-t.rotation._z,onUpdate:function(){e.paddleOpponent.position.x=n.x,e.paddleOpponent.position.y=n.y,e.paddleOpponent.position.z=n.z,e.paddleOpponent.rotation.x=n.rotationX,e.paddleOpponent.rotation.y=n.rotationY,e.paddleOpponent.rotation.z=n.rotationZ}})}},{key:"receivedRestartGame",value:function(){this.opponentRequestedRestart=!0,this.restartGame()}},{key:"receivedHit",value:function(t){this.time.clearTimeout(this.resetBallTimeout),t.addBall&&this.addBall(),this.physicsTimeStep=1e3,this.ballPositionDifference=(new THREE.Vector3).subVectors(this.physics.ball.position,this.mirrorPosition(t.point)),this.lastOpponentHitPosition=(new THREE.Vector3).copy(this.mirrorPosition(t.point)),this.physics.ball.position.copy(this.mirrorPosition(t.point)),this.physics.ball.velocity.copy(this.mirrorVelocity(t.velocity))}},{key:"mirrorPosition",value:function(t){var e=t.z;return e-=Math.sign(e-this.config.tablePositionZ)*Math.abs(e-this.config.tablePositionZ)*2,{x:-t.x,y:t.y,z:e}}},{key:"mirrorVelocity",value:function(t){return{x:-t.x,y:t.y,z:-t.z}}},{key:"receivedMiss",value:function(t){this.physicsTimeStep=1e3,this.time.clearTimeout(this.resetBallTimeout),t.ballHasHitEnemyTable?(this.score.opponent++,this.hud.scoreDisplay.setOpponentScore(this.score.opponent)):(this.score.self++,this.hud.scoreDisplay.setSelfScore(this.score.self)),this.score.self>=this.config.POINTS_FOR_WIN||this.score.opponent>=this.config.POINTS_FOR_WIN?this.emitter.emit(h.EVENT.GAME_OVER,this.score):this.receivedHit(t)}},{key:"slowdownBall",value:function(){if(!(this.physics.ball.velocity.z>0)){var t=this.physics.ball.velocity.length(),e=(new THREE.Vector3).subVectors(this.ball.position,this.paddleOpponent.position).length(),i=e/t,n=i+this.communication.latency/1e3;this.physicsTimeStep=1e3*(n/i)*1}}},{key:"restartPingpongTimeout",value:function(){var t=this;this.time.clearTimeout(this.resetBallTimeout),this.resetBallTimeout=this.time.setTimeout(function(){t.config.mode===h.MODE.MULTIPLAYER?(t.physicsTimeStep=1e3,t.ballHasHitEnemyTable?(t.score.self++,t.hud.scoreDisplay.setSelfScore(t.score.self)):(t.score.opponent++,t.hud.scoreDisplay.setOpponentScore(t.score.opponent)),t.score.opponent>=t.config.POINTS_FOR_WIN||t.score.self>=t.config.POINTS_FOR_WIN?t.emitter.emit(h.EVENT.GAME_OVER,t.score):t.physics.initBallPosition(),t.communication.sendMiss({x:t.physics.ball.position.x,y:t.physics.ball.position.y,z:t.physics.ball.position.z},{x:t.physics.ball.velocity.x,y:t.physics.ball.velocity.y,z:t.physics.ball.velocity.z},t.ballHasHitEnemyTable)):(t.score.self=0,t.hud.scoreDisplay.setSelfScore(t.score.self),t.physics.initBallPosition()),t.restartPingpongTimeout()},this.resetTimeoutDuration)}},{key:"ballIsInBox",value:function(t){var e=.1;return t.position.z-e<=4&&t.position.z+e>=-4}},{key:"ballPaddleCollision",value:function(t){var e=this;return this.ballPositionDifference=null,this.restartPingpongTimeout(),this.paddleCollisionAnimation(),this.ballHasHitEnemyTable=!1,this.sound.hit(t.position),this.config.mode===h.MODE.SINGLEPLAYER?(this.score.self++,void this.hud.scoreDisplay.setSelfScore(this.score.self)):void this.time.setTimeout(function(){e.slowdownBall(),e.communication.sendHit({x:t.position.x,y:t.position.y,z:t.position.z},{x:t.velocity.x,y:t.velocity.y,z:t.velocity.z})},10)}},{key:"ballTableCollision",value:function(t){t.z<this.config.tablePositionZ&&(this.ballHasHitEnemyTable=!0)}},{key:"paddleCollisionAnimation",value:function(){this.paddle.getObjectByName("paddleHitHighlight")&&(this.paddle.getObjectByName("paddleHitHighlight").material.opacity=1,a["default"].to(this.paddle.getObjectByName("paddleHitHighlight").material,.5,{opacity:0,ease:Power2.easeOut}))}},{key:"addBall",value:function(){if(this.config.state=h.STATE.PLAYING,!this.ball){var t=new I["default"](this.scene,this.config),e=this.physics.addBall(t);return this.ball=t,this.ball.physicsReference=e,this.restartPingpongTimeout(),t.physicsReference}}},{key:"setPaddlePosition",value:function(t,e,i){this.paddle.position.x=(0,l.cap)(t,this.config.tableWidth,-this.config.tableWidth),this.paddle.position.z=(0,l.cap)(i||this.config.paddlePositionZ,0,this.config.tablePositionZ+.5),this.paddle.position.y=this.config.tableHeight+.1-.2*this.paddle.position.z,this.paddle.rotation.x=-(this.config.tablePositionZ+this.config.tableDepth/2-1*this.paddle.position.z),this.paddle.rotation.z=-t}},{key:"updateControls",value:function(){if(!this.hitTween||!this.hitTween.isActive()){var t=this.computePaddlePosition();if(t&&this.setPaddlePosition(t.x,t.y,t.z),!this.display||"MOUSE"===this.controlMode){var e=(new THREE.Euler).copy(this.camera.rotation);this.camera.lookAt((new THREE.Vector3).lerpVectors(this.paddle.position,new THREE.Vector3(this.table.position.x,this.config.tableHeight+.3,this.table.position.z),.5));var i=(new THREE.Euler).copy(this.camera.rotation);this.camera.rotation.copy(e),this.cameraTween&&this.cameraTween.kill(),this.cameraTween=a["default"].to(this.camera.rotation,.5,{x:i.x,y:i.y,z:i.z,ease:Power4.easeOut}),this.mouseMoveSinceLastFrame.x=0,this.mouseMoveSinceLastFrame.y=0}}}},{key:"computePaddlePosition",value:function(){if(this.display&&"VR"===this.controlMode){var t=null;this.controller1&&this.controller1.visible?t=this.controller1:this.controller2&&this.controller2.visible&&(t=this.controller2);var e=[];if(t){var i=new THREE.Vector3(0,0,(-1));i.applyQuaternion(t.getWorldQuaternion()),i.normalize(),this.raycaster.set(t.getWorldPosition(),i),this.raycaster.far=5,e=this.raycaster.intersectObject(this.tablePlane,!1)}else{var n=this.manager.mode===u["default"].VR?-.7:-.3;this.raycaster.setFromCamera(new THREE.Vector2(0,n),this.camera),this.raycaster.far=5,e=this.raycaster.intersectObject(this.tablePlane,!1),e.length>0&&(e[0].point.x*=1.5)}if(e.length>0){var r=e[0].point;return r}return null}var s=this.ball?this.ball.position.y:1;return{x:this.paddle.position.x+.001*this.mouseMoveSinceLastFrame.x,y:s,z:this.paddle.position.z+.001*this.mouseMoveSinceLastFrame.y}}},{key:"updateBall",value:function(){if(this.ballPositionDifference){var t=this.physics.ball.position.distanceTo(this.paddle.position),e=this.lastOpponentHitPosition.distanceTo(this.paddle.position),i=t/e,n=(new THREE.Vector3).lerpVectors(this.physics.ball.position,(new THREE.Vector3).addVectors(this.physics.ball.position,this.ballPositionDifference),i);this.ball.position.copy(n),this.ball.quaternion.copy(this.physics.ball.quaternion)}else this.ball.position.copy(this.physics.ball.position),this.ball.quaternion.copy(this.physics.ball.quaternion)}},{key:"ballHitAnimation",value:function(){var t=this;(!this.hitTween||!this.hitTween.isActive()&&this.hitAvailable)&&(this.physics.paddleCollision({body:this.physics.ball,target:this.paddle}),this.hitTween=new TimelineMax,this.hitTween.to(this.paddle.position,.1,{x:this.ball.position.x,y:this.ball.position.y,z:this.ball.position.z}),"MOUSE"===this.controlMode?this.hitTween.to(this.paddle.position,.2,{x:this.paddle.position.x,y:this.paddle.position.y,z:this.paddle.position.z}):!function(){var e={alpha:0},i=t.ball.position.clone();t.hitTween.to(e,.3,{alpha:1,onUpdate:function(){var n=(new THREE.Vector3).lerpVectors(i,t.computePaddlePosition(),e.alpha);t.setPaddlePosition(n.x,n.y,n.z)}})}(),this.hitAvailable=!1,this.time.setTimeout(function(){t.hitAvailable=!0},300))}},{key:"animate",value:function(t){var e=Math.min(t-this.lastRender,500);if(this.totaltime+=e,!this.tabActive)return void requestAnimationFrame(this.animate.bind(this));if(this.ball){var i=new THREE.Vector3;i.subVectors(this.ball.position,this.paddle.position),(i.length()<.4&&Math.abs(i.x)<.2&&Math.abs(i.z)<.1||this.isMobile&&i.length()<.8&&Math.abs(i.x)<.3&&Math.abs(i.z)<.1)&&this.ballHitAnimation()}this.ball&&this.config.mode===h.MODE.MULTIPLAYER&&!this.communication.isHost,this.config.state!==h.STATE.PLAYING&&this.config.state!==h.STATE.COUNTDOWN||(this.updateControls(),this.config.mode===h.MODE.MULTIPLAYER&&this.frameNumber%6===0&&this.communication.sendMove(this.paddle.position,this.paddle.rotation)),this.config.state===h.STATE.PLAYING&&(this.physics.step(e/this.physicsTimeStep),this.updateBall(this.ball),this.physics.predictCollisions(this.physics.ball,this.paddle,this.scene.getObjectByName("net-collider"))),M&&this.physicsDebugRenderer.update(),this.controls&&(this.controls.update(),0===this.camera.position.x&&0===this.camera.position.z&&(this.camera.position.z=1)),this.time.step(),this.lastRender=t,this.manager.render(this.scene,this.camera,this.timestamp),this.frameNumber++,requestAnimationFrame(this.animate.bind(this))}},{key:"onResize",value:function(t){this.effect.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix()}}]),t}();e["default"]=D},function(t,e,i){var n,r;(function(s){/*!
	 * VERSION: 1.19.0
	 * DATE: 2016-07-14
	 * UPDATES AND DOCS AT: http://greensock.com
	 * 
	 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
	 *
	 * @license Copyright (c) 2008-2016, GreenSock. All rights reserved.
	 * This work is subject to the terms at http://greensock.com/standard-license or for
	 * Club GreenSock members, the software agreement that was issued with your membership.
	 * 
	 * @author: Jack Doyle, jack@greensock.com
	 **/
var o="undefined"!=typeof t&&t.exports&&"undefined"!=typeof s?s:this||window;(o._gsQueue||(o._gsQueue=[])).push(function(){"use strict";o._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},r=function(t,e,i){var n,r,s=t.cycle;for(n in s)r=s[n],t[n]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},s=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=s.prototype.render},o=1e-10,a=i._internals,h=a.isSelector,l=a.isArray,c=s.prototype=i.to({},.1,{}),u=[];s.version="1.19.0",c.constructor=s,c.kill()._gc=!1,s.killTweensOf=s.killDelayedCallsTo=i.killTweensOf,s.getTweensOf=i.getTweensOf,s.lagSmoothing=i.lagSmoothing,s.ticker=i.ticker,s.render=i.render,c.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},c.updateTo=function(t,e){var n,r=this.ratio,s=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in t)this.vars[n]=t[n];if(this._initted||s)if(e)this._initted=!1,s&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var o=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(o,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||s)for(var a,h=1/(1-r),l=this._firstPT;l;)a=l.s+l.c,l.c*=h,l.s=a-l.c,l=l._next;return this},c.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,r,s,h,l,c,u,p,f=this._dirty?this.totalDuration():this._totalDuration,d=this._time,m=this._totalTime,y=this._cycle,g=this._duration,v=this._rawPrevTime;if(t>=f-1e-7?(this._totalTime=f,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=g,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===g&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(v<0||t<=0&&t>=-1e-7||v===o&&"isPause"!==this.data)&&v!==t&&(i=!0,v>o&&(r="onReverseComplete")),this._rawPrevTime=p=!e||t||v===t?t:o)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===g&&v>0)&&(r="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===g&&(this._initted||!this.vars.lazy||i)&&(v>=0&&(i=!0),this._rawPrevTime=p=!e||t||v===t?t:o)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(h=g+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&m<=t&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!==(1&this._cycle)&&(this._time=g-this._time),this._time>g?this._time=g:this._time<0&&(this._time=0)),this._easeType?(l=this._time/g,c=this._easeType,u=this._easePower,(1===c||3===c&&l>=.5)&&(l=1-l),3===c&&(l*=2),1===u?l*=l:2===u?l*=l*l:3===u?l*=l*l*l:4===u&&(l*=l*l*l*l),1===c?this.ratio=1-l:2===c?this.ratio=l:this._time/g<.5?this.ratio=l/2:this.ratio=1-l/2):this.ratio=this._ease.getRatio(this._time/g)),d===this._time&&!i&&y===this._cycle)return void(m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=d,this._totalTime=m,this._rawPrevTime=v,this._cycle=y,a.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/g):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==d&&t>=0&&(this._active=!0),0===m&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==g||e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==m||r)&&this._callback("onUpdate")),this._cycle!==y&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),r&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===g&&this._rawPrevTime===o&&p!==o&&(this._rawPrevTime=0)))},s.to=function(t,e,i){return new s(t,e,i)},s.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new s(t,e,i)},s.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new s(t,e,n)},s.staggerTo=s.allTo=function(t,e,o,a,c,p,f){a=a||0;var d,m,y,g,v=0,_=[],b=function(){o.onComplete&&o.onComplete.apply(o.onCompleteScope||this,arguments),c.apply(f||o.callbackScope||this,p||u)},E=o.cycle,T=o.startAt&&o.startAt.cycle;for(l(t)||("string"==typeof t&&(t=i.selector(t)||t),h(t)&&(t=n(t))),t=t||[],a<0&&(t=n(t),t.reverse(),a*=-1),d=t.length-1,y=0;y<=d;y++){m={};for(g in o)m[g]=o[g];if(E&&(r(m,t,y),null!=m.duration&&(e=m.duration,delete m.duration)),T){T=m.startAt={};for(g in o.startAt)T[g]=o.startAt[g];r(m.startAt,t,y)}m.delay=v+(m.delay||0),y===d&&c&&(m.onComplete=b),_[y]=new s(t[y],e,m),v+=a}return _},s.staggerFrom=s.allFrom=function(t,e,i,n,r,o,a){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,s.staggerTo(t,e,i,n,r,o,a)},s.staggerFromTo=s.allFromTo=function(t,e,i,n,r,o,a,h){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,s.staggerTo(t,e,n,r,o,a,h)},s.delayedCall=function(t,e,i,n,r){return new s(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},s.set=function(t,e){return new s(t,0,e)},s.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var p=function(t,e){for(var n=[],r=0,s=t._first;s;)s instanceof i?n[r++]=s:(e&&(n[r++]=s),n=n.concat(p(s,e)),r=n.length),s=s._next;return n},f=s.getAllTweens=function(e){return p(t._rootTimeline,e).concat(p(t._rootFramesTimeline,e))};s.killAll=function(t,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var s,o,a,h=f(0!=r),l=h.length,c=i&&n&&r;for(a=0;a<l;a++)o=h[a],(c||o instanceof e||(s=o.target===o.vars.onComplete)&&n||i&&!s)&&(t?o.totalTime(o._reversed?0:o.totalDuration()):o._enabled(!1,!1))},s.killChildTweensOf=function(t,e){if(null!=t){var r,o,c,u,p,f=a.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),h(t)&&(t=n(t)),l(t))for(u=t.length;--u>-1;)s.killChildTweensOf(t[u],e);else{r=[];for(c in f)for(o=f[c].target.parentNode;o;)o===t&&(r=r.concat(f[c].tweens)),o=o.parentNode;for(p=r.length,u=0;u<p;u++)e&&r[u].totalTime(r[u].totalDuration()),r[u]._enabled(!1,!1)}}};var d=function(t,i,n,r){i=i!==!1,n=n!==!1,r=r!==!1;for(var s,o,a=f(r),h=i&&n&&r,l=a.length;--l>-1;)o=a[l],(h||o instanceof e||(s=o.target===o.vars.onComplete)&&n||i&&!s)&&o.paused(t)};return s.pauseAll=function(t,e,i){d(!0,t,e,i)},s.resumeAll=function(t,e,i){d(!1,t,e,i)},s.globalTimeScale=function(e){var n=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||o,n._startTime=r-(r-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},c.totalDuration=function(t){return arguments.length?this._repeat===-1?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},s},!0),o._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],l(i)&&i.join("").indexOf("{self}")!==-1&&(r[n]=this._swapSelfInParams(i));l(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,s=i._internals,a=n._internals={},h=s.isSelector,l=s.isArray,c=s.lazyTweens,u=s.lazyRender,p=o._gsDefine.globals,f=function(t){var e,i={};for(e in t)i[e]=t[e];return i},d=function(t,e,i){var n,r,s=t.cycle;for(n in s)r=s[n],t[n]="function"==typeof r?r.call(e[i],i):r[i%r.length];delete t.cycle},m=a.pauseCallback=function(){},y=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},g=n.prototype=new e;return n.version="1.19.0",g.constructor=n,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(t,e,n,r){var s=n.repeat&&p.TweenMax||i;return e?this.add(new s(t,e,n),r):this.set(t,n,r)},g.from=function(t,e,n,r){return this.add((n.repeat&&p.TweenMax||i).from(t,e,n),r)},g.fromTo=function(t,e,n,r,s){var o=r.repeat&&p.TweenMax||i;return e?this.add(o.fromTo(t,e,n,r),s):this.set(t,r,s)},g.staggerTo=function(t,e,r,s,o,a,l,c){var u,p,m=new n({onComplete:a,onCompleteParams:l,callbackScope:c,smoothChildTiming:this.smoothChildTiming}),g=r.cycle;for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],h(t)&&(t=y(t)),s=s||0,s<0&&(t=y(t),t.reverse(),s*=-1),p=0;p<t.length;p++)u=f(r),u.startAt&&(u.startAt=f(u.startAt),u.startAt.cycle&&d(u.startAt,t,p)),g&&(d(u,t,p),null!=u.duration&&(e=u.duration,delete u.duration)),m.to(t[p],e,u,p*s);return this.add(m,o)},g.staggerFrom=function(t,e,i,n,r,s,o,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,s,o,a)},g.staggerFromTo=function(t,e,i,n,r,s,o,a,h){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,s,o,a,h)},g.call=function(t,e,n,r){return this.add(i.delayedCall(0,t,e,n),r)},g.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,s,o=new n(t),a=o._timeline;for(null==e&&(e=!0),a._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=a._time,r=a._first;r;)s=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||o.add(r,r._startTime-r._delay),r=s;return a.add(o,0),o},g.add=function(r,s,o,a){var h,c,u,p,f,d;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&l(r)){for(o=o||"normal",a=a||0,h=s,c=r.length,u=0;u<c;u++)l(p=r[u])&&(p=new n({tweens:p})),this.add(p,h),"string"!=typeof p&&"function"!=typeof p&&("sequence"===o?h=p._startTime+p.totalDuration()/p._timeScale:"start"===o&&(p._startTime-=p.delay())),h+=a;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,s);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,s),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=this,d=f.rawTime()>r._startTime;f._timeline;)d&&f._timeline.smoothChildTiming?f.totalTime(f._totalTime,!0):f._gc&&f._enabled(!0,!1),f=f._timeline;return this},g.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&l(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},g._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},g.insert=g.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},g.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},g.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},g.addPause=function(t,e,n,r){var s=i.delayedCall(0,m,n,r||this);return s.vars.onComplete=s.vars.onReverseComplete=e,s.data="isPause",this._hasPause=!0,this.add(s,t)},g.removeLabel=function(t){return delete this._labels[t],this},g.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},g._parseTimeOrLabel=function(e,i,n,r){var s;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&l(r)))for(s=r.length;--s>-1;)r[s]instanceof t&&r[s].timeline===this&&this.remove(r[s]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(s=e.indexOf("="),s===-1)return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(s-1)+"1",10)*Number(e.substr(s+1)),e=s>1?this._parseTimeOrLabel(e.substr(0,s-1),0,n):this.duration()}return Number(e)+i},g.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(t,e){return this.play(t,e)},g.gotoAndStop=function(t,e){return this.pause(t,e)},g.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,s,o,a,h,l,p,f=this._dirty?this.totalDuration():this._totalDuration,d=this._time,m=this._startTime,y=this._timeScale,g=this._paused;if(t>=f-1e-7)this._totalTime=this._time=f,this._reversed||this._hasPausedChild()||(s=!0,a="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(h=!0,this._rawPrevTime>r&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,t=f+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==d||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(a="onReverseComplete",s=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=s=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(h=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,0===t&&s)for(n=this._first;n&&0===n._startTime;)n._duration||(s=!1),n=n._next;t=0,this._initted||(h=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=d)for(n=this._first;n&&n._startTime<=t&&!l;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(l=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!l;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(l=n),n=n._prev;l&&(this._time=t=l._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==d&&this._first||i||h||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==d&&t>0&&(this._active=!0),0===d&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),p=this._time,p>=d)for(n=this._first;n&&(o=n._next,p===this._time&&(!this._paused||g));)(n._active||n._startTime<=p&&!n._paused&&!n._gc)&&(l===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=o;else for(n=this._last;n&&(o=n._prev,p===this._time&&(!this._paused||g));){if(n._active||n._startTime<=d&&!n._paused&&!n._gc){if(l===n){for(l=n._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(t-l._startTime)*l._timeScale:(t-l._startTime)*l._timeScale,e,i),l=l._prev;l=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=o}this._onUpdate&&(e||(c.length&&u(),this._callback("onUpdate"))),a&&(this._gc||m!==this._startTime&&y===this._timeScale||(0===this._time||f>=this.totalDuration())&&(s&&(c.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a)))}},g._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},g.getChildren=function(t,e,n,r){r=r||-9999999999;for(var s=[],o=this._first,a=0;o;)o._startTime<r||(o instanceof i?e!==!1&&(s[a++]=o):(n!==!1&&(s[a++]=o),t!==!1&&(s=s.concat(o.getChildren(!0,e,n)),a=s.length))),o=o._next;return s},g.getTweensOf=function(t,e){var n,r,s=this._gc,o=[],a=0;for(s&&this._enabled(!0,!0),n=i.getTweensOf(t),r=n.length;--r>-1;)(n[r].timeline===this||e&&this._contains(n[r]))&&(o[a++]=n[r]);return s&&this._enabled(!1,!0),o},g.recent=function(){return this._recent},g._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},g.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,s=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return this._uncache(!0)},g._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},g.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},g._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},g.totalTime=function(e,i,n){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},g.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,s=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>s&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):s=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),s=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},g.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},g.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0),o._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,s=e._internals,a=s.lazyTweens,h=s.lazyRender,l=o._gsDefine.globals,c=new i(null,null,1,0),u=n.prototype=new t;return u.constructor=n,u.kill()._gc=!1,n.version="1.19.0",u.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},u.addCallback=function(t,i,n,r){return this.add(e.delayedCall(0,t,n,r),i)},u.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},u.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},u.tweenTo=function(t,i){i=i||{};var n,r,s,o={ease:c,useFrames:this.usesFrames(),immediateRender:!1},a=i.repeat&&l.TweenMax||e;for(r in i)o[r]=i[r];return o.time=this._parseTimeOrLabel(t),n=Math.abs(Number(o.time)-this._time)/this._timeScale||.001,s=new a(this,n,o),o.onStart=function(){s.target.paused(!0),s.vars.time!==s.target.time()&&n===s.duration()&&s.duration(Math.abs(s.vars.time-s.target.time())/s.target._timeScale),i.onStart&&s._callback("onStart")},s},u.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=i.immediateRender!==!1;var n=this.tweenTo(e,i);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},u.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,s,o,l,c,u,p,f,d=this._dirty?this.totalDuration():this._totalDuration,m=this._duration,y=this._time,g=this._totalTime,v=this._startTime,_=this._timeScale,b=this._rawPrevTime,E=this._paused,T=this._cycle;if(t>=d-1e-7)this._locked||(this._totalTime=d,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(s=!0,l="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||b<0||b===r)&&b!==t&&this._first&&(c=!0,b>r&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=m,t=m+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==y||0===m&&b!==r&&(b>0||t<0&&b>=0)&&!this._locked)&&(l="onReverseComplete",s=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=s=!0,l="onReverseComplete"):b>=0&&this._first&&(c=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=m||!e||t||this._rawPrevTime===t?t:r,0===t&&s)for(n=this._first;n&&0===n._startTime;)n._duration||(s=!1),n=n._next;t=0,this._initted||(c=!0)}else if(0===m&&b<0&&(c=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(u=m+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&g<=t&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!==(1&this._cycle)&&(this._time=m-this._time),this._time>m?(this._time=m,t=m+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(t=this._time,t>=y)for(n=this._first;n&&n._startTime<=t&&!p;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(p=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!p;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(p=n),n=n._prev;p&&(this._time=t=p._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==T&&!this._locked){var A=this._yoyo&&0!==(1&T),w=A===(this._yoyo&&0!==(1&this._cycle)),C=this._totalTime,x=this._cycle,S=this._rawPrevTime,P=this._time;if(this._totalTime=T*m,this._cycle<T?A=!A:this._totalTime+=m,this._time=y,this._rawPrevTime=0===m?b-1e-4:b,this._cycle=T,this._locked=!0,y=A?0:m,this.render(y,e,0===m),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),y!==this._time)return;if(w&&(y=A?m+1e-4:-1e-4,this.render(y,!0,!1)),this._locked=!1,this._paused&&!E)return;this._time=P,this._totalTime=C,this._cycle=x,this._rawPrevTime=S}if(!(this._time!==y&&this._first||i||c||p))return void(g!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==g&&t>0&&(this._active=!0),0===g&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),f=this._time,f>=y)for(n=this._first;n&&(o=n._next,f===this._time&&(!this._paused||E));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(p===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=o;else for(n=this._last;n&&(o=n._prev,f===this._time&&(!this._paused||E));){if(n._active||n._startTime<=y&&!n._paused&&!n._gc){if(p===n){for(p=n._prev;p&&p.endTime()>this._time;)p.render(p._reversed?p.totalDuration()-(t-p._startTime)*p._timeScale:(t-p._startTime)*p._timeScale,e,i),p=p._prev;p=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=o}this._onUpdate&&(e||(a.length&&h(),this._callback("onUpdate"))),l&&(this._locked||this._gc||v!==this._startTime&&_===this._timeScale||(0===this._time||d>=this.totalDuration())&&(s&&(a.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this._callback(l)))},u.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,r,s=[],o=this.getChildren(t,e,i),a=0,h=o.length;for(n=0;n<h;n++)r=o[n],r.isActive()&&(s[a++]=r);return s},u.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;e<n;e++)if(i[e].time>t)return i[e].name;return null},u.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},u.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},u.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},u.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},u.totalDuration=function(e){return arguments.length?this._repeat!==-1&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},u.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var t=180/Math.PI,e=[],i=[],n=[],r={},s=o._gsDefine.globals,a=function(t,e,i,n){i===n&&(i=n-(n-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},h=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",l=function(t,e,i,n){var r={a:t},s={},o={},a={c:n},h=(t+e)/2,l=(e+i)/2,c=(i+n)/2,u=(h+l)/2,p=(l+c)/2,f=(p-u)/8;return r.b=h+(t-h)/4,s.b=u+f,r.c=s.a=(r.b+s.b)/2,s.c=o.a=(u+p)/2,o.b=p-f,a.b=c+(n-c)/4,o.c=a.a=(o.b+a.b)/2,[r,s,o,a]},c=function(t,r,s,o,a){var h,c,u,p,f,d,m,y,g,v,_,b,E,T=t.length-1,A=0,w=t[0].a;for(h=0;h<T;h++)f=t[A],c=f.a,u=f.d,p=t[A+1].d,a?(_=e[h],b=i[h],E=(b+_)*r*.25/(o?.5:n[h]||.5),d=u-(u-c)*(o?.5*r:0!==_?E/_:0),m=u+(p-u)*(o?.5*r:0!==b?E/b:0),y=u-(d+((m-d)*(3*_/(_+b)+.5)/4||0))):(d=u-(u-c)*r*.5,m=u+(p-u)*r*.5,y=u-(d+m)/2),d+=y,m+=y,f.c=g=d,0!==h?f.b=w:f.b=w=f.a+.6*(f.c-f.a),f.da=u-c,f.ca=g-c,f.ba=w-c,s?(v=l(c,w,g,u),t.splice(A,1,v[0],v[1],v[2],v[3]),A+=4):A++,w=m;f=t[A],f.b=w,f.c=w+.4*(f.d-w),f.da=f.d-f.a,f.ca=f.c-f.a,f.ba=w-f.a,s&&(v=l(f.a,w,f.c,f.d),t.splice(A,1,v[0],v[1],v[2],v[3]))},u=function(t,n,r,s){var o,h,l,c,u,p,f=[];if(s)for(t=[s].concat(t),h=t.length;--h>-1;)"string"==typeof(p=t[h][n])&&"="===p.charAt(1)&&(t[h][n]=s[n]+Number(p.charAt(0)+p.substr(2)));if(o=t.length-2,o<0)return f[0]=new a(t[0][n],0,0,t[o<-1?0:1][n]),f;for(h=0;h<o;h++)l=t[h][n],c=t[h+1][n],f[h]=new a(l,0,0,c),r&&(u=t[h+2][n],e[h]=(e[h]||0)+(c-l)*(c-l),i[h]=(i[h]||0)+(u-c)*(u-c));return f[h]=new a(t[h][n],0,0,t[h+1][n]),f},p=function(t,s,o,a,l,p){var f,d,m,y,g,v,_,b,E={},T=[],A=p||t[0];l="string"==typeof l?","+l+",":h,null==s&&(s=1);for(d in t[0])T.push(d);if(t.length>1){for(b=t[t.length-1],_=!0,f=T.length;--f>-1;)if(d=T[f],Math.abs(A[d]-b[d])>.05){_=!1;break}_&&(t=t.concat(),p&&t.unshift(p),t.push(t[1]),p=t[t.length-3])}for(e.length=i.length=n.length=0,f=T.length;--f>-1;)d=T[f],r[d]=l.indexOf(","+d+",")!==-1,E[d]=u(t,d,r[d],p);for(f=e.length;--f>-1;)e[f]=Math.sqrt(e[f]),i[f]=Math.sqrt(i[f]);if(!a){for(f=T.length;--f>-1;)if(r[d])for(m=E[T[f]],v=m.length-1,y=0;y<v;y++)g=m[y+1].da/i[y]+m[y].da/e[y]||0,n[y]=(n[y]||0)+g*g;for(f=n.length;--f>-1;)n[f]=Math.sqrt(n[f])}for(f=T.length,y=o?4:1;--f>-1;)d=T[f],m=E[d],c(m,s,o,a,r[d]),_&&(m.splice(0,y),m.splice(m.length-y,y));return E},f=function(t,e,i){e=e||"soft";var n,r,s,o,h,l,c,u,p,f,d,m={},y="cubic"===e?3:2,g="soft"===e,v=[];if(g&&i&&(t=[i].concat(t)),null==t||t.length<y+1)throw"invalid Bezier data";for(p in t[0])v.push(p);for(l=v.length;--l>-1;){for(p=v[l],m[p]=h=[],f=0,u=t.length,c=0;c<u;c++)n=null==i?t[c][p]:"string"==typeof(d=t[c][p])&&"="===d.charAt(1)?i[p]+Number(d.charAt(0)+d.substr(2)):Number(d),g&&c>1&&c<u-1&&(h[f++]=(n+h[f-2])/2),h[f++]=n;for(u=f-y+1,f=0,c=0;c<u;c+=y)n=h[c],r=h[c+1],s=h[c+2],o=2===y?0:h[c+3],h[f++]=d=3===y?new a(n,r,s,o):new a(n,(2*r+n)/3,(2*r+s)/3,s);h.length=f}return m},d=function(t,e,i){for(var n,r,s,o,a,h,l,c,u,p,f,d=1/i,m=t.length;--m>-1;)for(p=t[m],s=p.a,o=p.d-s,a=p.c-s,h=p.b-s,n=r=0,c=1;c<=i;c++)l=d*c,u=1-l,n=r-(r=(l*l*o+3*u*(l*a+u*h))*l),f=m*i+c-1,e[f]=(e[f]||0)+n*n},m=function(t,e){e=e>>0||6;var i,n,r,s,o=[],a=[],h=0,l=0,c=e-1,u=[],p=[];for(i in t)d(t[i],o,e);for(r=o.length,n=0;n<r;n++)h+=Math.sqrt(o[n]),s=n%e,p[s]=h,s===c&&(l+=h,s=n/e>>0,u[s]=p,a[s]=l,h=0,p=[]);return{length:l,lengths:a,segments:u}},y=o._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,
global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,r,s,o,a,h=e.values||[],l={},c=h[0],u=e.autoRotate||i.vars.orientToBezier;this._autoRotate=u?u instanceof Array?u:[["x","y","rotation",u===!0?0:Number(u)||0]]:null;for(n in c)this._props.push(n);for(s=this._props.length;--s>-1;)n=this._props[s],this._overwriteProps.push(n),r=this._func[n]="function"==typeof t[n],l[n]=r?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),a||l[n]!==h[0][n]&&(a=l);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?p(h,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,a):f(h,e.type,l),this._segCount=this._beziers[n].length,this._timeRes){var d=m(this._beziers,this._timeRes);this._length=d.length,this._lengths=d.lengths,this._segments=d.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(u=this._autoRotate)for(this._initialRotations=[],u[0]instanceof Array||(this._autoRotate=u=[u]),s=u.length;--s>-1;){for(o=0;o<3;o++)n=u[s][o],this._func[n]="function"==typeof t[n]&&t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)];n=u[s][2],this._initialRotations[s]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0,this._overwriteProps.push(n)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,n,r,s,o,a,h,l,c,u,p=this._segCount,f=this._func,d=this._target,m=e!==this._startRatio;if(this._timeRes){if(c=this._lengths,u=this._curSeg,e*=this._length,r=this._li,e>this._l2&&r<p-1){for(l=p-1;r<l&&(this._l2=c[++r])<=e;);this._l1=c[r-1],this._li=r,this._curSeg=u=this._segments[r],this._s2=u[this._s1=this._si=0]}else if(e<this._l1&&r>0){for(;r>0&&(this._l1=c[--r])>=e;);0===r&&e<this._l1?this._l1=0:r++,this._l2=c[r],this._li=r,this._curSeg=u=this._segments[r],this._s1=u[(this._si=u.length-1)-1]||0,this._s2=u[this._si]}if(i=r,e-=this._l1,r=this._si,e>this._s2&&r<u.length-1){for(l=u.length-1;r<l&&(this._s2=u[++r])<=e;);this._s1=u[r-1],this._si=r}else if(e<this._s1&&r>0){for(;r>0&&(this._s1=u[--r])>=e;);0===r&&e<this._s1?this._s1=0:r++,this._s2=u[r],this._si=r}a=(r+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else i=e<0?0:e>=1?p-1:p*e>>0,a=(e-i*(1/p))*p;for(n=1-a,r=this._props.length;--r>-1;)s=this._props[r],o=this._beziers[s][i],h=(a*a*o.da+3*n*(a*o.ca+n*o.ba))*a+o.a,this._mod[s]&&(h=this._mod[s](h,d)),f[s]?d[s](h):d[s]=h;if(this._autoRotate){var y,g,v,_,b,E,T,A=this._autoRotate;for(r=A.length;--r>-1;)s=A[r][2],E=A[r][3]||0,T=A[r][4]===!0?1:t,o=this._beziers[A[r][0]],y=this._beziers[A[r][1]],o&&y&&(o=o[i],y=y[i],g=o.a+(o.b-o.a)*a,_=o.b+(o.c-o.b)*a,g+=(_-g)*a,_+=(o.c+(o.d-o.c)*a-_)*a,v=y.a+(y.b-y.a)*a,b=y.b+(y.c-y.b)*a,v+=(b-v)*a,b+=(y.c+(y.d-y.c)*a-b)*a,h=m?Math.atan2(b-v,_-g)*T+E:this._initialRotations[r],this._mod[s]&&(h=this._mod[s](h,d)),f[s]?d[s](h):d[s]=h)}}}),g=y.prototype;y.bezierThrough=p,y.cubicToQuadratic=l,y._autoCSS=!0,y.quadraticToCubic=function(t,e,i){return new a(t,(2*e+t)/3,(2*e+i)/3,i)},y._cssRegister=function(){var t=s.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,s,o,a,h){e instanceof Array&&(e={values:e}),h=new y;var l,c,u,p=e.values,f=p.length-1,d=[],m={};if(f<0)return a;for(l=0;l<=f;l++)u=i(t,p[l],o,a,h,f!==l),d[l]=u.end;for(c in e)m[c]=e[c];return m.values=d,a=new r(t,"bezier",0,0,u.pt,2),a.data=u,a.plugin=h,a.setRatio=n,0===m.autoRotate&&(m.autoRotate=!0),!m.autoRotate||m.autoRotate instanceof Array||(l=m.autoRotate===!0?0:Number(m.autoRotate),m.autoRotate=null!=u.end.left?[["left","top","rotation",l,!1]]:null!=u.end.x&&[["x","y","rotation",l,!1]]),m.autoRotate&&(o._transform||o._enableTransforms(!1),u.autoRotate=o._target._gsTransform,u.proxy.rotation=u.autoRotate.rotation||0,o._overwriteProps.push("rotation")),h._onInitTween(u.proxy,m,o._tween),a}})}},g._mod=function(t){for(var e,i=this._overwriteProps,n=i.length;--n>-1;)e=t[i[n]],e&&"function"==typeof e&&(this._mod[i[n]]=e)},g._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);if(n=this._autoRotate)for(i=n.length;--i>-1;)t[n[i][2]]&&n.splice(i,1);return this._super._kill.call(this,t)}}(),o._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,r,s,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},h=o._gsDefine.globals,l={},c=a.prototype=new t("css");c.constructor=a,a.version="1.19.0",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,c="px",a.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var u,p,f,d,m,y,g,v,_=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,E=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,T=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,A=/(?:\d|\-|\+|=|#|\.)*/g,w=/opacity *= *([^)]*)/i,C=/opacity:([^;]*)/i,x=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,P=/([A-Z])/g,k=/-([a-z])/gi,I=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,R=function(t,e){return e.toUpperCase()},N=/(?:Left|Right|Width)/i,O=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,M=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,L=/[\s,\(]/i,B=Math.PI/180,F=180/Math.PI,j={},V=document,H=function(t){return V.createElementNS?V.createElementNS("http://www.w3.org/1999/xhtml",t):V.createElement(t)},z=H("div"),G=H("img"),U=a._internals={_specialProps:l},q=navigator.userAgent,W=function(){var t=q.indexOf("Android"),e=H("a");return f=q.indexOf("Safari")!==-1&&q.indexOf("Chrome")===-1&&(t===-1||Number(q.substr(t+8,1))>3),m=f&&Number(q.substr(q.indexOf("Version/")+8,1))<6,d=q.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(q)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(q))&&(y=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),Y=function(t){return w.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},X=function(t){window.console&&console.log(t)},$="",Z="",Q=function(t,e){e=e||z;var i,n,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?(Z=3===n?"ms":i[n],$="-"+Z.toLowerCase()+"-",Z+t):null},J=V.defaultView?V.defaultView.getComputedStyle:function(){},K=a.getStyle=function(t,e,i,n,r){var s;return W||"opacity"!==e?(!n&&t.style[e]?s=t.style[e]:(i=i||J(t))?s=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(P,"-$1").toLowerCase()):t.currentStyle&&(s=t.currentStyle[e]),null==r||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:r):Y(t)},tt=U.convertToPixels=function(t,i,n,r,s){if("px"===r||!r)return n;if("auto"===r||!n)return 0;var o,h,l,c=N.test(i),u=t,p=z.style,f=n<0,d=1===n;if(f&&(n=-n),d&&(n*=100),"%"===r&&i.indexOf("border")!==-1)o=n/100*(c?t.clientWidth:t.clientHeight);else{if(p.cssText="border:0 solid red;position:"+K(t,"position")+";line-height:0;","%"!==r&&u.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)p[c?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(u=t.parentNode||V.body,h=u._gsCache,l=e.ticker.frame,h&&c&&h.time===l)return h.width*n/100;p[c?"width":"height"]=n+r}u.appendChild(z),o=parseFloat(z[c?"offsetWidth":"offsetHeight"]),u.removeChild(z),c&&"%"===r&&a.cacheWidths!==!1&&(h=u._gsCache=u._gsCache||{},h.time=l,h.width=o/n*100),0!==o||s||(o=tt(t,i,n,r,!0))}return d&&(o/=100),f?-o:o},et=U.calculateOffset=function(t,e,i){if("absolute"!==K(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=K(t,"margin"+n,i);return t["offset"+n]-(tt(t,e,parseFloat(r),r.replace(A,""))||0)},it=function(t,e){var i,n,r,s={};if(e=e||J(t,null))if(i=e.length)for(;--i>-1;)r=e[i],r.indexOf("-transform")!==-1&&kt!==r||(s[r.replace(k,R)]=e.getPropertyValue(r));else for(i in e)i.indexOf("Transform")!==-1&&Pt!==i||(s[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===s[i]&&(s[i.replace(k,R)]=e[i]);return W||(s.opacity=Y(t)),n=zt(t,e,!1),s.rotation=n.rotation,s.skewX=n.skewX,s.scaleX=n.scaleX,s.scaleY=n.scaleY,s.x=n.x,s.y=n.y,Rt&&(s.z=n.z,s.rotationX=n.rotationX,s.rotationY=n.rotationY,s.scaleZ=n.scaleZ),s.filters&&delete s.filters,s},nt=function(t,e,i,n,r){var s,o,a,h={},l=t.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(e[o]!==(s=i[o])||r&&r[o])&&o.indexOf("Origin")===-1&&("number"!=typeof s&&"string"!=typeof s||(h[o]="auto"!==s||"left"!==o&&"top"!==o?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[o]||""===e[o].replace(T,"")?s:0:et(t,o),void 0!==l[o]&&(a=new vt(l,o,l[o],a))));if(n)for(o in n)"className"!==o&&(h[o]=n[o]);return{difs:h,firstMPT:a}},rt={width:["Left","Right"],height:["Top","Bottom"]},st=["marginLeft","marginRight","marginTop","marginBottom"],ot=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||J(t))[e]||0;if(t.getBBox&&jt(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=rt[e],s=r.length;for(i=i||J(t,null);--s>-1;)n-=parseFloat(K(t,"padding"+r[s],i,!0))||0,n-=parseFloat(K(t,"border"+r[s]+"Width",i,!0))||0;return n},at=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var i,n=t.split(" "),r=t.indexOf("left")!==-1?"0%":t.indexOf("right")!==-1?"100%":n[0],s=t.indexOf("top")!==-1?"0%":t.indexOf("bottom")!==-1?"100%":n[1];if(n.length>3&&!e){for(n=t.split(", ").join(",").split(","),t=[],i=0;i<n.length;i++)t.push(at(n[i]));return t.join(",")}return null==s?s="center"===r?"50%":"0":"center"===s&&(s="50%"),("center"===r||isNaN(parseFloat(r))&&(r+"").indexOf("=")===-1)&&(r="50%"),t=r+" "+s+(n.length>2?" "+n[2]:""),e&&(e.oxp=r.indexOf("%")!==-1,e.oyp=s.indexOf("%")!==-1,e.oxr="="===r.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(r.replace(T,"")),e.oy=parseFloat(s.replace(T,"")),e.v=t),e||t},ht=function(t,e){return"function"==typeof t&&(t=t(v,g)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},lt=function(t,e){return"function"==typeof t&&(t=t(v,g)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ct=function(t,e,i,n){var r,s,o,a,h,l=1e-6;return"function"==typeof t&&(t=t(v,g)),null==t?a=e:"number"==typeof t?a=t:(r=360,s=t.split("_"),h="="===t.charAt(1),o=(h?parseInt(t.charAt(0)+"1",10)*parseFloat(s[0].substr(2)):parseFloat(s[0]))*(t.indexOf("rad")===-1?1:F)-(h?0:e),s.length&&(n&&(n[i]=e+o),t.indexOf("short")!==-1&&(o%=r,o!==o%(r/2)&&(o=o<0?o+r:o-r)),t.indexOf("_cw")!==-1&&o<0?o=(o+9999999999*r)%r-(o/r|0)*r:t.indexOf("ccw")!==-1&&o>0&&(o=(o-9999999999*r)%r-(o/r|0)*r)),a=e+o),a<l&&a>-l&&(a=0),a},ut={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},pt=function(t,e,i){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},ft=a.parseColor=function(t,e){var i,n,r,s,o,a,h,l,c,u,p;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ut[t])i=ut[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),r=t.charAt(2),s=t.charAt(3),t="#"+n+n+r+r+s+s),t=parseInt(t.substr(1),16),i=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=p=t.match(_),e){if(t.indexOf("=")!==-1)return t.match(b)}else o=Number(i[0])%360/360,a=Number(i[1])/100,h=Number(i[2])/100,r=h<=.5?h*(a+1):h+a-h*a,n=2*h-r,i.length>3&&(i[3]=Number(t[3])),i[0]=pt(o+1/3,n,r),i[1]=pt(o,n,r),i[2]=pt(o-1/3,n,r);else i=t.match(_)||ut.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=ut.black;return e&&!p&&(n=i[0]/255,r=i[1]/255,s=i[2]/255,l=Math.max(n,r,s),c=Math.min(n,r,s),h=(l+c)/2,l===c?o=a=0:(u=l-c,a=h>.5?u/(2-l-c):u/(l+c),o=l===n?(r-s)/u+(r<s?6:0):l===r?(s-n)/u+2:(n-r)/u+4,o*=60),i[0]=o+.5|0,i[1]=100*a+.5|0,i[2]=100*h+.5|0),i},dt=function(t,e){var i,n,r,s=t.match(mt)||[],o=0,a=s.length?"":t;for(i=0;i<s.length;i++)n=s[i],r=t.substr(o,t.indexOf(n,o)-o),o+=r.length+n.length,n=ft(n,e),3===n.length&&n.push(1),a+=r+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return a+t.substr(o)},mt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in ut)mt+="|"+c+"\\b";mt=new RegExp(mt+")","gi"),a.colorStringFilter=function(t){var e,i=t[0]+t[1];mt.test(i)&&(e=i.indexOf("hsl(")!==-1||i.indexOf("hsla(")!==-1,t[0]=dt(t[0],e),t[1]=dt(t[1],e)),mt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=a.colorStringFilter);var yt=function(t,e,i,n){if(null==t)return function(t){return t};var r,s=e?(t.match(mt)||[""])[0]:"",o=t.split(s).join("").match(E)||[],a=t.substr(0,t.indexOf(o[0])),h=")"===t.charAt(t.length-1)?")":"",l=t.indexOf(" ")!==-1?" ":",",c=o.length,u=c>0?o[0].replace(_,""):"";return c?r=e?function(t){var e,p,f,d;if("number"==typeof t)t+=u;else if(n&&D.test(t)){for(d=t.replace(D,"|").split("|"),f=0;f<d.length;f++)d[f]=r(d[f]);return d.join(",")}if(e=(t.match(mt)||[s])[0],p=t.split(e).join("").match(E)||[],f=p.length,c>f--)for(;++f<c;)p[f]=i?p[(f-1)/2|0]:o[f];return a+p.join(l)+l+e+h+(t.indexOf("inset")!==-1?" inset":"")}:function(t){var e,s,p;if("number"==typeof t)t+=u;else if(n&&D.test(t)){for(s=t.replace(D,"|").split("|"),p=0;p<s.length;p++)s[p]=r(s[p]);return s.join(",")}if(e=t.match(E)||[],p=e.length,c>p--)for(;++p<c;)e[p]=i?e[(p-1)/2|0]:o[p];return a+e.join(l)+h}:function(t){return t}},gt=function(t){return t=t.split(","),function(e,i,n,r,s,o,a){var h,l=(i+"").split(" ");for(a={},h=0;h<4;h++)a[t[h]]=l[h]=l[h]||l[(h-1)/2>>0];return r.parse(e,a,s,o)}},vt=(U._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,s,o=this.data,a=o.proxy,h=o.firstMPT,l=1e-6;h;)e=a[h.v],h.r?e=Math.round(e):e<l&&e>-l&&(e=0),h.t[h.p]=e,h=h._next;if(o.autoRotate&&(o.autoRotate.rotation=o.mod?o.mod(a.rotation,this.t):a.rotation),1===t||0===t)for(h=o.firstMPT,s=1===t?"e":"b";h;){if(i=h.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i[s]=r}}else i[s]=i.s+i.xs0;h=h._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),_t=(U._parseToProxy=function(t,e,i,n,r,s){var o,a,h,l,c,u=n,p={},f={},d=i._transform,m=j;for(i._transform=null,j=e,n=c=i.parse(t,e,n,r),j=m,s&&(i._transform=d,u&&(u._prev=null,u._prev&&(u._prev._next=null)));n&&n!==u;){if(n.type<=1&&(a=n.p,f[a]=n.s+n.c,p[a]=n.s,s||(l=new vt(n,"s",a,l,n.r),n.c=0),1===n.type))for(o=n.l;--o>0;)h="xn"+o,a=n.p+"_"+h,f[a]=n.data[h],p[a]=n[h],s||(l=new vt(n,h,a,l,n.rxp[h]));n=n._next}return{proxy:p,end:f,firstMPT:l,pt:c}},U.CSSPropTween=function(t,e,n,r,o,a,h,l,c,u,p){this.t=t,this.p=e,this.s=n,this.c=r,this.n=h||e,t instanceof _t||s.push(this.n),this.r=l,this.type=a||0,c&&(this.pr=c,i=!0),this.b=void 0===u?n:u,this.e=void 0===p?n+r:p,o&&(this._next=o,o._prev=this)}),bt=function(t,e,i,n,r,s){var o=new _t(t,e,i,n-i,r,(-1),s);return o.b=i,o.e=o.xs0=n,o},Et=a.parseComplex=function(t,e,i,n,r,s,o,h,l,c){i=i||s||"","function"==typeof n&&(n=n(v,g)),o=new _t(t,e,0,0,o,c?2:1,null,(!1),h,i,n),n+="",r&&mt.test(n+i)&&(n=[i,n],a.colorStringFilter(n),i=n[0],n=n[1]);var p,f,d,m,y,E,T,A,w,C,x,S,P,k=i.split(", ").join(",").split(" "),I=n.split(", ").join(",").split(" "),R=k.length,N=u!==!1;for(n.indexOf(",")===-1&&i.indexOf(",")===-1||(k=k.join(" ").replace(D,", ").split(" "),I=I.join(" ").replace(D,", ").split(" "),R=k.length),R!==I.length&&(k=(s||"").split(" "),R=k.length),o.plugin=l,o.setRatio=c,mt.lastIndex=0,p=0;p<R;p++)if(m=k[p],y=I[p],A=parseFloat(m),A||0===A)o.appendXtra("",A,ht(y,A),y.replace(b,""),N&&y.indexOf("px")!==-1,!0);else if(r&&mt.test(m))S=y.indexOf(")")+1,S=")"+(S?y.substr(S):""),P=y.indexOf("hsl")!==-1&&W,m=ft(m,P),y=ft(y,P),w=m.length+y.length>6,w&&!W&&0===y[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(I[p]).join("transparent")):(W||(w=!1),P?o.appendXtra(w?"hsla(":"hsl(",m[0],ht(y[0],m[0]),",",!1,!0).appendXtra("",m[1],ht(y[1],m[1]),"%,",!1).appendXtra("",m[2],ht(y[2],m[2]),w?"%,":"%"+S,!1):o.appendXtra(w?"rgba(":"rgb(",m[0],y[0]-m[0],",",!0,!0).appendXtra("",m[1],y[1]-m[1],",",!0).appendXtra("",m[2],y[2]-m[2],w?",":S,!0),w&&(m=m.length<4?1:m[3],o.appendXtra("",m,(y.length<4?1:y[3])-m,S,!1))),mt.lastIndex=0;else if(E=m.match(_)){if(T=y.match(b),!T||T.length!==E.length)return o;for(d=0,f=0;f<E.length;f++)x=E[f],C=m.indexOf(x,d),o.appendXtra(m.substr(d,C-d),Number(x),ht(T[f],x),"",N&&"px"===m.substr(C+x.length,2),0===f),d=C+x.length;o["xs"+o.l]+=m.substr(d)}else o["xs"+o.l]+=o.l||o["xs"+o.l]?" "+y:y;if(n.indexOf("=")!==-1&&o.data){for(S=o.xs0+o.data.s,p=1;p<o.l;p++)S+=o["xs"+p]+o.data["xn"+p];o.e=S+o["xs"+p]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},Tt=9;for(c=_t.prototype,c.l=c.pr=0;--Tt>0;)c["xn"+Tt]=0,c["xs"+Tt]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,i,n,r,s){var o=this,a=o.l;return o["xs"+a]+=s&&(a||o["xs"+a])?" "+t:t||"",i||0===a||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=n||"",a>0?(o.data["xn"+a]=e+i,o.rxp["xn"+a]=r,o["xn"+a]=e,o.plugin||(o.xfirst=new _t(o,"xn"+a,e,i,o.xfirst||o,0,o.n,r,o.pr),o.xfirst.xs0=0),o):(o.data={s:e+i},o.rxp={},o.s=e,o.c=i,o.r=r,o)):(o["xs"+a]+=e+(n||""),o)};var At=function(t,e){e=e||{},this.p=e.prefix?Q(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||yt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},wt=U._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,r,s=t.split(","),o=e.defaultValue;for(i=i||[o],n=0;n<s.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||o,r=new At(s[n],e)},Ct=U._registerPluginProp=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";wt(t,{parser:function(t,i,n,r,s,o,a){var c=h.com.greensock.plugins[e];return c?(c._cssRegister(),l[n].parse(t,i,n,r,s,o,a)):(X("Error: "+e+" js file not loaded."),s)}})}};c=At.prototype,c.parseComplex=function(t,e,i,n,r,s){var o,a,h,l,c,u,p=this.keyword;if(this.multi&&(D.test(i)||D.test(e)?(a=e.replace(D,"|").split("|"),h=i.replace(D,"|").split("|")):p&&(a=[e],h=[i])),h){for(l=h.length>a.length?h.length:a.length,o=0;o<l;o++)e=a[o]=a[o]||this.dflt,i=h[o]=h[o]||this.dflt,p&&(c=e.indexOf(p),u=i.indexOf(p),c!==u&&(u===-1?a[o]=a[o].split(p).join(""):c===-1&&(a[o]+=" "+p)));e=a.join(", "),i=h.join(", ")}return Et(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,s)},c.parse=function(t,e,i,n,s,o,a){return this.parseComplex(t.style,this.format(K(t,this.p,r,!1,this.dflt)),this.format(e),s,o)},a.registerSpecialProp=function(t,e,i){wt(t,{parser:function(t,n,r,s,o,a,h){var l=new _t(t,r,0,0,o,2,r,(!1),i);return l.plugin=a,l.setRatio=e(t,n,s._tween,r),l},priority:i})},a.useSVGTransformAttr=f||d;var xt,St="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Pt=Q("transform"),kt=$+"transform",It=Q("transformOrigin"),Rt=null!==Q("perspective"),Nt=U.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=!(a.defaultForce3D===!1||!Rt)&&(a.defaultForce3D||"auto")},Ot=window.SVGElement,Mt=function(t,e,i){var n,r=V.createElementNS("http://www.w3.org/2000/svg",t),s=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(s,"$1-$2").toLowerCase(),i[n]);return e.appendChild(r),r},Dt=V.documentElement,Lt=function(){var t,e,i,n=y||/Android/i.test(q)&&!window.chrome;return V.createElementNS&&!n&&(t=Mt("svg",Dt),e=Mt("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[It]="50% 50%",e.style[Pt]="scaleX(0.5)",n=i===e.getBoundingClientRect().width&&!(d&&Rt),Dt.removeChild(t)),n}(),Bt=function(t,e,i,n,r,s){var o,h,l,c,u,p,f,d,m,y,g,v,_,b,E=t._gsTransform,T=Ht(t,!0);E&&(_=E.xOrigin,b=E.yOrigin),(!n||(o=n.split(" ")).length<2)&&(f=t.getBBox(),e=at(e).split(" "),o=[(e[0].indexOf("%")!==-1?parseFloat(e[0])/100*f.width:parseFloat(e[0]))+f.x,(e[1].indexOf("%")!==-1?parseFloat(e[1])/100*f.height:parseFloat(e[1]))+f.y]),i.xOrigin=c=parseFloat(o[0]),i.yOrigin=u=parseFloat(o[1]),n&&T!==Vt&&(p=T[0],f=T[1],d=T[2],m=T[3],y=T[4],g=T[5],v=p*m-f*d,h=c*(m/v)+u*(-d/v)+(d*g-m*y)/v,l=c*(-f/v)+u*(p/v)-(p*g-f*y)/v,c=i.xOrigin=o[0]=h,u=i.yOrigin=o[1]=l),E&&(s&&(i.xOffset=E.xOffset,i.yOffset=E.yOffset,E=i),r||r!==!1&&a.defaultSmoothOrigin!==!1?(h=c-_,l=u-b,E.xOffset+=h*T[0]+l*T[2]-h,E.yOffset+=h*T[1]+l*T[3]-l):E.xOffset=E.yOffset=0),s||t.setAttribute("data-svg-origin",o.join(" "))},Ft=function(t){try{return t.getBBox()}catch(t){}},jt=function(t){return!!(Ot&&t.getBBox&&t.getCTM&&Ft(t)&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Vt=[1,0,0,1,0,0],Ht=function(t,e){var i,n,r,s,o,a,h=t._gsTransform||new Nt,l=1e5,c=t.style;if(Pt?n=K(t,kt,null,!0):t.currentStyle&&(n=t.currentStyle.filter.match(O),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),h.x||0,h.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,i&&Pt&&((a="none"===J(t).display)||!t.parentNode)&&(a&&(s=c.display,c.display="block"),t.parentNode||(o=1,Dt.appendChild(t)),n=K(t,kt,null,!0),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,s?c.display=s:a&&Wt(c,"display"),o&&Dt.removeChild(t)),(h.svg||t.getBBox&&jt(t))&&(i&&(c[Pt]+"").indexOf("matrix")!==-1&&(n=c[Pt],i=0),r=t.getAttribute("transform"),i&&r&&(r.indexOf("matrix")!==-1?(n=r,i=0):r.indexOf("translate")!==-1&&(n="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Vt;for(r=(n||"").match(_)||[],Tt=r.length;--Tt>-1;)s=Number(r[Tt]),r[Tt]=(o=s-(s|=0))?(o*l+(o<0?-.5:.5)|0)/l+s:s;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},zt=U.getTransform=function(t,i,n,r){if(t._gsTransform&&n&&!r)return t._gsTransform;var s,o,h,l,c,u,p=n?t._gsTransform||new Nt:new Nt,f=p.scaleX<0,d=2e-5,m=1e5,y=Rt?parseFloat(K(t,It,i,!1,"0 0 0").split(" ")[2])||p.zOrigin||0:0,g=parseFloat(a.defaultTransformPerspective)||0;if(p.svg=!(!t.getBBox||!jt(t)),p.svg&&(Bt(t,K(t,It,i,!1,"50% 50%")+"",p,t.getAttribute("data-svg-origin")),xt=a.useSVGTransformAttr||Lt),s=Ht(t),s!==Vt){if(16===s.length){var v,_,b,E,T,A=s[0],w=s[1],C=s[2],x=s[3],S=s[4],P=s[5],k=s[6],I=s[7],R=s[8],N=s[9],O=s[10],M=s[12],D=s[13],L=s[14],B=s[11],j=Math.atan2(k,O);p.zOrigin&&(L=-p.zOrigin,M=R*L-s[12],D=N*L-s[13],L=O*L+p.zOrigin-s[14]),p.rotationX=j*F,j&&(E=Math.cos(-j),T=Math.sin(-j),v=S*E+R*T,_=P*E+N*T,b=k*E+O*T,R=S*-T+R*E,N=P*-T+N*E,O=k*-T+O*E,B=I*-T+B*E,S=v,P=_,k=b),j=Math.atan2(-C,O),p.rotationY=j*F,j&&(E=Math.cos(-j),T=Math.sin(-j),v=A*E-R*T,_=w*E-N*T,b=C*E-O*T,N=w*T+N*E,O=C*T+O*E,B=x*T+B*E,A=v,w=_,C=b),j=Math.atan2(w,A),p.rotation=j*F,j&&(E=Math.cos(-j),T=Math.sin(-j),A=A*E+S*T,_=w*E+P*T,P=w*-T+P*E,k=C*-T+k*E,w=_),p.rotationX&&Math.abs(p.rotationX)+Math.abs(p.rotation)>359.9&&(p.rotationX=p.rotation=0,p.rotationY=180-p.rotationY),p.scaleX=(Math.sqrt(A*A+w*w)*m+.5|0)/m,p.scaleY=(Math.sqrt(P*P+N*N)*m+.5|0)/m,p.scaleZ=(Math.sqrt(k*k+O*O)*m+.5|0)/m,p.rotationX||p.rotationY?p.skewX=0:(p.skewX=S||P?Math.atan2(S,P)*F+p.rotation:p.skewX||0,Math.abs(p.skewX)>90&&Math.abs(p.skewX)<270&&(f?(p.scaleX*=-1,p.skewX+=p.rotation<=0?180:-180,p.rotation+=p.rotation<=0?180:-180):(p.scaleY*=-1,p.skewX+=p.skewX<=0?180:-180))),p.perspective=B?1/(B<0?-B:B):0,p.x=M,p.y=D,p.z=L,p.svg&&(p.x-=p.xOrigin-(p.xOrigin*A-p.yOrigin*S),p.y-=p.yOrigin-(p.yOrigin*w-p.xOrigin*P))}else if(!Rt||r||!s.length||p.x!==s[4]||p.y!==s[5]||!p.rotationX&&!p.rotationY){var V=s.length>=6,H=V?s[0]:1,z=s[1]||0,G=s[2]||0,U=V?s[3]:1;p.x=s[4]||0,p.y=s[5]||0,h=Math.sqrt(H*H+z*z),l=Math.sqrt(U*U+G*G),c=H||z?Math.atan2(z,H)*F:p.rotation||0,u=G||U?Math.atan2(G,U)*F+c:p.skewX||0,Math.abs(u)>90&&Math.abs(u)<270&&(f?(h*=-1,u+=c<=0?180:-180,c+=c<=0?180:-180):(l*=-1,u+=u<=0?180:-180)),p.scaleX=h,p.scaleY=l,p.rotation=c,p.skewX=u,Rt&&(p.rotationX=p.rotationY=p.z=0,p.perspective=g,p.scaleZ=1),p.svg&&(p.x-=p.xOrigin-(p.xOrigin*H+p.yOrigin*G),p.y-=p.yOrigin-(p.xOrigin*z+p.yOrigin*U))}p.zOrigin=y;for(o in p)p[o]<d&&p[o]>-d&&(p[o]=0)}return n&&(t._gsTransform=p,p.svg&&(xt&&t.style[Pt]?e.delayedCall(.001,function(){Wt(t.style,Pt)}):!xt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),p},Gt=function(t){var e,i,n=this.data,r=-n.rotation*B,s=r+n.skewX*B,o=1e5,a=(Math.cos(r)*n.scaleX*o|0)/o,h=(Math.sin(r)*n.scaleX*o|0)/o,l=(Math.sin(s)*-n.scaleY*o|0)/o,c=(Math.cos(s)*n.scaleY*o|0)/o,u=this.t.style,p=this.t.currentStyle;if(p){i=h,h=-l,l=-i,e=p.filter,u.filter="";var f,d,m=this.t.offsetWidth,g=this.t.offsetHeight,v="absolute"!==p.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+h+", M21="+l+", M22="+c,b=n.x+m*n.xPercent/100,E=n.y+g*n.yPercent/100;if(null!=n.ox&&(f=(n.oxp?m*n.ox*.01:n.ox)-m/2,d=(n.oyp?g*n.oy*.01:n.oy)-g/2,b+=f-(f*a+d*h),E+=d-(f*l+d*c)),v?(f=m/2,d=g/2,_+=", Dx="+(f-(f*a+d*h)+b)+", Dy="+(d-(f*l+d*c)+E)+")"):_+=", sizingMethod='auto expand')",e.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?u.filter=e.replace(M,_):u.filter=_+" "+e,0!==t&&1!==t||1===a&&0===h&&0===l&&1===c&&(v&&_.indexOf("Dx=0, Dy=0")===-1||w.test(e)&&100!==parseFloat(RegExp.$1)||e.indexOf(e.indexOf("Alpha"))===-1&&u.removeAttribute("filter")),!v){var T,C,x,S=y<8?1:-1;for(f=n.ieOffsetX||0,d=n.ieOffsetY||0,n.ieOffsetX=Math.round((m-((a<0?-a:a)*m+(h<0?-h:h)*g))/2+b),n.ieOffsetY=Math.round((g-((c<0?-c:c)*g+(l<0?-l:l)*m))/2+E),Tt=0;Tt<4;Tt++)C=st[Tt],T=p[C],i=T.indexOf("px")!==-1?parseFloat(T):tt(this.t,C,parseFloat(T),T.replace(A,""))||0,x=i!==n[C]?Tt<2?-n.ieOffsetX:-n.ieOffsetY:Tt<2?f-n.ieOffsetX:d-n.ieOffsetY,u[C]=(n[C]=Math.round(i-x*(0===Tt||2===Tt?1:S)))+"px"}}},Ut=U.set3DTransformRatio=U.setTransformRatio=function(t){var e,i,n,r,s,o,a,h,l,c,u,p,f,m,y,g,v,_,b,E,T,A,w,C=this.data,x=this.t.style,S=C.rotation,P=C.rotationX,k=C.rotationY,I=C.scaleX,R=C.scaleY,N=C.scaleZ,O=C.x,M=C.y,D=C.z,L=C.svg,F=C.perspective,j=C.force3D;if(((1===t||0===t)&&"auto"===j&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!j)&&!D&&!F&&!k&&!P&&1===N||xt&&L||!Rt)return void(S||C.skewX||L?(S*=B,A=C.skewX*B,w=1e5,e=Math.cos(S)*I,r=Math.sin(S)*I,i=Math.sin(S-A)*-R,s=Math.cos(S-A)*R,A&&"simple"===C.skewType&&(v=Math.tan(A-C.skewY*B),v=Math.sqrt(1+v*v),i*=v,s*=v,C.skewY&&(v=Math.tan(C.skewY*B),v=Math.sqrt(1+v*v),e*=v,r*=v)),L&&(O+=C.xOrigin-(C.xOrigin*e+C.yOrigin*i)+C.xOffset,M+=C.yOrigin-(C.xOrigin*r+C.yOrigin*s)+C.yOffset,xt&&(C.xPercent||C.yPercent)&&(m=this.t.getBBox(),O+=.01*C.xPercent*m.width,M+=.01*C.yPercent*m.height),m=1e-6,O<m&&O>-m&&(O=0),M<m&&M>-m&&(M=0)),b=(e*w|0)/w+","+(r*w|0)/w+","+(i*w|0)/w+","+(s*w|0)/w+","+O+","+M+")",L&&xt?this.t.setAttribute("transform","matrix("+b):x[Pt]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix(":"matrix(")+b):x[Pt]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix(":"matrix(")+I+",0,0,"+R+","+O+","+M+")");if(d&&(m=1e-4,I<m&&I>-m&&(I=N=2e-5),R<m&&R>-m&&(R=N=2e-5),!F||C.z||C.rotationX||C.rotationY||(F=0)),S||C.skewX)S*=B,y=e=Math.cos(S),g=r=Math.sin(S),C.skewX&&(S-=C.skewX*B,y=Math.cos(S),g=Math.sin(S),"simple"===C.skewType&&(v=Math.tan((C.skewX-C.skewY)*B),v=Math.sqrt(1+v*v),y*=v,g*=v,C.skewY&&(v=Math.tan(C.skewY*B),v=Math.sqrt(1+v*v),e*=v,r*=v))),i=-g,s=y;else{if(!(k||P||1!==N||F||L))return void(x[Pt]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) translate3d(":"translate3d(")+O+"px,"+M+"px,"+D+"px)"+(1!==I||1!==R?" scale("+I+","+R+")":""));e=s=1,i=r=0}l=1,n=o=a=h=c=u=0,p=F?-1/F:0,f=C.zOrigin,m=1e-6,E=",",T="0",S=k*B,S&&(y=Math.cos(S),g=Math.sin(S),a=-g,c=p*-g,n=e*g,o=r*g,l=y,p*=y,e*=y,r*=y),S=P*B,S&&(y=Math.cos(S),g=Math.sin(S),v=i*y+n*g,_=s*y+o*g,h=l*g,u=p*g,n=i*-g+n*y,o=s*-g+o*y,l*=y,p*=y,i=v,s=_),1!==N&&(n*=N,o*=N,l*=N,p*=N),1!==R&&(i*=R,s*=R,h*=R,u*=R),1!==I&&(e*=I,r*=I,a*=I,c*=I),(f||L)&&(f&&(O+=n*-f,M+=o*-f,D+=l*-f+f),L&&(O+=C.xOrigin-(C.xOrigin*e+C.yOrigin*i)+C.xOffset,M+=C.yOrigin-(C.xOrigin*r+C.yOrigin*s)+C.yOffset),O<m&&O>-m&&(O=T),M<m&&M>-m&&(M=T),D<m&&D>-m&&(D=0)),b=C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix3d(":"matrix3d(",b+=(e<m&&e>-m?T:e)+E+(r<m&&r>-m?T:r)+E+(a<m&&a>-m?T:a),b+=E+(c<m&&c>-m?T:c)+E+(i<m&&i>-m?T:i)+E+(s<m&&s>-m?T:s),P||k||1!==N?(b+=E+(h<m&&h>-m?T:h)+E+(u<m&&u>-m?T:u)+E+(n<m&&n>-m?T:n),b+=E+(o<m&&o>-m?T:o)+E+(l<m&&l>-m?T:l)+E+(p<m&&p>-m?T:p)+E):b+=",0,0,0,0,1,0,",b+=O+E+M+E+D+E+(F?1+-D/F:1)+")",x[Pt]=b};c=Nt.prototype,c.x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,wt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,s,o,h){if(n._lastParsedTransform===h)return s;n._lastParsedTransform=h;var l;"function"==typeof h[i]&&(l=h[i],h[i]=e);var c,u,p,f,d,m,y,_,b,E=t._gsTransform,T=t.style,A=1e-6,w=St.length,C=h,x={},S="transformOrigin",P=zt(t,r,!0,C.parseTransform),k=C.transform&&("function"==typeof C.transform?C.transform(v,g):C.transform);if(n._transform=P,k&&"string"==typeof k&&Pt)u=z.style,u[Pt]=k,u.display="block",u.position="absolute",V.body.appendChild(z),c=zt(z,null,!1),P.svg&&(m=P.xOrigin,y=P.yOrigin,c.x-=P.xOffset,c.y-=P.yOffset,(C.transformOrigin||C.svgOrigin)&&(k={},Bt(t,at(C.transformOrigin),k,C.svgOrigin,C.smoothOrigin,!0),m=k.xOrigin,y=k.yOrigin,c.x-=k.xOffset-P.xOffset,c.y-=k.yOffset-P.yOffset),(m||y)&&(_=Ht(z,!0),c.x-=m-(m*_[0]+y*_[2]),c.y-=y-(m*_[1]+y*_[3]))),V.body.removeChild(z),c.perspective||(c.perspective=P.perspective),null!=C.xPercent&&(c.xPercent=lt(C.xPercent,P.xPercent)),null!=C.yPercent&&(c.yPercent=lt(C.yPercent,P.yPercent));else if("object"==typeof C){if(c={scaleX:lt(null!=C.scaleX?C.scaleX:C.scale,P.scaleX),scaleY:lt(null!=C.scaleY?C.scaleY:C.scale,P.scaleY),scaleZ:lt(C.scaleZ,P.scaleZ),x:lt(C.x,P.x),y:lt(C.y,P.y),z:lt(C.z,P.z),xPercent:lt(C.xPercent,P.xPercent),yPercent:lt(C.yPercent,P.yPercent),perspective:lt(C.transformPerspective,P.perspective)},d=C.directionalRotation,null!=d)if("object"==typeof d)for(u in d)C[u]=d[u];else C.rotation=d;"string"==typeof C.x&&C.x.indexOf("%")!==-1&&(c.x=0,c.xPercent=lt(C.x,P.xPercent)),"string"==typeof C.y&&C.y.indexOf("%")!==-1&&(c.y=0,c.yPercent=lt(C.y,P.yPercent)),c.rotation=ct("rotation"in C?C.rotation:"shortRotation"in C?C.shortRotation+"_short":"rotationZ"in C?C.rotationZ:P.rotation-P.skewY,P.rotation-P.skewY,"rotation",x),Rt&&(c.rotationX=ct("rotationX"in C?C.rotationX:"shortRotationX"in C?C.shortRotationX+"_short":P.rotationX||0,P.rotationX,"rotationX",x),c.rotationY=ct("rotationY"in C?C.rotationY:"shortRotationY"in C?C.shortRotationY+"_short":P.rotationY||0,P.rotationY,"rotationY",x)),c.skewX=ct(C.skewX,P.skewX-P.skewY),(c.skewY=ct(C.skewY,P.skewY))&&(c.skewX+=c.skewY,c.rotation+=c.skewY)}for(Rt&&null!=C.force3D&&(P.force3D=C.force3D,f=!0),P.skewType=C.skewType||P.skewType||a.defaultSkewType,p=P.force3D||P.z||P.rotationX||P.rotationY||c.z||c.rotationX||c.rotationY||c.perspective,p||null==C.scale||(c.scaleZ=1);--w>-1;)b=St[w],k=c[b]-P[b],(k>A||k<-A||null!=C[b]||null!=j[b])&&(f=!0,s=new _t(P,b,P[b],k,s),b in x&&(s.e=x[b]),s.xs0=0,s.plugin=o,n._overwriteProps.push(s.n));return k=C.transformOrigin,
P.svg&&(k||C.svgOrigin)&&(m=P.xOffset,y=P.yOffset,Bt(t,at(k),c,C.svgOrigin,C.smoothOrigin),s=bt(P,"xOrigin",(E?P:c).xOrigin,c.xOrigin,s,S),s=bt(P,"yOrigin",(E?P:c).yOrigin,c.yOrigin,s,S),m===P.xOffset&&y===P.yOffset||(s=bt(P,"xOffset",E?m:P.xOffset,P.xOffset,s,S),s=bt(P,"yOffset",E?y:P.yOffset,P.yOffset,s,S)),k=xt?null:"0px 0px"),(k||Rt&&p&&P.zOrigin)&&(Pt?(f=!0,b=It,k=(k||K(t,b,r,!1,"50% 50%"))+"",s=new _t(T,b,0,0,s,(-1),S),s.b=T[b],s.plugin=o,Rt?(u=P.zOrigin,k=k.split(" "),P.zOrigin=(k.length>2&&(0===u||"0px"!==k[2])?parseFloat(k[2]):u)||0,s.xs0=s.e=k[0]+" "+(k[1]||"50%")+" 0px",s=new _t(P,"zOrigin",0,0,s,(-1),s.n),s.b=u,s.xs0=s.e=P.zOrigin):s.xs0=s.e=k):at(k+"",P)),f&&(n._transformType=P.svg&&xt||!p&&3!==this._transformType?2:3),l&&(h[i]=l),s},prefix:!0}),wt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),wt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,s,o,a){e=this.format(e);var h,l,c,u,p,f,d,m,y,g,v,_,b,E,T,A,w=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],C=t.style;for(y=parseFloat(t.offsetWidth),g=parseFloat(t.offsetHeight),h=e.split(" "),l=0;l<w.length;l++)this.p.indexOf("border")&&(w[l]=Q(w[l])),p=u=K(t,w[l],r,!1,"0px"),p.indexOf(" ")!==-1&&(u=p.split(" "),p=u[0],u=u[1]),f=c=h[l],d=parseFloat(p),_=p.substr((d+"").length),b="="===f.charAt(1),b?(m=parseInt(f.charAt(0)+"1",10),f=f.substr(2),m*=parseFloat(f),v=f.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(f),v=f.substr((m+"").length)),""===v&&(v=n[i]||_),v!==_&&(E=tt(t,"borderLeft",d,_),T=tt(t,"borderTop",d,_),"%"===v?(p=E/y*100+"%",u=T/g*100+"%"):"em"===v?(A=tt(t,"borderLeft",1,"em"),p=E/A+"em",u=T/A+"em"):(p=E+"px",u=T+"px"),b&&(f=parseFloat(p)+m+v,c=parseFloat(u)+m+v)),o=Et(C,w[l],p+" "+u,f+" "+c,!1,"0px",o);return o},prefix:!0,formatter:yt("0px 0px 0px 0px",!1,!0)}),wt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,n,s,o){return Et(t.style,i,this.format(K(t,i,r,!1,"0px 0px")),this.format(e),!1,"0px",s)},prefix:!0,formatter:yt("0px 0px",!1,!0)}),wt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,s,o){var a,h,l,c,u,p,f="background-position",d=r||J(t,null),m=this.format((d?y?d.getPropertyValue(f+"-x")+" "+d.getPropertyValue(f+"-y"):d.getPropertyValue(f):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),g=this.format(e);if(m.indexOf("%")!==-1!=(g.indexOf("%")!==-1)&&g.split(",").length<2&&(p=K(t,"backgroundImage").replace(I,""),p&&"none"!==p)){for(a=m.split(" "),h=g.split(" "),G.setAttribute("src",p),l=2;--l>-1;)m=a[l],c=m.indexOf("%")!==-1,c!==(h[l].indexOf("%")!==-1)&&(u=0===l?t.offsetWidth-G.width:t.offsetHeight-G.height,a[l]=c?parseFloat(m)/100*u+"px":parseFloat(m)/u*100+"%");m=a.join(" ")}return this.parseComplex(t.style,m,g,s,o)},formatter:at}),wt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return t+="",at(t.indexOf(" ")===-1?t+" "+t:t)}}),wt("perspective",{defaultValue:"0px",prefix:!0}),wt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),wt("transformStyle",{prefix:!0}),wt("backfaceVisibility",{prefix:!0}),wt("userSelect",{prefix:!0}),wt("margin",{parser:gt("marginTop,marginRight,marginBottom,marginLeft")}),wt("padding",{parser:gt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),wt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,s,o){var a,h,l;return y<9?(h=t.currentStyle,l=y<8?" ":",",a="rect("+h.clipTop+l+h.clipRight+l+h.clipBottom+l+h.clipLeft+")",e=this.format(e).split(",").join(l)):(a=this.format(K(t,this.p,r,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,s,o)}}),wt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),wt("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),wt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,s,o){var a=K(t,"borderTopWidth",r,!1,"0px"),h=this.format(e).split(" "),l=h[0].replace(A,"");return"px"!==l&&(a=parseFloat(a)/tt(t,"borderTopWidth",1,l)+l),this.parseComplex(t.style,this.format(a+" "+K(t,"borderTopStyle",r,!1,"solid")+" "+K(t,"borderTopColor",r,!1,"#000")),h.join(" "),s,o)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(mt)||["#000"])[0]}}),wt("borderWidth",{parser:gt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),wt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,s){var o=t.style,a="cssFloat"in o?"cssFloat":"styleFloat";return new _t(o,a,0,0,r,(-1),i,(!1),0,o[a],e)}});var qt=function(t){var e,i=this.t,n=i.filter||K(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(n.indexOf("atrix(")===-1&&n.indexOf("radient(")===-1&&n.indexOf("oader(")===-1?(i.removeAttribute("filter"),e=!K(this.data,"filter")):(i.filter=n.replace(x,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),n.indexOf("pacity")===-1?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(w,"opacity="+r))};wt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,s,o){var a=parseFloat(K(t,"opacity",r,!1,"1")),h=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),l&&1===a&&"hidden"===K(t,"visibility",r)&&0!==e&&(a=0),W?s=new _t(h,"opacity",a,e-a,s):(s=new _t(h,"opacity",100*a,100*(e-a),s),s.xn1=l?1:0,h.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=t,s.plugin=o,s.setRatio=qt),l&&(s=new _t(h,"visibility",0,0,s,(-1),null,(!1),0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit"),s.xs0="inherit",n._overwriteProps.push(s.n),n._overwriteProps.push(i)),s}});var Wt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(P,"-$1").toLowerCase())):t.removeAttribute(e))},Yt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Wt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};wt("className",{parser:function(t,e,n,s,o,a,h){var l,c,u,p,f,d=t.getAttribute("class")||"",m=t.style.cssText;if(o=s._classNamePT=new _t(t,n,0,0,o,2),o.setRatio=Yt,o.pr=-11,i=!0,o.b=d,c=it(t,r),u=t._gsClassPT){for(p={},f=u.data;f;)p[f.p]=1,f=f._next;u.setRatio(1)}return t._gsClassPT=o,o.e="="!==e.charAt(1)?e:d.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",o.e),l=nt(t,c,it(t),h,p),t.setAttribute("class",d),o.data=l.firstMPT,t.style.cssText=m,o=o.xfirst=s.parse(t,l.difs,o,a)}});var Xt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,s,o=this.t.style,a=l.transform.parse;if("all"===this.e)o.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),n=e.length;--n>-1;)i=e[n],l[i]&&(l[i].parse===a?r=!0:i="transformOrigin"===i?It:l[i].p),Wt(o,i);r&&(Wt(o,Pt),s=this.t._gsTransform,s&&(s.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(wt("clearProps",{parser:function(t,e,n,r,s){return s=new _t(t,n,0,0,s,2),s.setRatio=Xt,s.e=e,s.pr=-10,s.data=r._tween,i=!0,s}}),c="bezier,throwProps,physicsProps,physics2D".split(","),Tt=c.length;Tt--;)Ct(c[Tt]);c=a.prototype,c._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(t,e,o,h){if(!t.nodeType)return!1;this._target=g=t,this._tween=o,this._vars=e,v=h,u=e.autoRound,i=!1,n=e.suffixMap||a.suffixMap,r=J(t,""),s=this._overwriteProps;var c,d,y,_,b,E,T,A,w,x=t.style;if(p&&""===x.zIndex&&(c=K(t,"zIndex",r),"auto"!==c&&""!==c||this._addLazySet(x,"zIndex",0)),"string"==typeof e&&(_=x.cssText,c=it(t,r),x.cssText=_+";"+e,c=nt(t,c,it(t)).difs,!W&&C.test(e)&&(c.opacity=parseFloat(RegExp.$1)),e=c,x.cssText=_),e.className?this._firstPT=d=l.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=d=this.parse(t,e,null),this._transformType){for(w=3===this._transformType,Pt?f&&(p=!0,""===x.zIndex&&(T=K(t,"zIndex",r),"auto"!==T&&""!==T||this._addLazySet(x,"zIndex",0)),m&&this._addLazySet(x,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(w?"visible":"hidden"))):x.zoom=1,y=d;y&&y._next;)y=y._next;A=new _t(t,"transform",0,0,null,2),this._linkCSSP(A,null,y),A.setRatio=Pt?Ut:Gt,A.data=this._transform||zt(t,r,!0),A.tween=o,A.pr=-1,s.pop()}if(i){for(;d;){for(E=d._next,y=_;y&&y.pr>d.pr;)y=y._next;(d._prev=y?y._prev:b)?d._prev._next=d:_=d,(d._next=y)?y._prev=d:b=d,d=E}this._firstPT=_}return!0},c.parse=function(t,e,i,s){var o,a,h,c,p,f,d,m,y,_,b=t.style;for(o in e)f=e[o],"function"==typeof f&&(f=f(v,g)),a=l[o],a?i=a.parse(t,f,o,this,i,s,e):(p=K(t,o,r)+"",y="string"==typeof f,"color"===o||"fill"===o||"stroke"===o||o.indexOf("Color")!==-1||y&&S.test(f)?(y||(f=ft(f),f=(f.length>3?"rgba(":"rgb(")+f.join(",")+")"),i=Et(b,o,p,f,!0,"transparent",i,0,s)):y&&L.test(f)?i=Et(b,o,p,f,!0,null,i,0,s):(h=parseFloat(p),d=h||0===h?p.substr((h+"").length):"",""!==p&&"auto"!==p||("width"===o||"height"===o?(h=ot(t,o,r),d="px"):"left"===o||"top"===o?(h=et(t,o,r),d="px"):(h="opacity"!==o?0:1,d="")),_=y&&"="===f.charAt(1),_?(c=parseInt(f.charAt(0)+"1",10),f=f.substr(2),c*=parseFloat(f),m=f.replace(A,"")):(c=parseFloat(f),m=y?f.replace(A,""):""),""===m&&(m=o in n?n[o]:d),f=c||0===c?(_?c+h:c)+m:e[o],d!==m&&""!==m&&(c||0===c)&&h&&(h=tt(t,o,h,d),"%"===m?(h/=tt(t,o,100,"%")/100,e.strictUnits!==!0&&(p=h+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?h/=tt(t,o,1,m):"px"!==m&&(c=tt(t,o,c,m),m="px"),_&&(c||0===c)&&(f=c+h+m)),_&&(c+=h),!h&&0!==h||!c&&0!==c?void 0!==b[o]&&(f||f+""!="NaN"&&null!=f)?(i=new _t(b,o,c||h||0,0,i,(-1),o,(!1),0,p,f),i.xs0="none"!==f||"display"!==o&&o.indexOf("Style")===-1?f:p):X("invalid "+o+" tween value: "+e[o]):(i=new _t(b,o,h,c-h,i,0,o,u!==!1&&("px"===m||"zIndex"===o),0,p,f),i.xs0=m))),s&&i&&!i.plugin&&(i.plugin=s);return i},c.setRatio=function(t){var e,i,n,r=this._firstPT,s=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):e<s&&e>-s&&(e=0),r.type)if(1===r.type)if(n=r.l,2===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else r.type===-1?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&r.type!==-1)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},c._enableTransforms=function(t){this._transform=this._transform||zt(this._target,r,!0),this._transformType=this._transform.svg&&xt||!t&&3!==this._transformType?2:3};var $t=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,i){var n=this._firstPT=new _t(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=$t,n.data=this},c._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},c._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},c._kill=function(e){var i,n,r,s=e;if(e.autoAlpha||e.alpha){s={};for(n in e)s[n]=e[n];s.opacity=1,s.autoAlpha&&(s.visibility=1)}for(e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),i=this._firstPT;i;)i.plugin&&i.plugin!==n&&i.plugin._kill&&(i.plugin._kill(e),n=i.plugin),i=i._next;return t.prototype._kill.call(this,s)};var Zt=function(t,e,i){var n,r,s,o;if(t.slice)for(r=t.length;--r>-1;)Zt(t[r],e,i);else for(n=t.childNodes,r=n.length;--r>-1;)s=n[r],o=s.type,s.style&&(e.push(it(s)),i&&i.push(s)),1!==o&&9!==o&&11!==o||!s.childNodes.length||Zt(s,e,i)};return a.cascadeTo=function(t,i,n){var r,s,o,a,h=e.to(t,i,n),l=[h],c=[],u=[],p=[],f=e._internals.reservedProps;for(t=h._targets||h.target,Zt(t,c,p),h.render(i,!0,!0),Zt(t,u),h.render(0,!0,!0),h._enabled(!0),r=p.length;--r>-1;)if(s=nt(p[r],c[r],u[r]),s.firstMPT){s=s.difs;for(o in n)f[o]&&(s[o]=n[o]);a={};for(o in s)a[o]=c[r][o];l.push(e.fromTo(p[r],i,a,s))}return l},t.activate([a]),a},!0),function(){var t=o._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},i=t.prototype;i._onInitAllProps=function(){for(var t,i,n,r=this._tween,s=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),o=s.length,a={},h=r._propLookup.roundProps;--o>-1;)a[s[o]]=Math.round;for(o=s.length;--o>-1;)for(t=s[o],i=r._firstPT;i;)n=i._next,i.pg?i.t._mod(a):i.n===t&&(2===i.f&&i.t?e(i.t._firstPT):(this._add(i.t,t,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:r._firstPT===i&&(r._firstPT=n),i._next=i._prev=null,r._propLookup[t]=h)),i=n;return!1},i._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,Math.round),this._overwriteProps.push(e)}}(),function(){o._gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(t,e,i,n){var r,s;if("function"!=typeof t.setAttribute)return!1;for(r in e)s=e[r],"function"==typeof s&&(s=s(n,t)),this._addTween(t,"setAttribute",t.getAttribute(r)+"",s+"",r,!1,r),this._overwriteProps.push(r);return!0}})}(),o._gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(t,e,i,n){"object"!=typeof e&&(e={rotation:e}),this.finals={};var r,s,o,a,h,l,c=e.useRadians===!0?2*Math.PI:360,u=1e-6;for(r in e)"useRadians"!==r&&(a=e[r],"function"==typeof a&&(a=a(n,t)),l=(a+"").split("_"),s=l[0],o=parseFloat("function"!=typeof t[r]?t[r]:t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]()),a=this.finals[r]="string"==typeof s&&"="===s.charAt(1)?o+parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)):Number(s)||0,h=a-o,l.length&&(s=l.join("_"),s.indexOf("short")!==-1&&(h%=c,h!==h%(c/2)&&(h=h<0?h+c:h-c)),s.indexOf("_cw")!==-1&&h<0?h=(h+9999999999*c)%c-(h/c|0)*c:s.indexOf("ccw")!==-1&&h>0&&(h=(h-9999999999*c)%c-(h/c|0)*c)),(h>u||h<-u)&&(this._addTween(t,r,o,o+h,r),this._overwriteProps.push(r)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,o._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,r=o.GreenSockGlobals||o,s=r.com.greensock,a=2*Math.PI,h=Math.PI/2,l=s._class,c=function(e,i){var n=l("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},u=t.register||function(){},p=function(t,e,i,n,r){var s=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return u(s,t),s},f=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},d=function(e,i){var n=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},m=p("Back",d("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),d("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),d("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),y=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),g=y.prototype=new t;return g.constructor=y,g.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},y.ease=new y(.7,.7),g.config=y.config=function(t,e,i){return new y(t,e,i)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),g=e.prototype=new t,g.constructor=e,g.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},g.config=e.config=function(t){return new e(t)},i=l("easing.RoughEase",function(e){e=e||{};for(var i,n,r,s,o,a,h=e.taper||"none",l=[],c=0,u=0|(e.points||20),p=u,d=e.randomize!==!1,m=e.clamp===!0,y=e.template instanceof t?e.template:null,g="number"==typeof e.strength?.4*e.strength:.4;--p>-1;)i=d?Math.random():1/u*p,n=y?y.getRatio(i):i,"none"===h?r=g:"out"===h?(s=1-i,r=s*s*g):"in"===h?r=i*i*g:i<.5?(s=2*i,r=s*s*.5*g):(s=2*(1-i),r=s*s*.5*g),d?n+=Math.random()*r-.5*r:p%2?n+=.5*r:n-=.5*r,m&&(n>1?n=1:n<0&&(n=0)),l[c++]={x:i,y:n};for(l.sort(function(t,e){return t.x-e.x}),a=new f(1,1,null),p=u;--p>-1;)o=l[p],a=new f(o.x,o.y,a);this._prev=new f(0,0,0!==a.t?a:a.next)},!0),g=i.prototype=new t,g.constructor=i,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new i(t)},i.ease=new i,p("Bounce",c("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=t<.5;return t=e?1-2*t:2*t-1,t=t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),p("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var r=l("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(t<1?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),s=r.prototype=new t;return s.constructor=r,s.getRatio=i,s.config=function(t,e){return new r(t,e)},r},p("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),n("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),n("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),p("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),p("Sine",c("SineOut",function(t){return Math.sin(t*h)}),c("SineIn",function(t){return-Math.cos(t*h)+1}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),u(r.SlowMo,"SlowMo","ease,"),u(i,"RoughEase","ease,"),u(e,"SteppedEase","ease,"),m},!0)}),o._gsDefine&&o._gsQueue.pop()(),function(s,o){"use strict";var a={},h=s.GreenSockGlobals=s.GreenSockGlobals||s;if(!h.TweenLite){var l,c,u,p,f,d=function(t){var e,i=t.split("."),n=h;for(e=0;e<i.length;e++)n[i[e]]=n=n[i[e]]||{};return n},m=d("com.greensock"),y=1e-10,g=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},v=function(){},_=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),b={},E=function(s,l,c,u){this.sc=b[s]?b[s].sc:[],b[s]=this,this.gsClass=null,this.func=c;var p=[];this.check=function(f){for(var m,y,g,v,_,T=l.length,A=T;--T>-1;)(m=b[l[T]]||new E(l[T],[])).gsClass?(p[T]=m.gsClass,A--):f&&m.sc.push(this);if(0===A&&c){if(y=("com.greensock."+s).split("."),g=y.pop(),v=d(y.join("."))[g]=this.gsClass=c.apply(c,p),u)if(h[g]=a[g]=v,_="undefined"!=typeof t&&t.exports,!_&&i(4))n=[],r=function(){return v}.apply(e,n),!(void 0!==r&&(t.exports=r));else if(_)if(s===o){t.exports=a[o]=v;for(T in a)v[T]=a[T]}else a[o]&&(a[o][g]=v);for(T=0;T<this.sc.length;T++)this.sc[T].check()}},this.check(!0)},T=s._gsDefine=function(t,e,i,n){return new E(t,e,i,n)},A=m._class=function(t,e,i){return e=e||function(){},T(t,[],function(){return e},i),e};T.globals=h;var w=[0,0,1,1],C=A("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?w.concat(e):w},!0),x=C.map={},S=C.register=function(t,e,i,n){for(var r,s,o,a,h=e.split(","),l=h.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(s=h[l],r=n?A("easing."+s,null,!0):m.easing[s]||{},o=c.length;--o>-1;)a=c[o],x[s+"."+a]=x[a+s]=r[a]=t.getRatio?t:t[a]||new t};for(u=C.prototype,u._calcEnd=!1,u.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},l=["Linear","Quad","Cubic","Quart","Quint,Strong"],c=l.length;--c>-1;)u=l[c]+",Power"+c,S(new C(null,null,1,c),u,"easeOut",!0),S(new C(null,null,2,c),u,"easeIn"+(0===c?",easeNone":"")),S(new C(null,null,3,c),u,"easeInOut");x.linear=m.easing.Linear.easeIn,x.swing=m.easing.Quad.easeInOut;var P=A("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});u=P.prototype,u.addEventListener=function(t,e,i,n,r){r=r||0;var s,o,a=this._listeners[t],h=0;for(this!==p||f||p.wake(),null==a&&(this._listeners[t]=a=[]),o=a.length;--o>-1;)s=a[o],s.c===e&&s.s===i?a.splice(o,1):0===h&&s.pr<r&&(h=o+1);a.splice(h,0,{c:e,s:i,up:n,pr:r})},u.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},u.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for(e=r.length,e>1&&(r=r.slice(0)),i=this._eventTarget;--e>-1;)n=r[e],n&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var k=s.requestAnimationFrame,I=s.cancelAnimationFrame,R=Date.now||function(){return(new Date).getTime()},N=R();for(l=["ms","moz","webkit","o"],c=l.length;--c>-1&&!k;)k=s[l[c]+"RequestAnimationFrame"],I=s[l[c]+"CancelAnimationFrame"]||s[l[c]+"CancelRequestAnimationFrame"];A("Ticker",function(t,e){var i,n,r,s,o,a=this,h=R(),l=!(e===!1||!k)&&"auto",c=500,u=33,d="tick",m=function(t){var e,l,p=R()-N;p>c&&(h+=p-u),N+=p,a.time=(N-h)/1e3,e=a.time-o,(!i||e>0||t===!0)&&(a.frame++,o+=e+(e>=s?.004:s-e),l=!0),t!==!0&&(r=n(m)),l&&a.dispatchEvent(d)};P.call(a),a.time=a.frame=0,a.tick=function(){m(!0)},a.lagSmoothing=function(t,e){c=t||1/y,u=Math.min(e,c,0)},a.sleep=function(){null!=r&&(l&&I?I(r):clearTimeout(r),n=v,r=null,a===p&&(f=!1))},a.wake=function(t){null!==r?a.sleep():t?h+=-N+(N=R()):a.frame>10&&(N=R()-c+5),n=0===i?v:l&&k?k:function(t){return setTimeout(t,1e3*(o-a.time)+1|0)},a===p&&(f=!0),m(2)},a.fps=function(t){return arguments.length?(i=t,s=1/(i||60),o=this.time+s,void a.wake()):i},a.useRAF=function(t){return arguments.length?(a.sleep(),l=t,void a.fps(i)):l},a.fps(t),setTimeout(function(){"auto"===l&&a.frame<5&&"hidden"!==document.visibilityState&&a.useRAF(!1)},1500)}),u=m.Ticker.prototype=new m.events.EventDispatcher,u.constructor=m.Ticker;var O=A("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,J){f||p.wake();var i=this.vars.useFrames?Q:J;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});p=O.ticker=new m.Ticker,u=O.prototype,u._dirty=u._gc=u._initted=u._paused=!1,u._totalTime=u._time=0,u._rawPrevTime=-1,u._next=u._last=u._onUpdate=u._timeline=u.timeline=null,u._paused=!1;var M=function(){f&&R()-N>2e3&&p.wake(),setTimeout(M,2e3)};M(),u.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},u.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},u.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},u.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},u.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},u.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},u.render=function(t,e,i){},u.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},u.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&t<i+this.totalDuration()/this._timeScale},u._enabled=function(t,e){return f||p.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},u._kill=function(t,e){return this._enabled(!1,!1)},u.kill=function(t,e){return this._kill(t,e),this},u._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},u._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},u._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this,s=n?n.length:0;switch(s){case 0:i.call(r);break;case 1:i.call(r,n[0]);break;case 2:i.call(r,n[0],n[1]);break;default:i.apply(r,n)}},u.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=_(i)&&i.join("").indexOf("{self}")!==-1?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},u.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},u.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},u.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},u.totalTime=function(t,e,i){if(f||p.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(j.length&&tt(),this.render(t,e,!1),j.length&&tt())}return this},u.progress=u.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},u.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},u.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},u.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||y,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},u.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},u.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(f||t||p.wake(),e=n.rawTime(),i=e-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var D=A("core.SimpleTimeline",function(t){O.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});u=D.prototype=new O,u.constructor=D,u.kill()._gc=!1,u._first=u._last=u._recent=null,u._sortChildren=!1,u.add=u.insert=function(t,e,i,n){var r,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(s=t._startTime;r&&r._startTime>s;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},u._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},u.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},u.rawTime=function(){return f||p.wake(),this._totalTime};var L=A("TweenLite",function(t,e,i){if(O.call(this,e,i),this.render=L.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:L.selector(t)||t;var n,r,o,a=t.jquery||t.length&&t!==s&&t[0]&&(t[0]===s||t[0].nodeType&&t[0].style&&!t.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?Z[L.defaultOverwrite]:"number"==typeof h?h>>0:Z[h],(a||t instanceof Array||t.push&&_(t))&&"number"!=typeof t[0])for(this._targets=o=g(t),this._propLookup=[],this._siblings=[],n=0;n<o.length;n++)r=o[n],r?"string"!=typeof r?r.length&&r!==s&&r[0]&&(r[0]===s||r[0].nodeType&&r[0].style&&!r.nodeType)?(o.splice(n--,1),this._targets=o=o.concat(g(r))):(this._siblings[n]=et(r,this,!1),1===h&&this._siblings[n].length>1&&nt(r,this,null,1,this._siblings[n])):(r=o[n--]=L.selector(r),"string"==typeof r&&o.splice(n+1,1)):o.splice(n--,1);else this._propLookup={},this._siblings=et(t,this,!1),1===h&&this._siblings.length>1&&nt(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-y,this.render(Math.min(0,-this._delay)))},!0),B=function(t){return t&&t.length&&t!==s&&t[0]&&(t[0]===s||t[0].nodeType&&t[0].style&&!t.nodeType)},F=function(t,e){var i,n={};for(i in t)$[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!W[i]||W[i]&&W[i]._autoCSS)||(n[i]=t[i],
delete t[i]);t.css=n};u=L.prototype=new O,u.constructor=L,u.kill()._gc=!1,u.ratio=0,u._firstPT=u._targets=u._overwrittenProps=u._startAt=null,u._notifyPluginsOfEnabled=u._lazy=!1,L.version="1.19.0",L.defaultEase=u._ease=new C(null,null,1,1),L.defaultOverwrite="auto",L.ticker=p,L.autoSleep=120,L.lagSmoothing=function(t,e){p.lagSmoothing(t,e)},L.selector=s.$||s.jQuery||function(t){var e=s.$||s.jQuery;return e?(L.selector=e,e(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var j=[],V={},H=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,z=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.blob?t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):e<n&&e>-n&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},G=function(t,e,i,n){var r,s,o,a,h,l,c,u=[t,e],p=0,f="",d=0;for(u.start=t,i&&(i(u),t=u[0],e=u[1]),u.length=0,r=t.match(H)||[],s=e.match(H)||[],n&&(n._next=null,n.blob=1,u._firstPT=u._applyPT=n),h=s.length,a=0;a<h;a++)c=s[a],l=e.substr(p,e.indexOf(c,p)-p),f+=l||!a?l:",",p+=l.length,d?d=(d+1)%5:"rgba("===l.substr(-5)&&(d=1),c===r[a]||r.length<=a?f+=c:(f&&(u.push(f),f=""),o=parseFloat(r[a]),u.push(o),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:o,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-o)||0,f:0,m:d&&d<4?Math.round:0}),p+=c.length;return f+=e.substr(p),f&&u.push(f),u.setRatio=z,u},U=function(t,e,i,n,r,s,o,a,h){"function"==typeof n&&(n=n(h||0,t));var l,c,u="get"===i?t[e]:i,p=typeof t[e],f="string"==typeof n&&"="===n.charAt(1),d={t:t,p:e,s:u,f:"function"===p,pg:0,n:r||e,m:s?"function"==typeof s?s:Math.round:0,pr:0,c:f?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-u||0};if("number"!==p&&("function"===p&&"get"===i&&(c=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),d.s=u=o?t[c](o):t[c]()),"string"==typeof u&&(o||isNaN(u))?(d.fp=o,l=G(u,n,a||L.defaultStringFilter,d),d={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0,m:0}):f||(d.s=parseFloat(u),d.c=parseFloat(n)-d.s||0)),d.c)return(d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d},q=L._internals={isArray:_,isSelector:B,lazyTweens:j,blobDif:G},W=L._plugins={},Y=q.tweenLookup={},X=0,$=q.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},Z={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},Q=O._rootFramesTimeline=new D,J=O._rootTimeline=new D,K=30,tt=q.lazyRender=function(){var t,e=j.length;for(V={};--e>-1;)t=j[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);j.length=0};J._startTime=p.time,Q._startTime=p.frame,J._active=Q._active=!0,setTimeout(tt,1),O._updateRoot=L.render=function(){var t,e,i;if(j.length&&tt(),J.render((p.time-J._startTime)*J._timeScale,!1,!1),Q.render((p.frame-Q._startTime)*Q._timeScale,!1,!1),j.length&&tt(),p.frame>=K){K=p.frame+(parseInt(L.autoSleep,10)||120);for(i in Y){for(e=Y[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete Y[i]}if(i=J._first,(!i||i._paused)&&L.autoSleep&&!Q._first&&1===p._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||p.sleep()}}},p.addEventListener("tick",O._updateRoot);var et=function(t,e,i){var n,r,s=t._gsTweenID;if(Y[s||(t._gsTweenID=s="t"+X++)]||(Y[s]={target:t,tweens:[]}),e&&(n=Y[s].tweens,n[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return Y[s].tweens},it=function(t,e,i,n){var r,s,o=t.vars.onOverwrite;return o&&(r=o(t,e,i,n)),o=L.onOverwrite,o&&(s=o(t,e,i,n)),r!==!1&&s!==!1},nt=function(t,e,i,n,r){var s,o,a,h;if(1===n||n>=4){for(h=r.length,s=0;s<h;s++)if((a=r[s])!==e)a._gc||a._kill(null,t,e)&&(o=!0);else if(5===n)break;return o}var l,c=e._startTime+y,u=[],p=0,f=0===e._duration;for(s=r.length;--s>-1;)(a=r[s])===e||a._gc||a._paused||(a._timeline!==e._timeline?(l=l||rt(e,0,f),0===rt(a,l,f)&&(u[p++]=a)):a._startTime<=c&&a._startTime+a.totalDuration()/a._timeScale>c&&((f||!a._initted)&&c-a._startTime<=2e-10||(u[p++]=a)));for(s=p;--s>-1;)if(a=u[s],2===n&&a._kill(i,t,e)&&(o=!0),2!==n||!a._firstPT&&a._initted){if(2!==n&&!it(a,e))continue;a._enabled(!1,!1)&&(o=!0)}return o},rt=function(t,e,i){for(var n=t._timeline,r=n._timeScale,s=t._startTime;n._timeline;){if(s+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return s/=r,s>e?s-e:i&&s===e||!t._initted&&s-e<2*y?y:(s+=t.totalDuration()/t._timeScale/r)>e+y?0:s-e-y};u._init=function(){var t,e,i,n,r,s,o=this.vars,a=this._overwrittenProps,h=this._duration,l=!!o.immediateRender,c=o.ease;if(o.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(n in o.startAt)r[n]=o.startAt[n];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&o.lazy!==!1,r.startAt=r.delay=null,this._startAt=L.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==h)return}else if(o.runBackwards&&0!==h)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(n in o)$[n]&&"autoCSS"!==n||(i[n]=o[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&o.lazy!==!1,i.immediateRender=l,this._startAt=L.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof C?c:"function"==typeof c?new C(c,o.easeParams):x[c]||L.defaultEase:L.defaultEase,o.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(s=this._targets.length,t=0;t<s;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(e&&L._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},u._initProps=function(t,e,i,n,r){var o,a,h,l,c,u;if(null==t)return!1;V[t._gsTweenID]&&tt(),this.vars.css||t.style&&t!==s&&t.nodeType&&W.css&&this.vars.autoCSS!==!1&&F(this.vars,t);for(o in this.vars)if(u=this.vars[o],$[o])u&&(u instanceof Array||u.push&&_(u))&&u.join("").indexOf("{self}")!==-1&&(this.vars[o]=u=this._swapSelfInParams(u,this));else if(W[o]&&(l=new W[o])._onInitTween(t,this.vars[o],this,r)){for(this._firstPT=c={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:l._priority,m:0},a=l._overwriteProps.length;--a>-1;)e[l._overwriteProps[a]]=this._firstPT;(l._priority||l._onInitAllProps)&&(h=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else e[o]=U.call(this,t,o,"get",u,o,0,null,this.vars.stringFilter,r);return n&&this._kill(n,t)?this._initProps(t,e,i,n,r):this._overwrite>1&&this._firstPT&&i.length>1&&nt(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,n,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(V[t._gsTweenID]=!0),h)},u.render=function(t,e,i){var n,r,s,o,a=this._time,h=this._duration,l=this._rawPrevTime;if(t>=h-1e-7)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===h&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(l<0||t<=0&&t>=-1e-7||l===y&&"isPause"!==this.data)&&l!==t&&(i=!0,l>y&&(r="onReverseComplete")),this._rawPrevTime=o=!e||t||l===t?t:y);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===h&&l>0)&&(r="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||i)&&(l>=0&&(l!==y||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=o=!e||t||l===t?t:y)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/h,u=this._easeType,p=this._easePower;(1===u||3===u&&c>=.5)&&(c=1-c),3===u&&(c*=2),1===p?c*=c:2===p?c*=c*c:3===p?c*=c*c*c:4===p&&(c*=c*c*c*c),1===u?this.ratio=1-c:2===u?this.ratio=c:t/h<.5?this.ratio=c/2:this.ratio=1-c/2}else this.ratio=this._ease.getRatio(t/h);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=l,j.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/h):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==h||e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==a||n||i)&&this._callback("onUpdate")),r&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===h&&this._rawPrevTime===y&&o!==y&&(this._rawPrevTime=0)))}},u._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:L.selector(e)||e;var n,r,s,o,a,h,l,c,u,p=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((_(e)||B(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(h=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){a=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(l=t||a,c=t!==r&&"all"!==r&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(L.onOverwrite||this.vars.onOverwrite)){for(s in l)a[s]&&(u||(u=[]),u.push(s));if((u||!t)&&!it(this,i,e,u))return!1}for(s in l)(o=a[s])&&(p&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,h=!0),o.pg&&o.t._kill(l)&&(h=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete a[s]),c&&(r[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},u.invalidate=function(){return this._notifyPluginsOfEnabled&&L._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],O.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-y,this.render(Math.min(0,-this._delay))),this},u._enabled=function(t,e){if(f||p.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=et(n[i],this,!0);else this._siblings=et(this.target,this,!0)}return O.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&L._onPluginEvent(t?"_onEnable":"_onDisable",this)},L.to=function(t,e,i){return new L(t,e,i)},L.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new L(t,e,i)},L.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new L(t,e,n)},L.delayedCall=function(t,e,i,n,r){return new L(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},L.set=function(t,e){return new L(t,0,e)},L.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:L.selector(t)||t;var i,n,r,s;if((_(t)||B(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(L.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(s=n[i],r=i;--r>-1;)s===n[r]&&n.splice(i,1)}else for(n=et(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},L.killTweensOf=L.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=L.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var st=A("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=st.prototype},!0);if(u=st.prototype,st.version="1.19.0",st.API=2,u._firstPT=null,u._addTween=U,u.setRatio=z,u._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},u._mod=u._roundProps=function(t){for(var e,i=this._firstPT;i;)e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")],e&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},L._onPluginEvent=function(t,e){var i,n,r,s,o,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(o=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:s)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:s=a,a=o}a=e._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},st.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===st.API&&(W[(new t[e])._propName]=t[e]);return!0},T.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},o=A("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){st.call(this,i,n),this._overwriteProps=r||[]},t.global===!0),a=o.prototype=new st(i);a.constructor=o,o.API=t.API;for(e in s)"function"==typeof t[e]&&(a[s[e]]=t[e]);return o.version=t.version,st.activate([o]),o},l=s._gsQueue){for(c=0;c<l.length;c++)l[c]();for(u in b)b[u].func||s.console.log("GSAP encountered missing dependency: "+u)}f=!1}}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof s?s:this||window,"TweenMax")}).call(e,function(){return this}())},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=e.MODE={MULTIPLAYER:"MULTIPLAYER",SINGLEPLAYER:"SINGLEPLAYER"};e.STATE={PRELOADER:"PRELOADER",MODE_SELECTION:"MODE_SELECTION",ROOM_URL_DISPLAY:"ROOM_URL_DISPLAY",PLAYING:"PLAYING",GAME_OVER:"GAME_OVER",COUNTDOWN:"COUNTDOWN",PAUSED:"PAUSED"},e.EVENT={OPPONENT_CONNECTED:"OPPONENT_CONNECTED",OPPONENT_DISCONNECTED:"OPPONENT_DISCONNECTED",GAME_OVER:"GAME_OVER",RESTART_GAME:"RESTART_GAME",BALL_TABLE_COLLISION:"BALL_TABLE_COLLISION",BALL_PADDLE_COLLISION:"BALL_PADDLE_COLLISION",INIT_BALL:"INIT_BALL",LOAD_PROGRESS:"LOAD_PROGRESS"},e.ACTION={MOVE:"M",HIT:"HIT",MISS:"MISS",PING:"PING",PONG:"PONG",CONNECT:"CONNECT",DISCONNECT:"DISCONNECT",RESTART_GAME:"RESTART_GAME",REQUEST_COUNTDOWN:"REQUEST_COUNTDOWN"},e.INITIAL_CONFIG={mode:i.SINGLEPLAYER,gravity:6,netThickness:.02,tableWidth:1.52,tableDepth:2.74,tableHeight:.762,netHeight:.15,tablePositionZ:-2,tableThickness:.1,paddleThickness:.01,paddleSize:.16/1.5,get paddlePositionZ(){return this.tablePositionZ+this.tableDepth/2+this.paddleThickness/2},ballRadius:.02,ballMass:.001,ballPaddleFriction:.8,ballPaddleBounciness:1,ballBoxBounciness:.95,ballInitVelocity:1,paddleModel:"box",cameraHeight:1.6,POINTS_FOR_WIN:11,ROOM_CODE_LENGTH:4,colors:{BLUE_BACKGROUND:1460350,BLUE_TABLE:1197959,BLUE_HUD:3372743,PINK_BACKGROUND:16224156,PINK_TABLE:16751523,PINK_TABLE_UPWARDS:15239060,GREEN_BACKGROUND:3457399,GREEN_TABLE:2275180,PADDLE_COLOR:13767957,PADDLE_WOOD_COLOR:15789543,BALL:16383062}}},function(t,e){"use strict";t.exports={cap:function(t,e,i){return e>i?Math.max(i,Math.min(e,t)):Math.max(e,Math.min(i,t))}}},function(t,e){"use strict";var i={UNKNOWN:0,NORMAL:1,MAGIC_WINDOW:2,VR:3};t.exports=i},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(5),o=i(6),a=function(){function t(e,i){n(this,t),this.config=e,this.emitter=i,this.world=null,this.ball=null,this.net=null,this.ground=null,this.paddle=null,this.ballNetContact=null,this.ballGroundContact=null,this.ballPaddleContact=null,this.raycaster=new THREE.Raycaster}return r(t,[{key:"setupWorld",value:function(){this.world=new CANNON.World,this.world.gravity.set(0,-this.config.gravity,0),this.world.broadphase=new CANNON.NaiveBroadphase,this.world.solver.iterations=20,this.setupTable(),this.setupPaddle(),this.setupNet(),this.setupGround()}},{key:"setupGround",value:function(){this.ground=new CANNON.Body({mass:0,shape:new CANNON.Plane,material:new CANNON.Material}),this.ground.quaternion.setFromAxisAngle(new CANNON.Vec3(1,0,0),-Math.PI/2),this.world.add(this.ground)}},{key:"setupNet",value:function(){this.net=new CANNON.Body({mass:0,shape:new CANNON.Box(new CANNON.Vec3(this.config.tableWidth/2,this.config.netHeight/2,this.config.netThickness/2)),material:new CANNON.Material}),this.net._name="NET",this.net.position.set(0,this.config.tableHeight+this.config.netHeight/2,this.config.tablePositionZ),this.world.add(this.net)}},{key:"setupPaddle",value:function(){}},{key:"addContactMaterial",value:function(t,e,i,n){var r=new CANNON.ContactMaterial(t,e,{friction:n,restitution:i});return this.world.addContactMaterial(r),r}},{key:"setupTable",value:function(){this.table=new CANNON.Body({mass:0,shape:new CANNON.Box(new CANNON.Vec3(this.config.tableWidth/2,this.config.tableHeight/2,this.config.tableDepth/2)),material:new CANNON.Material}),this.table.position.y=this.config.tableHeight/2,this.table.position.z=this.config.tablePositionZ,this.table.addEventListener("collide",this.tableCollision.bind(this)),this.world.add(this.table),this.upwardsTable=new CANNON.Body({mass:0,shape:new CANNON.Box(new CANNON.Vec3(this.config.tableWidth/2,this.config.tableHeight/2,this.config.tableDepth/4)),material:new CANNON.Material}),this.upwardsTable.quaternion.setFromAxisAngle(new CANNON.Vec3(1,0,0),Math.PI/2),this.upwardsTable.position.z=this.config.tablePositionZ-this.config.tableHeight/2,this.upwardsTable.position.y=this.config.tableHeight+this.config.tableDepth/4,this.upwardsTable.collisionResponse=0,this.world.add(this.upwardsTable)}},{key:"addBall",value:function(t){var e=new CANNON.Body({mass:this.config.ballMass,shape:new CANNON.Sphere(this.config.ballRadius),material:new CANNON.Material});return e.threeReference=t,e._name=t.name,e.linearDamping=.1,this.addContactMaterial(e.material,this.table.material,.7,.3),this.addContactMaterial(e.material,this.upwardsTable.material,.7,.3),e.position.y=this.config.tableHeight/2,e.position.z=this.config.tablePositionZ,this.ball=e,this.world.add(e),this.initBallPosition(e),e}},{key:"paddleCollision",value:function(t){this.emitter.emit(s.EVENT.BALL_PADDLE_COLLISION,t.body);var e=t.body.position.x-t.target.position.x,i=t.body.position.y-t.target.position.y;if(e=(0,o.cap)(e/this.config.paddleSize,-1,1),i=(0,o.cap)(i/this.config.paddleSize,-1,1),this.config.mode===s.MODE.MULTIPLAYER)t.body.velocity.z=-3.5,t.body.velocity.x=-e*t.body.velocity.z*.1,t.body.velocity.y=1.8;else{var n=t.target.position.x/this.config.tableWidth*.5;t.body.velocity.z=-3.5,t.body.velocity.x=.8*-n-e*t.body.velocity.z*.2,t.body.velocity.y=2}}},{key:"tableCollision",value:function(t){this.emitter.emit(s.EVENT.BALL_TABLE_COLLISION,t.body.position)}},{key:"setPaddlePosition",value:function(t,e,i){this.paddle.position.set(t,e,i)}},{key:"initBallPosition",value:function(){this.config.mode===s.MODE.SINGLEPLAYER?(this.ball.position.set(0,1.4,this.config.tablePositionZ+.1),this.ball.velocity.x=this.config.ballInitVelocity*(.5-Math.random())*.5,this.ball.velocity.y=0*this.config.ballInitVelocity,this.ball.velocity.z=2*this.config.ballInitVelocity,this.ball.angularVelocity.x=0,this.ball.angularVelocity.y=0,this.ball.angularVelocity.z=0):(this.ball.position.set(0,1.6,this.config.tablePositionZ-.3*this.config.tableDepth),this.ball.velocity.x=this.config.ballInitVelocity*(.5-Math.random())*.5,this.ball.velocity.y=.7*this.config.ballInitVelocity,this.ball.velocity.z=2.5*this.config.ballInitVelocity,this.ball.angularVelocity.x=0,this.ball.angularVelocity.y=0,this.ball.angularVelocity.z=0)}},{key:"predictCollisions",value:function(t,e,i){this.raycaster.set(this.ball.position.clone(),this.ball.velocity.clone().unit()),this.raycaster.far=this.ball.velocity.clone().length()/50;var n=this.raycaster.intersectObjects([e,i],!0);n.length&&"net-collider"===n[0].object.name&&this.ball.position.copy(n[0].point)}},{key:"setMode",value:function(t){this.config.mode=t}},{key:"step",value:function(t){this.world.step(t)}}]),t}();e["default"]=a},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(3),a=(n(o),i(10)),h=n(a),l=i(11),c=n(l),u=i(12),p=n(u),f=(i(5),function(){function t(e,i,n){r(this,t),this.config=i,this.emitter=n,this.scene=e,this.gravity=0,this.ballRadius=.03,this.ballPaddleBounciness=1,this.ballBoxBounciness=1,this.ballInitVelocity=1,this.paddleModel="box",this.activateTween=null,this.font=null,this.container=null,this.initialized=!1,this.modeWasSelected=!1}return s(t,[{key:"setup",value:function(){var t=this;return new Promise(function(e,i){var n=new THREE.FontLoader;n.load("fonts/futura.json",function(i){t.font=i,t.container=new THREE.Group,t.container.position.z=1,t.container.position.y=1.6,t.container.rotation.y=Math.PI,t.scene.add(t.container),t.initialized=!0,t.message=new p["default"](t.scene,t.config,t.font),t.message.hideMessage(),t.scoreDisplay=new h["default"](t.scene,t.config,t.font),t.countdown=new c["default"](t.scene,t.config,t.font),t.countdown.hideCountdown(),e()})})}}]),t}());e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(3),a=(n(o),i(5)),h=function(){function t(e,i,n){r(this,t),this.parent=e,this.font=n,this.config=i,this.setupText()}return s(t,[{key:"setupText",value:function(){var t=new THREE.MeshBasicMaterial({color:16777215,transparent:!0,opacity:.5}),e=new THREE.TextGeometry("0",{font:this.font,size:.35,height:.001,curveSegments:3});e.computeBoundingBox(),this.opponentScore=new THREE.Mesh(e,t),this.selfScore=new THREE.Mesh(e.clone(),t.clone()),this.selfScore.rotation.y=Math.PI/2,this.opponentScore.rotation.y=-Math.PI/2,this.parent.add(this.selfScore),this.parent.add(this.opponentScore),this.setSelfScore(0),this.setOpponentScore(0),this.opponentScore.visible=this.config.mode===a.MODE.MULTIPLAYER}},{key:"setSelfScore",value:function(t){this.selfScore.geometry.dynamic=!0,this.selfScore.geometry=new THREE.TextGeometry(""+t,{font:this.font,size:.35,height:.001,curveSegments:3}),this.selfScore.geometry.computeBoundingBox(),this.selfScore.geometry.verticesNeedUpdate=!0,this.selfScore.position.x=-this.config.tableWidth/2,this.selfScore.position.y=this.config.tableHeight+.2,this.selfScore.position.z=this.config.tablePositionZ+this.config.tableDepth/2.8+this.selfScore.geometry.boundingBox.max.x/2}},{key:"setOpponentScore",value:function(t){this.opponentScore.geometry=new THREE.TextGeometry(""+t,{font:this.font,size:.35,height:.001,curveSegments:3}),this.opponentScore.geometry.computeBoundingBox(),this.opponentScore.position.x=this.config.tableWidth/2,this.opponentScore.position.y=this.config.tableHeight+.2,this.opponentScore.position.z=this.config.tablePositionZ-this.config.tableDepth/4-this.opponentScore.geometry.boundingBox.max.x/2}}]),t}();e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(3),a=(n(o),.7),h=function(){function t(e,i,n){r(this,t),this.scene=e,this.font=n,this.config=i;var s=new THREE.MeshBasicMaterial({color:16777215,transparent:!0,opacity:.5}),o=new THREE.TextGeometry("3",{font:this.font,size:a,height:.001,curveSegments:3});o.computeBoundingBox(),this.countdown=new THREE.Mesh(o,s),this.countdown.position.x=-o.boundingBox.max.x/2,this.countdown.position.y=this.config.tableHeight+.2,this.countdown.position.z=this.config.tablePositionZ,this.scene.add(this.countdown)}return s(t,[{key:"setCountdown",value:function(t){var e=new THREE.TextGeometry(t,{font:this.font,size:a,height:.001,curveSegments:3});e.computeBoundingBox(),this.countdown.geometry=e,this.countdown.position.x=-e.boundingBox.max.x/2,this.countdown.position.y=this.config.tableHeight+.2}},{key:"showCountdown",value:function(){this.setCountdown(3),this.countdown.visible=!0}},{key:"hideCountdown",value:function(){this.countdown.visible=!1}}]),t}();e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(13),h=n(a),l=16,c=.07,u=.1,p=function(){function t(e,i,n){s(this,t),this.scene=e,this.font=n,this.config=i,this.wrap=(0,h["default"])(l),this.messageGroup=new THREE.Group,this.messageGroup.position.z=this.config.tablePositionZ,this.setMessage("waiting for opponent to start..."),this.scene.add(this.messageGroup)}return o(t,[{key:"setMessage",value:function(t){var e,i=this;(e=this.messageGroup).remove.apply(e,r(this.messageGroup.children));var n=this.wrap(t).split("\n").reverse(),s=new THREE.MeshBasicMaterial({color:16777215,transparent:!0,opacity:.5}),o=0;n.forEach(function(t,e){var n=new THREE.TextGeometry(t,{font:i.font,size:c,height:.001,curveSegments:3});n.computeBoundingBox();var r=new THREE.Mesh(n,s);r.geometry=n,r.position.x=-n.boundingBox.max.x/2,r.position.y=e*(n.boundingBox.max.y+u),i.messageGroup.add(r),o=n.boundingBox.max.y});var a=n.length*(u+o);this.messageGroup.position.y=this.config.tableHeight+a/2+.2}},{key:"showMessage",value:function(){this.messageGroup.visible=!0}},{key:"hideMessage",value:function(){this.messageGroup.visible=!1}}]),t}();e["default"]=p},function(t,e){var i=t.exports=function(t,e,i){"object"==typeof t&&(i=t,t=i.start,e=i.stop),"object"==typeof e&&(i=e,t=t||i.start,e=void 0),e||(e=t,t=0),i||(i={});var n=i.mode||"soft",r="hard"===n?/\b/:/(\S+\s+)/;return function(i){var s=i.toString().split(r).reduce(function(i,r){if("hard"===n)for(var s=0;s<r.length;s+=e-t)i.push(r.slice(s,s+e-t));else i.push(r);return i},[]);return s.reduce(function(i,n){if(""===n)return i;var r=n.replace(/\t/g,"    "),s=i.length-1;if(i[s].length+r.length>e)i[s]=i[s].replace(/\s+$/,""),r.split(/\n/).forEach(function(e){i.push(new Array(t+1).join(" ")+e.replace(/^\s+/,""))});else if(r.match(/\n/)){var o=r.split(/\n/);i[s]+=o.shift(),o.forEach(function(e){i.push(new Array(t+1).join(" ")+e.replace(/^\s+/,""))})}else i[s]+=r;return i},[new Array(t+1).join(" ")]).join("\n")}};i.soft=i,i.hard=function(t,e){return i(t,e,{mode:"hard"})}},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=(i(15),function(){function t(){n(this,t),this.playerSound=new Howl({src:["/audio/pongsound.mp3","/audio/pongsound.wav"]}),this.gameOverSound=new Howl({src:["/audio/gameover.mp3","/audio/gameover.wav"]})}return r(t,[{key:"hit",value:function(t){}},{key:"gameOver",value:function(){}}]),t}());e["default"]=s},function(t,e,i){var n,r;(function(i){/*!
	 *  howler.js v2.0.0
	 *  howlerjs.com
	 *
	 *  (c) 2013-2016, James Simpson of GoldFire Studios
	 *  goldfirestudios.com
	 *
	 *  MIT License
	 */
!function(){"use strict";var s=function(){this.init()};s.prototype={init:function(){var t=this||o;return t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.mobileAutoEnable=!0,t._setup(),t},volume:function(t){var e=this||o;if(t=parseFloat(t),e.ctx||d(),"undefined"!=typeof t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&(e.masterGain.gain.value=t);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var n=e._howls[i]._getSoundIds(),r=0;r<n.length;r++){var s=e._howls[i]._soundById(n[r]);s&&s._node&&(s._node.volume=s._volume*t)}return e}return e._volume},mute:function(t){var e=this||o;e.ctx||d(),e._muted=t,e.usingWebAudio&&(e.masterGain.gain.value=t?0:e._volume);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var n=e._howls[i]._getSoundIds(),r=0;r<n.length;r++){var s=e._howls[i]._soundById(n[r]);s&&s._node&&(s._node.muted=!!t||s._muted)}return e},unload:function(){for(var t=this||o,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&"undefined"!=typeof t.ctx.close&&(t.ctx.close(),t.ctx=null,d()),t},codecs:function(t){return(this||o)._codecs[t]},_setup:function(){var t=this||o;return t.state=t.ctx?t.ctx.state||"running":"running",t._autoSuspend(),t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||o,e="undefined"!=typeof Audio?new Audio:null;if(!e||"function"!=typeof e.canPlayType)return t;var i=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),r=n&&parseInt(n[0].split("/")[1],10)<33;return t._codecs={mp3:!(r||!i&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!i,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,"")},t},_enableMobileAudio:function(){var t=this||o,e=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(t._navigator&&t._navigator.userAgent),i=!!("ontouchend"in window||t._navigator&&t._navigator.maxTouchPoints>0||t._navigator&&t._navigator.msMaxTouchPoints>0);if(!t._mobileEnabled&&t.ctx&&(e||i)){t._mobileEnabled=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var n=function(){var e=t.ctx.createBufferSource();e.buffer=t._scratchBuffer,e.connect(t.ctx.destination),"undefined"==typeof e.start?e.noteOn(0):e.start(0),e.onended=function(){e.disconnect(0),t._mobileEnabled=!0,t.mobileAutoEnable=!1,document.removeEventListener("touchend",n,!0)}};return document.addEventListener("touchend",n,!0),t}},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&"undefined"!=typeof t.ctx.suspend&&o.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var i=0;i<t._howls[e]._sounds.length;i++)if(!t._howls[e]._sounds[i]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then(function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())}))},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&"undefined"!=typeof t.ctx.resume&&o.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.state="resuming",t.ctx.resume().then(function(){t.state="running"}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var o=new s,a=function(t){var e=this;return t.src&&0!==t.src.length?void e.init(t):void console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(t){var e=this;return o.ctx||d(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._webAudio=o.usingWebAudio&&!e._html5,"undefined"!=typeof o.ctx&&o.ctx&&o.mobileAutoEnable&&o._enableMobileAudio(),o._howls.push(e),e._preload&&e.load(),e},load:function(){var t=this,e=null;if(o.noAudio)return void t._emit("loaderror",null,"No audio support.");"string"==typeof t._src&&(t._src=[t._src]);for(var i=0;i<t._src.length;i++){var n,r;if(t._format&&t._format[i])n=t._format[i];else{if(r=t._src[i],"string"!=typeof r){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}n=/^data:audio\/([^;,]+);/i.exec(r),n||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(o.codecs(n)){e=t._src[i];break}}return e?(t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new h(t),t._webAudio&&c(t),t):void t._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(t,e){var i=this,n=null;if("number"==typeof t)n=t,t=null;else{if("string"==typeof t&&"loaded"===i._state&&!i._sprite[t])return null;if("undefined"==typeof t){t="__default";for(var r=0,s=0;s<i._sounds.length;s++)i._sounds[s]._paused&&!i._sounds[s]._ended&&(r++,n=i._sounds[s]._id);1===r?t=null:n=null}}var a=n?i._soundById(n):i._inactiveSound();if(!a)return null;if(n&&!t&&(t=a._sprite||"__default"),"loaded"!==i._state&&!i._sprite[t])return i._queue.push({event:"play",action:function(){i.play(i._soundById(a._id)?a._id:void 0)}}),a._id;if(n&&!a._paused)return e||setTimeout(function(){i._emit("play",a._id)},0),a._id;i._webAudio&&o._autoResume();var h=a._seek>0?a._seek:i._sprite[t][0]/1e3,l=(i._sprite[t][0]+i._sprite[t][1])/1e3-h,c=1e3*l/Math.abs(a._rate);a._paused=!1,a._ended=!1,a._sprite=t,a._seek=h,a._start=i._sprite[t][0]/1e3,a._stop=(i._sprite[t][0]+i._sprite[t][1])/1e3,a._loop=!(!a._loop&&!i._sprite[t][2]);var u=a._node;if(i._webAudio){var p=function(){i._refreshBuffer(a);var t=a._muted||i._muted?0:a._volume;u.gain.setValueAtTime(t,o.ctx.currentTime),a._playStart=o.ctx.currentTime,"undefined"==typeof u.bufferSource.start?a._loop?u.bufferSource.noteGrainOn(0,h,86400):u.bufferSource.noteGrainOn(0,h,l):a._loop?u.bufferSource.start(0,h,86400):u.bufferSource.start(0,h,l),c!==1/0&&(i._endTimers[a._id]=setTimeout(i._ended.bind(i,a),c)),e||setTimeout(function(){i._emit("play",a._id)},0)};"loaded"===i._state?p():(i.once("load",p,a._id),i._clearTimer(a._id))}else{var f=function(){u.currentTime=h,u.muted=a._muted||i._muted||o._muted||u.muted,u.volume=a._volume*o.volume(),u.playbackRate=a._rate,setTimeout(function(){u.play(),c!==1/0&&(i._endTimers[a._id]=setTimeout(i._ended.bind(i,a),c)),e||i._emit("play",a._id)},0)},d="loaded"===i._state&&(window&&window.ejecta||!u.readyState&&o._navigator.isCocoonJS);if(4===u.readyState||d)f();else{var m=function(){f(),u.removeEventListener(o._canPlayEvent,m,!1)};u.addEventListener(o._canPlayEvent,m,!1),i._clearTimer(a._id)}}return a._id},pause:function(t){var e=this;if("loaded"!==e._state)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var i=e._getSoundIds(t),n=0;n<i.length;n++){e._clearTimer(i[n]);var r=e._soundById(i[n]);if(r&&!r._paused){if(r._seek=e.seek(i[n]),r._rateSeek=0,r._paused=!0,e._stopFade(i[n]),r._node)if(e._webAudio){if(!r._node.bufferSource)return e;"undefined"==typeof r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),e._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||e._emit("pause",r._id)}}return e},stop:function(t,e){var i=this;if("loaded"!==i._state)return i._queue.push({event:"stop",action:function(){i.stop(t)}}),i;for(var n=i._getSoundIds(t),r=0;r<n.length;r++){i._clearTimer(n[r]);var s=i._soundById(n[r]);if(s&&!s._paused&&(s._seek=s._start||0,s._rateSeek=0,s._paused=!0,s._ended=!0,i._stopFade(n[r]),s._node))if(i._webAudio){if(!s._node.bufferSource)return i;"undefined"==typeof s._node.bufferSource.stop?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),i._cleanBuffer(s._node)}else isNaN(s._node.duration)&&s._node.duration!==1/0||(s._node.currentTime=s._start||0,s._node.pause());s&&!e&&i._emit("stop",s._id)}return i},mute:function(t,e){var i=this;if("loaded"!==i._state)return i._queue.push({event:"mute",action:function(){i.mute(t,e)}}),i;if("undefined"==typeof e){if("boolean"!=typeof t)return i._muted;i._muted=t}for(var n=i._getSoundIds(e),r=0;r<n.length;r++){var s=i._soundById(n[r]);s&&(s._muted=t,i._webAudio&&s._node?s._node.gain.setValueAtTime(t?0:s._volume,o.ctx.currentTime):s._node&&(s._node.muted=!!o._muted||t),i._emit("mute",s._id))}return i},volume:function(){var t,e,i=this,n=arguments;if(0===n.length)return i._volume;if(1===n.length){var r=i._getSoundIds(),s=r.indexOf(n[0]);s>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else n.length>=2&&(t=parseFloat(n[0]),e=parseInt(n[1],10));var a;if(!("undefined"!=typeof t&&t>=0&&t<=1))return a=e?i._soundById(e):i._sounds[0],a?a._volume:0;if("loaded"!==i._state)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,n)}}),i;"undefined"==typeof e&&(i._volume=t),e=i._getSoundIds(e);for(var h=0;h<e.length;h++)a=i._soundById(e[h]),a&&(a._volume=t,n[2]||i._stopFade(e[h]),i._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(t,o.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=t*o.volume()),i._emit("volume",a._id));return i},fade:function(t,e,i,n){var r=this,s=Math.abs(t-e),a=t>e?"out":"in",h=s/.01,l=i/h;if("loaded"!==r._state)return r._queue.push({event:"fade",action:function(){r.fade(t,e,i,n)}}),r;r.volume(t,n);for(var c=r._getSoundIds(n),u=0;u<c.length;u++){var p=r._soundById(c[u]);if(p){if(n||r._stopFade(c[u]),r._webAudio&&!p._muted){var f=o.ctx.currentTime,d=f+i/1e3;p._volume=t,p._node.gain.setValueAtTime(t,f),p._node.gain.linearRampToValueAtTime(e,d)}var m=t;p._interval=setInterval(function(t,i){m+="in"===a?.01:-.01,m=Math.max(0,m),m=Math.min(1,m),m=Math.round(100*m)/100,r._webAudio?("undefined"==typeof n&&(r._volume=m),i._volume=m):r.volume(m,t,!0),m===e&&(clearInterval(i._interval),i._interval=null,r.volume(m,t),r._emit("fade",t))}.bind(r,c[u],p),l)}}return r},_stopFade:function(t){var e=this,i=e._soundById(t);return i&&i._interval&&(e._webAudio&&i._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(i._interval),i._interval=null,e._emit("fade",t)),e},loop:function(){var t,e,i,n=this,r=arguments;if(0===r.length)return n._loop;if(1===r.length){if("boolean"!=typeof r[0])return i=n._soundById(parseInt(r[0],10)),!!i&&i._loop;t=r[0],n._loop=t}else 2===r.length&&(t=r[0],e=parseInt(r[1],10));for(var s=n._getSoundIds(e),o=0;o<s.length;o++)i=n._soundById(s[o]),i&&(i._loop=t,n._webAudio&&i._node&&i._node.bufferSource&&(i._node.bufferSource.loop=t));return n},rate:function(){var t,e,i=this,n=arguments;if(0===n.length)e=i._sounds[0]._id;else if(1===n.length){var r=i._getSoundIds(),s=r.indexOf(n[0]);s>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));var a;if("number"!=typeof t)return a=i._soundById(e),a?a._rate:i._rate;if("loaded"!==i._state)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,n)}}),i;"undefined"==typeof e&&(i._rate=t),e=i._getSoundIds(e);for(var h=0;h<e.length;h++)if(a=i._soundById(e[h])){a._rateSeek=i.seek(e[h]),a._playStart=i._webAudio?o.ctx.currentTime:a._playStart,a._rate=t,i._webAudio&&a._node&&a._node.bufferSource?a._node.bufferSource.playbackRate.value=t:a._node&&(a._node.playbackRate=t);var l=i.seek(e[h]),c=(i._sprite[a._sprite][0]+i._sprite[a._sprite][1])/1e3-l,u=1e3*c/Math.abs(a._rate);!i._endTimers[e[h]]&&a._paused||(i._clearTimer(e[h]),i._endTimers[e[h]]=setTimeout(i._ended.bind(i,a),u)),i._emit("rate",a._id)}return i},seek:function(){var t,e,i=this,n=arguments;if(0===n.length)e=i._sounds[0]._id;else if(1===n.length){var r=i._getSoundIds(),s=r.indexOf(n[0]);s>=0?e=parseInt(n[0],10):(e=i._sounds[0]._id,t=parseFloat(n[0]))}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if("undefined"==typeof e)return i;if("loaded"!==i._state)return i._queue.push({event:"seek",action:function(){i.seek.apply(i,n)}}),i;var a=i._soundById(e);if(a){if(!("number"==typeof t&&t>=0)){if(i._webAudio){var h=i.playing(e)?o.ctx.currentTime-a._playStart:0,l=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(l+h*Math.abs(a._rate))}return a._node.currentTime}var c=i.playing(e);c&&i.pause(e,!0),a._seek=t,a._ended=!1,i._clearTimer(e),c&&i.play(e,!0),!i._webAudio&&a._node&&(a._node.currentTime=t),i._emit("seek",e)}return i},playing:function(t){var e=this;if("number"==typeof t){var i=e._soundById(t);return!!i&&!i._paused}for(var n=0;n<e._sounds.length;n++)if(!e._sounds[n]._paused)return!0;return!1},duration:function(t){var e=this,i=e._duration,n=e._soundById(t);return n&&(i=e._sprite[n._sprite][1]/1e3),i},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,i=0;i<e.length;i++){e[i]._paused||(t.stop(e[i]._id),t._emit("end",e[i]._id)),t._webAudio||(e[i]._node.src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=",e[i]._node.removeEventListener("error",e[i]._errorFn,!1),e[i]._node.removeEventListener(o._canPlayEvent,e[i]._loadFn,!1)),delete e[i]._node,t._clearTimer(e[i]._id);var n=o._howls.indexOf(t);n>=0&&o._howls.splice(n,1)}var r=!0;for(i=0;i<o._howls.length;i++)if(o._howls[i]._src===t._src){r=!1;break}return l&&r&&delete l[t._src],t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,i,n){var r=this,s=r["_on"+t];return"function"==typeof e&&s.push(n?{id:i,fn:e,once:n}:{id:i,fn:e}),r},off:function(t,e,i){var n=this,r=n["_on"+t],s=0;if(e){for(s=0;s<r.length;s++)if(e===r[s].fn&&i===r[s].id){r.splice(s,1);break}}else if(t)n["_on"+t]=[];else{var o=Object.keys(n);for(s=0;s<o.length;s++)0===o[s].indexOf("_on")&&Array.isArray(n[o[s]])&&(n[o[s]]=[])}return n},once:function(t,e,i){var n=this;return n.on(t,e,i,1),n},_emit:function(t,e,i){for(var n=this,r=n["_on"+t],s=r.length-1;s>=0;s--)r[s].id&&r[s].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,i)}.bind(n,r[s].fn),0),r[s].once&&n.off(t,r[s].fn,r[s].id));return n},_loadQueue:function(){var t=this;if(t._queue.length>0){var e=t._queue[0];t.once(e.event,function(){t._queue.shift(),t._loadQueue()}),e.action()}return t},_ended:function(t){var e=this,i=t._sprite,n=!(!t._loop&&!e._sprite[i][2]);if(e._emit("end",t._id),!e._webAudio&&n&&e.stop(t._id,!0).play(t._id),e._webAudio&&n){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=o.ctx.currentTime;var r=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),r)}return e._webAudio&&!n&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),o._autoSuspend()),e._webAudio||n||e.stop(t._id),e},_clearTimer:function(t){var e=this;return e._endTimers[t]&&(clearTimeout(e._endTimers[t]),delete e._endTimers[t]),e},_soundById:function(t){for(var e=this,i=0;i<e._sounds.length;i++)if(t===e._sounds[i]._id)return e._sounds[i];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new h(t)},_drain:function(){var t=this,e=t._pool,i=0,n=0;if(!(t._sounds.length<e)){for(n=0;n<t._sounds.length;n++)t._sounds[n]._ended&&i++;for(n=t._sounds.length-1;n>=0;n--){if(i<=e)return;t._sounds[n]._ended&&(t._webAudio&&t._sounds[n]._node&&t._sounds[n]._node.disconnect(0),t._sounds.splice(n,1),i--)}}},_getSoundIds:function(t){var e=this;if("undefined"==typeof t){for(var i=[],n=0;n<e._sounds.length;n++)i.push(e._sounds[n]._id);return i}return[t]},_refreshBuffer:function(t){var e=this;return t._node.bufferSource=o.ctx.createBufferSource(),t._node.bufferSource.buffer=l[e._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop),t._node.bufferSource.playbackRate.value=t._rate,e},_cleanBuffer:function(t){var e=this;if(e._scratchBuffer){t.bufferSource.onended=null,t.bufferSource.disconnect(0);try{t.bufferSource.buffer=e._scratchBuffer}catch(i){}}return t.bufferSource=null,e}};var h=function(t){this._parent=t,this.init()};h.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._muted=e._muted,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=Math.round(Date.now()*Math.random()),e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,i=o._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node="undefined"==typeof o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),t._node.gain.setValueAtTime(i,o.ctx.currentTime),t._node.paused=!0,t._node.connect(o.masterGain)):(t._node=new Audio,t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(o._canPlayEvent,t._loadFn,!1),t._node.src=e._src,t._node.preload="auto",t._node.volume=i*o.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._muted=e._muted,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=Math.round(Date.now()*Math.random()),t},_errorListener:function(){var t=this;t._node.error&&4===t._node.error.code&&(o.noAudio=!0),t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorListener,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),e._autoplay&&e.play(),t._node.removeEventListener(o._canPlayEvent,t._loadFn,!1)}};var l={},c=function(t){var e=t._src;if(l[e])return t._duration=l[e].duration,void f(t);if(/^data:[^;]+;base64,/.test(e)){for(var i=atob(e.split(",")[1]),n=new Uint8Array(i.length),r=0;r<i.length;++r)n[r]=i.charCodeAt(r);p(n.buffer,t)}else{var s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="arraybuffer",s.onload=function(){var e=(s.status+"")[0];return"0"!==e&&"2"!==e&&"3"!==e?void t._emit("loaderror",null,"Failed loading audio file with status: "+s.status+"."):void p(s.response,t)},s.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete l[e],t.load())},u(s)}},u=function(t){try{t.send()}catch(e){t.onerror()}},p=function(t,e){o.ctx.decodeAudioData(t,function(t){t&&e._sounds.length>0&&(l[e._src]=t,f(e,t))},function(){e._emit("loaderror",null,"Decoding audio data failed.")})},f=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),t._autoplay&&t.play()},d=function(){o.noAudio=!1;try{"undefined"!=typeof AudioContext?o.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(t){o.usingWebAudio=!1}if(!o.usingWebAudio)if("undefined"!=typeof Audio)try{var e=new Audio;"undefined"==typeof e.oncanplaythrough&&(o._canPlayEvent="canplay")}catch(t){o.noAudio=!0}else o.noAudio=!0;try{var e=new Audio;e.muted&&(o.noAudio=!0)}catch(t){}var i=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),n=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=n?parseInt(n[1],10):null;if(i&&r&&r<9){var s=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());(o._navigator&&o._navigator.standalone&&!s||o._navigator&&!o._navigator.standalone&&!s)&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain="undefined"==typeof o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.value=1,o.masterGain.connect(o.ctx.destination)),o._setup()};n=[],r=function(){return{Howler:o,Howl:a}}.apply(e,n),!(void 0!==r&&(t.exports=r)),e.Howler=o,e.Howl=a,"undefined"!=typeof window?(window.HowlerGlobal=s,window.Howler=o,window.Howl=a,window.Sound=h):"undefined"!=typeof i&&(i.HowlerGlobal=s,i.Howler=o,i.Howl=a,i.Sound=h)}(),/*!
	 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
	 *  
	 *  howler.js v2.0.0
	 *  howlerjs.com
	 *
	 *  (c) 2013-2016, James Simpson of GoldFire Studios
	 *  goldfirestudios.com
	 *
	 *  MIT License
	 */
function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var i=e._howls.length-1;i>=0;i--)e._howls[i].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,i){var n=this;return n.ctx&&n.ctx.listener?(e="number"!=typeof e?n._pos[1]:e,i="number"!=typeof i?n._pos[2]:i,"number"!=typeof t?n._pos:(n._pos=[t,e,i],n.ctx.listener.setPosition(n._pos[0],n._pos[1],n._pos[2]),n)):n},HowlerGlobal.prototype.orientation=function(t,e,i,n,r,s){var o=this;if(!o.ctx||!o.ctx.listener)return o;var a=o._orientation;return e="number"!=typeof e?a[1]:e,i="number"!=typeof i?a[2]:i,n="number"!=typeof n?a[3]:n,r="number"!=typeof r?a[4]:r,s="number"!=typeof s?a[5]:s,"number"!=typeof t?a:(o._orientation=[t,e,i,n,r,s],o.ctx.listener.setOrientation(t,e,i,n,r,s),o)},Howl.prototype.init=function(t){return function(e){var i=this;return i._orientation=e.orientation||[1,0,0],i._stereo=e.stereo||null,i._pos=e.pos||null,i._pannerAttr={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:0,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:"inverse",maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:1e4,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:"HRTF",refDistance:"undefined"!=typeof e.refDistance?e.refDistance:1,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:1},i._onstereo=e.onstereo?[{fn:e.onstereo}]:[],i._onpos=e.onpos?[{fn:e.onpos}]:[],i._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,i){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(e,i)}}),n;var r="undefined"==typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"==typeof i){if("number"!=typeof e)return n._stereo;n._stereo=e,n._pos=[e,0,0]}for(var s=n._getSoundIds(i),o=0;o<s.length;o++){var a=n._soundById(s[o]);if(a){if("number"!=typeof e)return a._stereo;a._stereo=e,a._pos=[e,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||t(a,r),"spatial"===r?a._panner.setPosition(e,0,0):a._panner.pan.value=e),n._emit("stereo",a._id)}}return n},Howl.prototype.pos=function(e,i,n,r){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"pos",action:function(){s.pos(e,i,n,r)}}),s;if(i="number"!=typeof i?0:i,n="number"!=typeof n?-.5:n,"undefined"==typeof r){if("number"!=typeof e)return s._pos;s._pos=[e,i,n]}for(var o=s._getSoundIds(r),a=0;a<o.length;a++){var h=s._soundById(o[a]);if(h){if("number"!=typeof e)return h._pos;h._pos=[e,i,n],h._node&&(h._panner&&!h._panner.pan||t(h,"spatial"),h._panner.setPosition(e,i,n)),s._emit("pos",h._id)}}return s},Howl.prototype.orientation=function(e,i,n,r){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"orientation",action:function(){s.orientation(e,i,n,r)}}),s;if(i="number"!=typeof i?s._orientation[1]:i,n="number"!=typeof n?s._orientation[2]:n,"undefined"==typeof r){if("number"!=typeof e)return s._orientation;s._orientation=[e,i,n]}for(var o=s._getSoundIds(r),a=0;a<o.length;a++){var h=s._soundById(o[a]);if(h){if("number"!=typeof e)return h._orientation;h._orientation=[e,i,n],h._node&&(h._panner||(h._pos||(h._pos=s._pos||[0,0,-.5]),t(h,"spatial")),h._panner.setOrientation(e,i,n)),s._emit("orientation",h._id)}}return s},Howl.prototype.pannerAttr=function(){var e,i,n,r=this,s=arguments;if(!r._webAudio)return r;if(0===s.length)return r._pannerAttr;if(1===s.length){if("object"!=typeof s[0])return n=r._soundById(parseInt(s[0],10)),n?n._pannerAttr:r._pannerAttr;e=s[0],"undefined"==typeof i&&(r._pannerAttr={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:r._coneOuterAngle,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:r._coneOuterGain,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:r._distanceModel,maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:r._maxDistance,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:r._panningModel,refDistance:"undefined"!=typeof e.refDistance?e.refDistance:r._refDistance,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:r._rolloffFactor})}else 2===s.length&&(e=s[0],i=parseInt(s[1],10));for(var o=r._getSoundIds(i),a=0;a<o.length;a++)if(n=r._soundById(o[a])){var h=n._pannerAttr;h={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:h.coneOuterAngle,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:h.coneOuterGain,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:h.distanceModel,maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:h.maxDistance,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:h.panningModel,refDistance:"undefined"!=typeof e.refDistance?e.refDistance:h.refDistance,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:h.rolloffFactor};var l=n._panner;l?(l.coneInnerAngle=h.coneInnerAngle,l.coneOuterAngle=h.coneOuterAngle,l.coneOuterGain=h.coneOuterGain,l.distanceModel=h.distanceModel,l.maxDistance=h.maxDistance,l.panningModel=h.panningModel,l.refDistance=h.refDistance,l.rolloffFactor=h.rolloffFactor):(n._pos||(n._pos=r._pos||[0,0,-.5]),t(n,"spatial"))}return r},Sound.prototype.init=function(t){return function(){var e=this,i=e._parent;e._orientation=i._orientation,e._stereo=i._stereo,e._pos=i._pos,e._pannerAttr=i._pannerAttr,t.call(this),e._stereo?i.stereo(e._stereo):e._pos&&i.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,i=e._parent;return e._orientation=i._orientation,e._pos=i._pos,e._pannerAttr=i._pannerAttr,t.call(this)}}(Sound.prototype.reset);var t=function(t,e){e=e||"spatial","spatial"===e?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.panningModel=t._pannerAttr.panningModel,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.value=t._stereo),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id)}}()}).call(e,function(){return this}())},function(t,e,i){var n,r;/*!
	 * jQuery JavaScript Library v3.1.0
	 * https://jquery.com/
	 *
	 * Includes Sizzle.js
	 * https://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2016-07-07T21:44Z
	 */
!function(e,i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,function(i,s){"use strict";function o(t,e){e=e||nt;var i=e.createElement("script");i.text=t,e.head.appendChild(i).parentNode.removeChild(i)}function a(t){var e=!!t&&"length"in t&&t.length,i=yt.type(t);return"function"!==i&&!yt.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function h(t,e,i){if(yt.isFunction(e))return yt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return yt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(xt.test(e))return yt.filter(e,t,i);e=yt.filter(e,t)}return yt.grep(t,function(t){return ht.call(e,t)>-1!==i&&1===t.nodeType})}function l(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t){var e={};return yt.each(t.match(Nt)||[],function(t,i){e[i]=!0}),e}function u(t){return t}function p(t){throw t}function f(t,e,i){var n;try{t&&yt.isFunction(n=t.promise)?n.call(t).done(e).fail(i):t&&yt.isFunction(n=t.then)?n.call(t,e,i):e.call(void 0,t)}catch(t){i.call(void 0,t)}}function d(){nt.removeEventListener("DOMContentLoaded",d),i.removeEventListener("load",d),yt.ready()}function m(){this.expando=yt.expando+m.uid++}function y(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Vt,"-$&").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:jt.test(i)?JSON.parse(i):i)}catch(r){}Ft.set(t,e,i)}else i=void 0;return i}function g(t,e,i,n){var r,s=1,o=20,a=n?function(){return n.cur()}:function(){return yt.css(t,e,"")},h=a(),l=i&&i[3]||(yt.cssNumber[e]?"":"px"),c=(yt.cssNumber[e]||"px"!==l&&+h)&&zt.exec(yt.css(t,e));if(c&&c[3]!==l){l=l||c[3],i=i||[],c=+h||1;do s=s||".5",c/=s,yt.style(t,e,c+l);while(s!==(s=a()/h)&&1!==s&&--o)}return i&&(c=+c||+h||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=c,n.end=r)),r}function v(t){var e,i=t.ownerDocument,n=t.nodeName,r=Wt[n];return r?r:(e=i.body.appendChild(i.createElement(n)),r=yt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Wt[n]=r,r)}function _(t,e){for(var i,n,r=[],s=0,o=t.length;s<o;s++)n=t[s],n.style&&(i=n.style.display,e?("none"===i&&(r[s]=Bt.get(n,"display")||null,r[s]||(n.style.display="")),""===n.style.display&&Ut(n)&&(r[s]=v(n))):"none"!==i&&(r[s]="none",Bt.set(n,"display",i)));for(s=0;s<o;s++)null!=r[s]&&(t[s].style.display=r[s]);return t}function b(t,e){var i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&yt.nodeName(t,e)?yt.merge([t],i):i}function E(t,e){for(var i=0,n=t.length;i<n;i++)Bt.set(t[i],"globalEval",!e||Bt.get(e[i],"globalEval"))}function T(t,e,i,n,r){for(var s,o,a,h,l,c,u=e.createDocumentFragment(),p=[],f=0,d=t.length;f<d;f++)if(s=t[f],s||0===s)if("object"===yt.type(s))yt.merge(p,s.nodeType?[s]:s);else if(Qt.test(s)){for(o=o||u.appendChild(e.createElement("div")),a=(Xt.exec(s)||["",""])[1].toLowerCase(),h=Zt[a]||Zt._default,o.innerHTML=h[1]+yt.htmlPrefilter(s)+h[2],c=h[0];c--;)o=o.lastChild;yt.merge(p,o.childNodes),o=u.firstChild,o.textContent=""}else p.push(e.createTextNode(s));for(u.textContent="",f=0;s=p[f++];)if(n&&yt.inArray(s,n)>-1)r&&r.push(s);else if(l=yt.contains(s.ownerDocument,s),o=b(u.appendChild(s),"script"),l&&E(o),i)for(c=0;s=o[c++];)$t.test(s.type||"")&&i.push(s);return u}function A(){return!0}function w(){return!1}function C(){try{return nt.activeElement}catch(t){}}function x(t,e,i,n,r,s){var o,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)x(t,a,i,n,e[a],s);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),r===!1)r=w;else if(!r)return t;return 1===s&&(o=r,r=function(t){return yt().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=yt.guid++)),t.each(function(){yt.event.add(this,e,r,n,i)})}function S(t,e){return yt.nodeName(t,"table")&&yt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function P(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function k(t){var e=se.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function I(t,e){var i,n,r,s,o,a,h,l;if(1===e.nodeType){if(Bt.hasData(t)&&(s=Bt.access(t),o=Bt.set(e,s),l=s.events)){delete o.handle,o.events={};for(r in l)for(i=0,n=l[r].length;i<n;i++)yt.event.add(e,r,l[r][i])}Ft.hasData(t)&&(a=Ft.access(t),h=yt.extend({},a),Ft.set(e,h))}}function R(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Yt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function N(t,e,i,n){e=ot.apply([],e);var r,s,a,h,l,c,u=0,p=t.length,f=p-1,d=e[0],m=yt.isFunction(d);if(m||p>1&&"string"==typeof d&&!dt.checkClone&&re.test(d))return t.each(function(r){var s=t.eq(r);m&&(e[0]=d.call(this,r,s.html())),N(s,e,i,n)});if(p&&(r=T(e,t[0].ownerDocument,!1,t,n),s=r.firstChild,1===r.childNodes.length&&(r=s),s||n)){for(a=yt.map(b(r,"script"),P),h=a.length;u<p;u++)l=r,u!==f&&(l=yt.clone(l,!0,!0),h&&yt.merge(a,b(l,"script"))),i.call(t[u],l,u);if(h)for(c=a[a.length-1].ownerDocument,yt.map(a,k),u=0;u<h;u++)l=a[u],$t.test(l.type||"")&&!Bt.access(l,"globalEval")&&yt.contains(c,l)&&(l.src?yt._evalUrl&&yt._evalUrl(l.src):o(l.textContent.replace(oe,""),c))}return t}function O(t,e,i){for(var n,r=e?yt.filter(e,t):t,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||yt.cleanData(b(n)),n.parentNode&&(i&&yt.contains(n.ownerDocument,n)&&E(b(n,"script")),n.parentNode.removeChild(n));return t}function M(t,e,i){var n,r,s,o,a=t.style;return i=i||le(t),i&&(o=i.getPropertyValue(e)||i[e],""!==o||yt.contains(t.ownerDocument,t)||(o=yt.style(t,e)),!dt.pixelMarginRight()&&he.test(o)&&ae.test(e)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function D(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function L(t){if(t in de)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=fe.length;i--;)if(t=fe[i]+e,t in de)return t}function B(t,e,i){var n=zt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function F(t,e,i,n,r){for(var s=i===(n?"border":"content")?4:"width"===e?1:0,o=0;s<4;s+=2)"margin"===i&&(o+=yt.css(t,i+Gt[s],!0,r)),n?("content"===i&&(o-=yt.css(t,"padding"+Gt[s],!0,r)),"margin"!==i&&(o-=yt.css(t,"border"+Gt[s]+"Width",!0,r))):(o+=yt.css(t,"padding"+Gt[s],!0,r),"padding"!==i&&(o+=yt.css(t,"border"+Gt[s]+"Width",!0,r)));return o}function j(t,e,i){var n,r=!0,s=le(t),o="border-box"===yt.css(t,"boxSizing",!1,s);if(t.getClientRects().length&&(n=t.getBoundingClientRect()[e]),n<=0||null==n){if(n=M(t,e,s),(n<0||null==n)&&(n=t.style[e]),he.test(n))return n;r=o&&(dt.boxSizingReliable()||n===t.style[e]),n=parseFloat(n)||0}return n+F(t,e,i||(o?"border":"content"),r,s)+"px"}function V(t,e,i,n,r){return new V.prototype.init(t,e,i,n,r)}function H(){ye&&(i.requestAnimationFrame(H),yt.fx.tick())}function z(){return i.setTimeout(function(){me=void 0}),me=yt.now()}function G(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)i=Gt[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function U(t,e,i){for(var n,r=(Y.tweeners[e]||[]).concat(Y.tweeners["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,e,t))return n}function q(t,e,i){var n,r,s,o,a,h,l,c,u="width"in e||"height"in e,p=this,f={},d=t.style,m=t.nodeType&&Ut(t),y=Bt.get(t,"fxshow");i.queue||(o=yt._queueHooks(t,"fx"),null==o.unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,p.always(function(){p.always(function(){o.unqueued--,yt.queue(t,"fx").length||o.empty.fire()})}));for(n in e)if(r=e[n],ge.test(r)){if(delete e[n],s=s||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!y||void 0===y[n])continue;m=!0}f[n]=y&&y[n]||yt.style(t,n)}if(h=!yt.isEmptyObject(e),h||!yt.isEmptyObject(f)){u&&1===t.nodeType&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],l=y&&y.display,null==l&&(l=Bt.get(t,"display")),c=yt.css(t,"display"),"none"===c&&(l?c=l:(_([t],!0),l=t.style.display||l,c=yt.css(t,"display"),_([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===yt.css(t,"float")&&(h||(p.done(function(){d.display=l}),null==l&&(c=d.display,l="none"===c?"":c)),d.display="inline-block")),i.overflow&&(d.overflow="hidden",p.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]})),h=!1;for(n in f)h||(y?"hidden"in y&&(m=y.hidden):y=Bt.access(t,"fxshow",{display:l}),s&&(y.hidden=!m),m&&_([t],!0),p.done(function(){m||_([t]),Bt.remove(t,"fxshow");for(n in f)yt.style(t,n,f[n])})),h=U(m?y[n]:0,n,p),n in y||(y[n]=h.start,m&&(h.end=h.start,h.start=0))}}function W(t,e){var i,n,r,s,o;for(i in t)if(n=yt.camelCase(i),r=e[n],s=t[i],yt.isArray(s)&&(r=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),o=yt.cssHooks[n],o&&"expand"in o){s=o.expand(s),delete t[n];for(i in s)i in t||(t[i]=s[i],e[i]=r)}else e[n]=r}function Y(t,e,i){var n,r,s=0,o=Y.prefilters.length,a=yt.Deferred().always(function(){delete h.elem}),h=function(){if(r)return!1;for(var e=me||z(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,s=1-n,o=0,h=l.tweens.length;o<h;o++)l.tweens[o].run(s);return a.notifyWith(t,[l,s,i]),s<1&&h?i:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:yt.extend({},e),opts:yt.extend(!0,{specialEasing:{},easing:yt.easing._default},i),originalProperties:e,originalOptions:i,startTime:me||z(),duration:i.duration,tweens:[],createTween:function(e,i){var n=yt.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)l.tweens[i].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(W(c,l.opts.specialEasing);s<o;s++)if(n=Y.prefilters[s].call(l,t,c,l.opts))return yt.isFunction(n.stop)&&(yt._queueHooks(l.elem,l.opts.queue).stop=yt.proxy(n.stop,n)),n;return yt.map(c,U,l),yt.isFunction(l.opts.start)&&l.opts.start.call(t,l),yt.fx.timer(yt.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function X(t){return t.getAttribute&&t.getAttribute("class")||""}function $(t,e,i,n){var r;if(yt.isArray(e))yt.each(e,function(e,r){i||Ie.test(t)?n(t,r):$(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==yt.type(e))n(t,e);else for(r in e)$(t+"["+r+"]",e[r],i,n)}function Z(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,s=e.toLowerCase().match(Nt)||[];if(yt.isFunction(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function Q(t,e,i,n){function r(a){var h;return s[a]=!0,yt.each(t[a]||[],function(t,a){var l=a(e,i,n);return"string"!=typeof l||o||s[l]?o?!(h=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),h}var s={},o=t===ze;return r(e.dataTypes[0])||!s["*"]&&r("*")}function J(t,e){var i,n,r=yt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&yt.extend(!0,t,n),t}function K(t,e,i){for(var n,r,s,o,a=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){h.unshift(r);break}if(h[0]in i)s=h[0];else{for(r in i){if(!h[0]||t.converters[r+" "+h[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==h[0]&&h.unshift(s),i[s]}function tt(t,e,i,n){var r,s,o,a,h,l={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)l[o.toLowerCase()]=t.converters[o];for(s=c.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!h&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=s,s=c.shift())if("*"===s)s=h;else if("*"!==h&&h!==s){if(o=l[h+" "+s]||l["* "+s],!o)for(r in l)if(a=r.split(" "),a[1]===s&&(o=l[h+" "+a[0]]||l["* "+a[0]])){o===!0?o=l[r]:l[r]!==!0&&(s=a[0],c.unshift(a[1]));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(u){return{state:"parsererror",error:o?u:"No conversion from "+h+" to "+s}}}return{state:"success",data:e}}function et(t){return yt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var it=[],nt=i.document,rt=Object.getPrototypeOf,st=it.slice,ot=it.concat,at=it.push,ht=it.indexOf,lt={},ct=lt.toString,ut=lt.hasOwnProperty,pt=ut.toString,ft=pt.call(Object),dt={},mt="3.1.0",yt=function(t,e){return new yt.fn.init(t,e)},gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,vt=/^-ms-/,_t=/-([a-z])/g,bt=function(t,e){return e.toUpperCase()};yt.fn=yt.prototype={jquery:mt,constructor:yt,length:0,toArray:function(){return st.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:st.call(this)},pushStack:function(t){var e=yt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return yt.each(this,t)},map:function(t){return this.pushStack(yt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(st.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:it.sort,splice:it.splice},yt.extend=yt.fn.extend=function(){var t,e,i,n,r,s,o=arguments[0]||{},a=1,h=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||yt.isFunction(o)||(o={}),a===h&&(o=this,a--);a<h;a++)if(null!=(t=arguments[a]))for(e in t)i=o[e],n=t[e],o!==n&&(l&&n&&(yt.isPlainObject(n)||(r=yt.isArray(n)))?(r?(r=!1,s=i&&yt.isArray(i)?i:[]):s=i&&yt.isPlainObject(i)?i:{},o[e]=yt.extend(l,s,n)):void 0!==n&&(o[e]=n));return o},yt.extend({expando:"jQuery"+(mt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===yt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=yt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==ct.call(t))&&(!(e=rt(t))||(i=ut.call(e,"constructor")&&e.constructor,"function"==typeof i&&pt.call(i)===ft))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ct.call(t)]||"object":typeof t},globalEval:function(t){o(t)},camelCase:function(t){return t.replace(vt,"ms-").replace(_t,bt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,n=0;if(a(t))for(i=t.length;n<i&&e.call(t[n],n,t[n])!==!1;n++);else for(n in t)if(e.call(t[n],n,t[n])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(gt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(a(Object(t))?yt.merge(i,"string"==typeof t?[t]:t):at.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:ht.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n,r=[],s=0,o=t.length,a=!i;s<o;s++)n=!e(t[s],s),n!==a&&r.push(t[s]);return r},map:function(t,e,i){var n,r,s=0,o=[];if(a(t))for(n=t.length;s<n;s++)r=e(t[s],s,i),null!=r&&o.push(r);else for(s in t)r=e(t[s],s,i),null!=r&&o.push(r);return ot.apply([],o)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),yt.isFunction(t))return n=st.call(arguments,2),r=function(){return t.apply(e||this,n.concat(st.call(arguments)))},r.guid=t.guid=t.guid||yt.guid++,r},now:Date.now,support:dt}),"function"==typeof Symbol&&(yt.fn[Symbol.iterator]=it[Symbol.iterator]),yt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var Et=/*!
	 * Sizzle CSS Selector Engine v2.3.0
	 * https://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2016-01-04
	 */
function(t){function e(t,e,i,n){var r,s,o,a,h,l,c,p=e&&e.ownerDocument,d=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return i;if(!n&&((e?e.ownerDocument||e:H)!==O&&N(e),e=e||O,D)){if(11!==d&&(h=gt.exec(t)))if(r=h[1]){if(9===d){if(!(o=e.getElementById(r)))return i;if(o.id===r)return i.push(o),i}else if(p&&(o=p.getElementById(r))&&j(e,o)&&o.id===r)return i.push(o),i}else{if(h[2])return J.apply(i,e.getElementsByTagName(t)),i;if((r=h[3])&&T.getElementsByClassName&&e.getElementsByClassName)return J.apply(i,e.getElementsByClassName(r)),i}if(T.qsa&&!W[t+" "]&&(!L||!L.test(t))){if(1!==d)p=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(Et,Tt):e.setAttribute("id",a=V),l=x(t),s=l.length;s--;)l[s]="#"+a+" "+f(l[s]);c=l.join(","),p=vt.test(t)&&u(e.parentNode)||e}if(c)try{return J.apply(i,p.querySelectorAll(c)),i}catch(m){}finally{a===V&&e.removeAttribute("id")}}}return P(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>A.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[V]=!0,t}function r(t){var e=O.createElement("fieldset");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var i=t.split("|"),n=i.length;n--;)A.attrHandle[i[n]]=e}function o(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function h(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function l(t){return function(e){return"label"in e&&e.disabled===t||"form"in e&&e.disabled===t||"form"in e&&e.disabled===!1&&(e.isDisabled===t||e.isDisabled!==!t&&("label"in e||!wt(e))!==t)}}function c(t){return n(function(e){return e=+e,n(function(i,n){for(var r,s=t([],i.length,e),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function p(){}function f(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function d(t,e,i){var n=e.dir,r=e.next,s=r||n,o=i&&"parentNode"===s,a=G++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,h){var l,c,u,p=[z,a];if(h){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,h))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(u=e[V]||(e[V]={}),c=u[e.uniqueID]||(u[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((l=c[s])&&l[0]===z&&l[1]===a)return p[2]=l[2];if(c[s]=p,p[2]=t(e,i,h))return!0}}}function m(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function y(t,i,n){for(var r=0,s=i.length;r<s;r++)e(t,i[r],n);return n}function g(t,e,i,n,r){for(var s,o=[],a=0,h=t.length,l=null!=e;a<h;a++)(s=t[a])&&(i&&!i(s,n,r)||(o.push(s),l&&e.push(a)));return o}function v(t,e,i,r,s,o){return r&&!r[V]&&(r=v(r)),s&&!s[V]&&(s=v(s,o)),n(function(n,o,a,h){var l,c,u,p=[],f=[],d=o.length,m=n||y(e||"*",a.nodeType?[a]:a,[]),v=!t||!n&&e?m:g(m,p,t,a,h),_=i?s||(n?t:d||r)?[]:o:v;if(i&&i(v,_,a,h),r)for(l=g(_,f),r(l,[],a,h),c=l.length;c--;)(u=l[c])&&(_[f[c]]=!(v[f[c]]=u));if(n){if(s||t){if(s){for(l=[],c=_.length;c--;)(u=_[c])&&l.push(v[c]=u);s(null,_=[],l,h)}for(c=_.length;c--;)(u=_[c])&&(l=s?tt(n,u):p[c])>-1&&(n[l]=!(o[l]=u))}}else _=g(_===o?_.splice(d,_.length):_),s?s(null,o,_,h):J.apply(o,_)})}function _(t){for(var e,i,n,r=t.length,s=A.relative[t[0].type],o=s||A.relative[" "],a=s?1:0,h=d(function(t){return t===e},o,!0),l=d(function(t){return tt(e,t)>-1},o,!0),c=[function(t,i,n){var r=!s&&(n||i!==k)||((e=i).nodeType?h(t,i,n):l(t,i,n));return e=null,r}];a<r;a++)if(i=A.relative[t[a].type])c=[d(m(c),i)];else{if(i=A.filter[t[a].type].apply(null,t[a].matches),i[V]){for(n=++a;n<r&&!A.relative[t[n].type];n++);return v(a>1&&m(c),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,a<n&&_(t.slice(a,n)),n<r&&_(t=t.slice(n)),n<r&&f(t))}c.push(i)}return m(c)}function b(t,i){var r=i.length>0,s=t.length>0,o=function(n,o,a,h,l){var c,u,p,f=0,d="0",m=n&&[],y=[],v=k,_=n||s&&A.find.TAG("*",l),b=z+=null==v?1:Math.random()||.1,E=_.length;for(l&&(k=o===O||o||l);d!==E&&null!=(c=_[d]);d++){if(s&&c){for(u=0,o||c.ownerDocument===O||(N(c),a=!D);p=t[u++];)if(p(c,o||O,a)){h.push(c);break}l&&(z=b)}r&&((c=!p&&c)&&f--,n&&m.push(c))}if(f+=d,r&&d!==f){for(u=0;p=i[u++];)p(m,y,o,a);if(n){if(f>0)for(;d--;)m[d]||y[d]||(y[d]=Z.call(h));y=g(y)}J.apply(h,y),l&&!n&&y.length>0&&f+i.length>1&&e.uniqueSort(h)}return l&&(z=b,k=v),m};return r?n(o):o}var E,T,A,w,C,x,S,P,k,I,R,N,O,M,D,L,B,F,j,V="sizzle"+1*new Date,H=t.document,z=0,G=0,U=i(),q=i(),W=i(),Y=function(t,e){return t===e&&(R=!0),0},X={}.hasOwnProperty,$=[],Z=$.pop,Q=$.push,J=$.push,K=$.slice,tt=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",rt="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",st=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",ot=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ht=new RegExp("^"+it+"*,"+it+"*"),lt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ut=new RegExp(st),pt=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,yt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,_t=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),bt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,Tt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},At=function(){N()},wt=d(function(t){return t.disabled===!0},{dir:"parentNode",next:"legend"});try{J.apply($=K.call(H.childNodes),H.childNodes),$[H.childNodes.length].nodeType}catch(Ct){J={apply:$.length?function(t,e){Q.apply(t,K.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}T=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},N=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:H;return n!==O&&9===n.nodeType&&n.documentElement?(O=n,M=O.documentElement,D=!C(O),H!==O&&(i=O.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",At,!1):i.attachEvent&&i.attachEvent("onunload",At)),T.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),T.getElementsByTagName=r(function(t){return t.appendChild(O.createComment("")),!t.getElementsByTagName("*").length}),T.getElementsByClassName=yt.test(O.getElementsByClassName),T.getById=r(function(t){return M.appendChild(t).id=V,!O.getElementsByName||!O.getElementsByName(V).length}),T.getById?(A.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&D){var i=e.getElementById(t);return i?[i]:[]}},A.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){return t.getAttribute("id")===e}}):(delete A.find.ID,A.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),A.find.TAG=T.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):T.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},A.find.CLASS=T.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&D)return e.getElementsByClassName(t)},B=[],L=[],(T.qsa=yt.test(O.querySelectorAll))&&(r(function(t){M.appendChild(t).innerHTML="<a id='"+V+"'></a><select id='"+V+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+V+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+V+"+*").length||L.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+it+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&L.push(":enabled",":disabled"),M.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(T.matchesSelector=yt.test(F=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&r(function(t){T.disconnectedMatch=F.call(t,"*"),F.call(t,"[s!='']:x"),B.push("!=",st)}),L=L.length&&new RegExp(L.join("|")),B=B.length&&new RegExp(B.join("|")),e=yt.test(M.compareDocumentPosition),j=e||yt.test(M.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Y=e?function(t,e){if(t===e)return R=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!T.sortDetached&&e.compareDocumentPosition(t)===i?t===O||t.ownerDocument===H&&j(H,t)?-1:e===O||e.ownerDocument===H&&j(H,e)?1:I?tt(I,t)-tt(I,e):0:4&i?-1:1)}:function(t,e){if(t===e)return R=!0,0;var i,n=0,r=t.parentNode,s=e.parentNode,a=[t],h=[e];if(!r||!s)return t===O?-1:e===O?1:r?-1:s?1:I?tt(I,t)-tt(I,e):0;if(r===s)return o(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)h.unshift(i);for(;a[n]===h[n];)n++;return n?o(a[n],h[n]):a[n]===H?-1:h[n]===H?1:0},O):O},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==O&&N(t),i=i.replace(ct,"='$1']"),T.matchesSelector&&D&&!W[i+" "]&&(!B||!B.test(i))&&(!L||!L.test(i)))try{var n=F.call(t,i);if(n||T.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(r){}return e(i,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&N(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&N(t);var i=A.attrHandle[e.toLowerCase()],n=i&&X.call(A.attrHandle,e.toLowerCase())?i(t,e,!D):void 0;return void 0!==n?n:T.attributes||!D?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.escape=function(t){return(t+"").replace(Et,Tt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(R=!T.detectDuplicates,I=!T.sortStable&&t.slice(0),t.sort(Y),R){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return I=null,t},w=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=w(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=w(e);return i},A=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ut.test(i)&&(e=x(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var s=e.attr(r,t);return null==s?"!="===i:!i||(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s.replace(ot," ")+" ").indexOf(n)>-1:"|="===i&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,h){var l,c,u,p,f,d,m=s!==o?"nextSibling":"previousSibling",y=e.parentNode,g=a&&e.nodeName.toLowerCase(),v=!h&&!a,_=!1;if(y){if(s){for(;m;){for(p=e;p=p[m];)if(a?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;d=m="only"===t&&!d&&"nextSibling"}return!0}if(d=[o?y.firstChild:y.lastChild],o&&v){for(p=y,u=p[V]||(p[V]={}),c=u[p.uniqueID]||(u[p.uniqueID]={}),l=c[t]||[],f=l[0]===z&&l[1],_=f&&l[2],p=f&&y.childNodes[f];p=++f&&p&&p[m]||(_=f=0)||d.pop();)if(1===p.nodeType&&++_&&p===e){c[t]=[z,f,_];break}}else if(v&&(p=e,u=p[V]||(p[V]={}),c=u[p.uniqueID]||(u[p.uniqueID]={}),l=c[t]||[],f=l[0]===z&&l[1],_=f),_===!1)for(;(p=++f&&p&&p[m]||(_=f=0)||d.pop())&&((a?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++_||(v&&(u=p[V]||(p[V]={}),c=u[p.uniqueID]||(u[p.uniqueID]={}),c[t]=[z,_]),p!==e)););return _-=r,_===n||_%n===0&&_/n>=0}}},PSEUDO:function(t,i){var r,s=A.pseudos[t]||A.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[V]?s(i):s.length>1?(r=[t,t,"",i],A.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=s(t,i),o=r.length;o--;)n=tt(t,r[o]),t[n]=!(e[n]=r[o])}):function(t){return s(t,0,r)}):s}},pseudos:{not:n(function(t){var e=[],i=[],r=S(t.replace(at,"$1"));return r[V]?n(function(t,e,i,n){for(var s,o=r(t,null,n,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,n,s){return e[0]=t,r(e,null,s,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(_t,bt),function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),lang:n(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,bt).toLowerCase(),function(e){var i;do if(i=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!A.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[i<0?i+e:i]}),even:c(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:c(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:c(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:c(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},A.pseudos.nth=A.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[E]=a(E);for(E in{submit:!0,reset:!0})A.pseudos[E]=h(E);return p.prototype=A.filters=A.pseudos,A.setFilters=new p,x=e.tokenize=function(t,i){var n,r,s,o,a,h,l,c=q[t+" "];if(c)return i?0:c.slice(0);for(a=t,h=[],l=A.preFilter;a;){n&&!(r=ht.exec(a))||(r&&(a=a.slice(r[0].length)||a),h.push(s=[])),n=!1,(r=lt.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(at," ")}),a=a.slice(n.length));for(o in A.filter)!(r=ft[o].exec(a))||l[o]&&!(r=l[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):q(t,h).slice(0)},S=e.compile=function(t,e){var i,n=[],r=[],s=W[t+" "];if(!s){for(e||(e=x(t)),i=e.length;i--;)s=_(e[i]),s[V]?n.push(s):r.push(s);s=W(t,b(r,n)),s.selector=t}return s},P=e.select=function(t,e,i,n){var r,s,o,a,h,l="function"==typeof t&&t,c=!n&&x(t=l.selector||t);if(i=i||[],1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&T.getById&&9===e.nodeType&&D&&A.relative[s[1].type]){if(e=(A.find.ID(o.matches[0].replace(_t,bt),e)||[])[0],!e)return i;l&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(r=ft.needsContext.test(t)?0:s.length;r--&&(o=s[r],!A.relative[a=o.type]);)if((h=A.find[a])&&(n=h(o.matches[0].replace(_t,bt),vt.test(s[0].type)&&u(e.parentNode)||e))){if(s.splice(r,1),t=n.length&&f(s),!t)return J.apply(i,n),i;break}}return(l||S(t,c))(n,e,!D,i,!e||vt.test(t)&&u(e.parentNode)||e),i},T.sortStable=V.split("").sort(Y).join("")===V,T.detectDuplicates=!!R,N(),T.sortDetached=r(function(t){return 1&t.compareDocumentPosition(O.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),T.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||s(et,function(t,e,i){var n;if(!i)return t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(i);yt.find=Et,yt.expr=Et.selectors,yt.expr[":"]=yt.expr.pseudos,yt.uniqueSort=yt.unique=Et.uniqueSort,yt.text=Et.getText,yt.isXMLDoc=Et.isXML,yt.contains=Et.contains,yt.escapeSelector=Et.escape;var Tt=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&yt(t).is(i))break;n.push(t)}return n},At=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},wt=yt.expr.match.needsContext,Ct=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,xt=/^.[^:#\[\.,]*$/;yt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?yt.find.matchesSelector(n,t)?[n]:[]:yt.find.matches(t,yt.grep(e,function(t){return 1===t.nodeType}))},yt.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(yt(t).filter(function(){for(e=0;e<n;e++)if(yt.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)yt.find(t,r[e],i);return n>1?yt.uniqueSort(i):i},filter:function(t){return this.pushStack(h(this,t||[],!1))},not:function(t){return this.pushStack(h(this,t||[],!0))},is:function(t){return!!h(this,"string"==typeof t&&wt.test(t)?yt(t):t||[],!1).length}});var St,Pt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,kt=yt.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||St,"string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Pt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof yt?e[0]:e,yt.merge(this,yt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),Ct.test(n[1])&&yt.isPlainObject(e))for(n in e)yt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=nt.getElementById(n[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):yt.isFunction(t)?void 0!==i.ready?i.ready(t):t(yt):yt.makeArray(t,this)};kt.prototype=yt.fn,St=yt(nt);var It=/^(?:parents|prev(?:Until|All))/,Rt={children:!0,contents:!0,next:!0,prev:!0};yt.fn.extend({has:function(t){var e=yt(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(yt.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,s=[],o="string"!=typeof t&&yt(t);if(!wt.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&yt.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?yt.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?ht.call(yt(t),this[0]):ht.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(yt.uniqueSort(yt.merge(this.get(),yt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),yt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Tt(t,"parentNode")},parentsUntil:function(t,e,i){return Tt(t,"parentNode",i)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return Tt(t,"nextSibling")},prevAll:function(t){return Tt(t,"previousSibling")},nextUntil:function(t,e,i){return Tt(t,"nextSibling",i)},prevUntil:function(t,e,i){return Tt(t,"previousSibling",i)},siblings:function(t){return At((t.parentNode||{}).firstChild,t)},children:function(t){return At(t.firstChild)},contents:function(t){return t.contentDocument||yt.merge([],t.childNodes)}},function(t,e){yt.fn[t]=function(i,n){var r=yt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=yt.filter(n,r)),this.length>1&&(Rt[t]||yt.uniqueSort(r),It.test(t)&&r.reverse()),this.pushStack(r)}});var Nt=/\S+/g;yt.Callbacks=function(t){t="string"==typeof t?c(t):yt.extend({},t);var e,i,n,r,s=[],o=[],a=-1,h=function(){for(r=t.once,n=e=!0;o.length;a=-1)for(i=o.shift();++a<s.length;)s[a].apply(i[0],i[1])===!1&&t.stopOnFalse&&(a=s.length,i=!1);t.memory||(i=!1),e=!1,r&&(s=i?[]:"")},l={add:function(){return s&&(i&&!e&&(a=s.length-1,o.push(i)),function n(e){yt.each(e,function(e,i){yt.isFunction(i)?t.unique&&l.has(i)||s.push(i):i&&i.length&&"string"!==yt.type(i)&&n(i)})}(arguments),i&&!e&&h()),this},remove:function(){return yt.each(arguments,function(t,e){for(var i;(i=yt.inArray(e,s,i))>-1;)s.splice(i,1),i<=a&&a--}),this},has:function(t){return t?yt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=o=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=o=[],i||e||(s=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=i||[],i=[t,i.slice?i.slice():i],o.push(i),e||h()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},yt.extend({Deferred:function(t){var e=[["notify","progress",yt.Callbacks("memory"),yt.Callbacks("memory"),2],["resolve","done",yt.Callbacks("once memory"),yt.Callbacks("once memory"),0,"resolved"],["reject","fail",yt.Callbacks("once memory"),yt.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(t){return r.then(null,t)},pipe:function(){var t=arguments;return yt.Deferred(function(i){yt.each(e,function(e,n){var r=yt.isFunction(t[n[4]])&&t[n[4]];s[n[1]](function(){var t=r&&r.apply(this,arguments);t&&yt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,n,r){function s(t,e,n,r){return function(){var a=this,h=arguments,l=function(){var i,l;if(!(t<o)){if(i=n.apply(a,h),i===e.promise())throw new TypeError("Thenable self-resolution");l=i&&("object"==typeof i||"function"==typeof i)&&i.then,yt.isFunction(l)?r?l.call(i,s(o,e,u,r),s(o,e,p,r)):(o++,l.call(i,s(o,e,u,r),s(o,e,p,r),s(o,e,u,e.notifyWith))):(n!==u&&(a=void 0,h=[i]),(r||e.resolveWith)(a,h))}},c=r?l:function(){try{l()}catch(i){yt.Deferred.exceptionHook&&yt.Deferred.exceptionHook(i,c.stackTrace),t+1>=o&&(n!==p&&(a=void 0,h=[i]),e.rejectWith(a,h))}};t?c():(yt.Deferred.getStackHook&&(c.stackTrace=yt.Deferred.getStackHook()),i.setTimeout(c))}}var o=0;return yt.Deferred(function(i){e[0][3].add(s(0,i,yt.isFunction(r)?r:u,i.notifyWith)),e[1][3].add(s(0,i,yt.isFunction(t)?t:u)),e[2][3].add(s(0,i,yt.isFunction(n)?n:p))}).promise()},promise:function(t){return null!=t?yt.extend(t,r):r}},s={};return yt.each(e,function(t,i){var o=i[2],a=i[5];r[i[1]]=o.add,a&&o.add(function(){n=a},e[3-t][2].disable,e[0][2].lock),o.add(i[3].fire),s[i[0]]=function(){return s[i[0]+"With"](this===s?void 0:this,arguments),this},s[i[0]+"With"]=o.fireWith}),r.promise(s),t&&t.call(s,s),s},when:function(t){var e=arguments.length,i=e,n=Array(i),r=st.call(arguments),s=yt.Deferred(),o=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?st.call(arguments):i,--e||s.resolveWith(n,r)}};if(e<=1&&(f(t,s.done(o(i)).resolve,s.reject),"pending"===s.state()||yt.isFunction(r[i]&&r[i].then)))return s.then();for(;i--;)f(r[i],o(i),s.reject);return s.promise()}});var Ot=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;yt.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&Ot.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},yt.readyException=function(t){i.setTimeout(function(){throw t})};var Mt=yt.Deferred();yt.fn.ready=function(t){return Mt.then(t)["catch"](function(t){yt.readyException(t)}),this},yt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?yt.readyWait++:yt.ready(!0)},ready:function(t){(t===!0?--yt.readyWait:yt.isReady)||(yt.isReady=!0,t!==!0&&--yt.readyWait>0||Mt.resolveWith(nt,[yt]))}}),yt.ready.then=Mt.then,"complete"===nt.readyState||"loading"!==nt.readyState&&!nt.documentElement.doScroll?i.setTimeout(yt.ready):(nt.addEventListener("DOMContentLoaded",d),i.addEventListener("load",d));var Dt=function(t,e,i,n,r,s,o){var a=0,h=t.length,l=null==i;if("object"===yt.type(i)){r=!0;for(a in i)Dt(t,e,a,i[a],!0,s,o)}else if(void 0!==n&&(r=!0,yt.isFunction(n)||(o=!0),l&&(o?(e.call(t,n),e=null):(l=e,e=function(t,e,i){return l.call(yt(t),i)})),e))for(;a<h;a++)e(t[a],i,o?n:n.call(t[a],a,e(t[a],i)));return r?t:l?e.call(t):h?e(t[0],i):s},Lt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};m.uid=1,m.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Lt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[yt.camelCase(e)]=i;else for(n in e)r[yt.camelCase(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][yt.camelCase(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){yt.isArray(e)?e=e.map(yt.camelCase):(e=yt.camelCase(e),e=e in n?[e]:e.match(Nt)||[]),i=e.length;for(;i--;)delete n[e[i]]}(void 0===e||yt.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!yt.isEmptyObject(e)}};var Bt=new m,Ft=new m,jt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Vt=/[A-Z]/g;yt.extend({hasData:function(t){return Ft.hasData(t)||Bt.hasData(t)},data:function(t,e,i){return Ft.access(t,e,i)},removeData:function(t,e){Ft.remove(t,e)},_data:function(t,e,i){return Bt.access(t,e,i)},_removeData:function(t,e){Bt.remove(t,e)}}),yt.fn.extend({data:function(t,e){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(r=Ft.get(s),1===s.nodeType&&!Bt.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=yt.camelCase(n.slice(5)),y(s,n,r[n])));Bt.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Ft.set(this,t)}):Dt(this,function(e){var i;if(s&&void 0===e){if(i=Ft.get(s,t),void 0!==i)return i;if(i=y(s,t),void 0!==i)return i}else this.each(function(){Ft.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ft.remove(this,t)})}}),yt.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=Bt.get(t,e),i&&(!n||yt.isArray(i)?n=Bt.access(t,e,yt.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=yt.queue(t,e),n=i.length,r=i.shift(),s=yt._queueHooks(t,e),o=function(){yt.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete s.stop,r.call(t,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Bt.get(t,i)||Bt.access(t,i,{empty:yt.Callbacks("once memory").add(function(){Bt.remove(t,[e+"queue",i])})})}}),yt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?yt.queue(this[0],t):void 0===e?this:this.each(function(){var i=yt.queue(this,t,e);yt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&yt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){yt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=yt.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)i=Bt.get(s[o],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var Ht=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,zt=new RegExp("^(?:([+-])=|)("+Ht+")([a-z%]*)$","i"),Gt=["Top","Right","Bottom","Left"],Ut=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&yt.contains(t.ownerDocument,t)&&"none"===yt.css(t,"display")},qt=function(t,e,i,n){var r,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];r=i.apply(t,n||[]);for(s in e)t.style[s]=o[s];return r},Wt={};yt.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ut(this)?yt(this).show():yt(this).hide()})}});var Yt=/^(?:checkbox|radio)$/i,Xt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,$t=/^$|\/(?:java|ecma)script/i,Zt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td;var Qt=/<|&#?\w+;/;!function(){var t=nt.createDocumentFragment(),e=t.appendChild(nt.createElement("div")),i=nt.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),dt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue;
}();var Jt=nt.documentElement,Kt=/^key/,te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ee=/^([^.]*)(?:\.(.+)|)/;yt.event={global:{},add:function(t,e,i,n,r){var s,o,a,h,l,c,u,p,f,d,m,y=Bt.get(t);if(y)for(i.handler&&(s=i,i=s.handler,r=s.selector),r&&yt.find.matchesSelector(Jt,r),i.guid||(i.guid=yt.guid++),(h=y.events)||(h=y.events={}),(o=y.handle)||(o=y.handle=function(e){return"undefined"!=typeof yt&&yt.event.triggered!==e.type?yt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Nt)||[""],l=e.length;l--;)a=ee.exec(e[l])||[],f=m=a[1],d=(a[2]||"").split(".").sort(),f&&(u=yt.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,u=yt.event.special[f]||{},c=yt.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&yt.expr.match.needsContext.test(r),namespace:d.join(".")},s),(p=h[f])||(p=h[f]=[],p.delegateCount=0,u.setup&&u.setup.call(t,n,d,o)!==!1||t.addEventListener&&t.addEventListener(f,o)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),yt.event.global[f]=!0)},remove:function(t,e,i,n,r){var s,o,a,h,l,c,u,p,f,d,m,y=Bt.hasData(t)&&Bt.get(t);if(y&&(h=y.events)){for(e=(e||"").match(Nt)||[""],l=e.length;l--;)if(a=ee.exec(e[l])||[],f=m=a[1],d=(a[2]||"").split(".").sort(),f){for(u=yt.event.special[f]||{},f=(n?u.delegateType:u.bindType)||f,p=h[f]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=p.length;s--;)c=p[s],!r&&m!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(p.splice(s,1),c.selector&&p.delegateCount--,u.remove&&u.remove.call(t,c));o&&!p.length&&(u.teardown&&u.teardown.call(t,d,y.handle)!==!1||yt.removeEvent(t,f,y.handle),delete h[f])}else for(f in h)yt.event.remove(t,f+e[l],i,n,!0);yt.isEmptyObject(h)&&Bt.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,s,o,a=yt.event.fix(t),h=new Array(arguments.length),l=(Bt.get(this,"events")||{})[a.type]||[],c=yt.event.special[a.type]||{};for(h[0]=a,e=1;e<arguments.length;e++)h[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,a)!==!1){for(o=yt.event.handlers.call(this,a,l),e=0;(r=o[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,n=((yt.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,h),void 0!==n&&(a.result=n)===!1&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,r,s,o=[],a=e.delegateCount,h=t.target;if(a&&h.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&(h.disabled!==!0||"click"!==t.type)){for(n=[],i=0;i<a;i++)s=e[i],r=s.selector+" ",void 0===n[r]&&(n[r]=s.needsContext?yt(r,this).index(h)>-1:yt.find(r,this,null,[h]).length),n[r]&&n.push(s);n.length&&o.push({elem:h,handlers:n})}return a<e.length&&o.push({elem:this,handlers:e.slice(a)}),o},addProp:function(t,e){Object.defineProperty(yt.Event.prototype,t,{enumerable:!0,configurable:!0,get:yt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[yt.expando]?t:new yt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&yt.nodeName(this,"input"))return this.click(),!1},_default:function(t){return yt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},yt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},yt.Event=function(t,e){return this instanceof yt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?A:w,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&yt.extend(this,e),this.timeStamp=t&&t.timeStamp||yt.now(),void(this[yt.expando]=!0)):new yt.Event(t,e)},yt.Event.prototype={constructor:yt.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=A,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=A,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=A,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},yt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Kt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&te.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},yt.event.addProp),yt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){yt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,s=t.handleObj;return r&&(r===n||yt.contains(n,r))||(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),yt.fn.extend({on:function(t,e,i,n){return x(this,t,e,i,n)},one:function(t,e,i,n){return x(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,yt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=w),this.each(function(){yt.event.remove(this,t,i,e)})}});var ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ne=/<script|<style|<link/i,re=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^true\/(.*)/,oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;yt.extend({htmlPrefilter:function(t){return t.replace(ie,"<$1></$2>")},clone:function(t,e,i){var n,r,s,o,a=t.cloneNode(!0),h=yt.contains(t.ownerDocument,t);if(!(dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||yt.isXMLDoc(t)))for(o=b(a),s=b(t),n=0,r=s.length;n<r;n++)R(s[n],o[n]);if(e)if(i)for(s=s||b(t),o=o||b(a),n=0,r=s.length;n<r;n++)I(s[n],o[n]);else I(t,a);return o=b(a,"script"),o.length>0&&E(o,!h&&b(t,"script")),a},cleanData:function(t){for(var e,i,n,r=yt.event.special,s=0;void 0!==(i=t[s]);s++)if(Lt(i)){if(e=i[Bt.expando]){if(e.events)for(n in e.events)r[n]?yt.event.remove(i,n):yt.removeEvent(i,n,e.handle);i[Bt.expando]=void 0}i[Ft.expando]&&(i[Ft.expando]=void 0)}}}),yt.fn.extend({detach:function(t){return O(this,t,!0)},remove:function(t){return O(this,t)},text:function(t){return Dt(this,function(t){return void 0===t?yt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return N(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=S(this,t);e.appendChild(t)}})},prepend:function(){return N(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=S(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return N(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return N(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(yt.cleanData(b(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return yt.clone(this,t,e)})},html:function(t){return Dt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ne.test(t)&&!Zt[(Xt.exec(t)||["",""])[1].toLowerCase()]){t=yt.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(yt.cleanData(b(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return N(this,arguments,function(e){var i=this.parentNode;yt.inArray(this,t)<0&&(yt.cleanData(b(this)),i&&i.replaceChild(e,this))},t)}}),yt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){yt.fn[t]=function(t){for(var i,n=[],r=yt(t),s=r.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),yt(r[o])[e](i),at.apply(n,i.get());return this.pushStack(n)}});var ae=/^margin/,he=new RegExp("^("+Ht+")(?!px)[a-z%]+$","i"),le=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)};!function(){function t(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Jt.appendChild(o);var t=i.getComputedStyle(a);e="1%"!==t.top,s="2px"===t.marginLeft,n="4px"===t.width,a.style.marginRight="50%",r="4px"===t.marginRight,Jt.removeChild(o),a=null}}var e,n,r,s,o=nt.createElement("div"),a=nt.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(a),yt.extend(dt,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),n},pixelMarginRight:function(){return t(),r},reliableMarginLeft:function(){return t(),s}}))}();var ce=/^(none|table(?!-c[ea]).+)/,ue={position:"absolute",visibility:"hidden",display:"block"},pe={letterSpacing:"0",fontWeight:"400"},fe=["Webkit","Moz","ms"],de=nt.createElement("div").style;yt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=M(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=yt.camelCase(e),h=t.style;return e=yt.cssProps[a]||(yt.cssProps[a]=L(a)||a),o=yt.cssHooks[e]||yt.cssHooks[a],void 0===i?o&&"get"in o&&void 0!==(r=o.get(t,!1,n))?r:h[e]:(s=typeof i,"string"===s&&(r=zt.exec(i))&&r[1]&&(i=g(t,e,r),s="number"),null!=i&&i===i&&("number"===s&&(i+=r&&r[3]||(yt.cssNumber[a]?"":"px")),dt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(h[e]=i)),void 0)}},css:function(t,e,i,n){var r,s,o,a=yt.camelCase(e);return e=yt.cssProps[a]||(yt.cssProps[a]=L(a)||a),o=yt.cssHooks[e]||yt.cssHooks[a],o&&"get"in o&&(r=o.get(t,!0,i)),void 0===r&&(r=M(t,e,n)),"normal"===r&&e in pe&&(r=pe[e]),""===i||i?(s=parseFloat(r),i===!0||isFinite(s)?s||0:r):r}}),yt.each(["height","width"],function(t,e){yt.cssHooks[e]={get:function(t,i,n){if(i)return!ce.test(yt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?j(t,e,n):qt(t,ue,function(){return j(t,e,n)})},set:function(t,i,n){var r,s=n&&le(t),o=n&&F(t,e,n,"border-box"===yt.css(t,"boxSizing",!1,s),s);return o&&(r=zt.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=yt.css(t,e)),B(t,i,o)}}}),yt.cssHooks.marginLeft=D(dt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(M(t,"marginLeft"))||t.getBoundingClientRect().left-qt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),yt.each({margin:"",padding:"",border:"Width"},function(t,e){yt.cssHooks[t+e]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+Gt[n]+e]=s[n]||s[n-2]||s[0];return r}},ae.test(t)||(yt.cssHooks[t+e].set=B)}),yt.fn.extend({css:function(t,e){return Dt(this,function(t,e,i){var n,r,s={},o=0;if(yt.isArray(e)){for(n=le(t),r=e.length;o<r;o++)s[e[o]]=yt.css(t,e[o],!1,n);return s}return void 0!==i?yt.style(t,e,i):yt.css(t,e)},t,e,arguments.length>1)}}),yt.Tween=V,V.prototype={constructor:V,init:function(t,e,i,n,r,s){this.elem=t,this.prop=i,this.easing=r||yt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(yt.cssNumber[i]?"":"px")},cur:function(){var t=V.propHooks[this.prop];return t&&t.get?t.get(this):V.propHooks._default.get(this)},run:function(t){var e,i=V.propHooks[this.prop];return this.options.duration?this.pos=e=yt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=yt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){yt.fx.step[t.prop]?yt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[yt.cssProps[t.prop]]&&!yt.cssHooks[t.prop]?t.elem[t.prop]=t.now:yt.style(t.elem,t.prop,t.now+t.unit)}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},yt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},yt.fx=V.prototype.init,yt.fx.step={};var me,ye,ge=/^(?:toggle|show|hide)$/,ve=/queueHooks$/;yt.Animation=yt.extend(Y,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return g(i.elem,t,zt.exec(e),i),i}]},tweener:function(t,e){yt.isFunction(t)?(e=t,t=["*"]):t=t.match(Nt);for(var i,n=0,r=t.length;n<r;n++)i=t[n],Y.tweeners[i]=Y.tweeners[i]||[],Y.tweeners[i].unshift(e)},prefilters:[q],prefilter:function(t,e){e?Y.prefilters.unshift(t):Y.prefilters.push(t)}}),yt.speed=function(t,e,i){var n=t&&"object"==typeof t?yt.extend({},t):{complete:i||!i&&e||yt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!yt.isFunction(e)&&e};return yt.fx.off||nt.hidden?n.duration=0:n.duration="number"==typeof n.duration?n.duration:n.duration in yt.fx.speeds?yt.fx.speeds[n.duration]:yt.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){yt.isFunction(n.old)&&n.old.call(this),n.queue&&yt.dequeue(this,n.queue)},n},yt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Ut).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=yt.isEmptyObject(t),s=yt.speed(e,i,n),o=function(){var e=Y(this,yt.extend({},t),s);(r||Bt.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",s=yt.timers,o=Bt.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&ve.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(i),e=!1,s.splice(r,1));!e&&i||yt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=Bt.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],s=yt.timers,o=n?n.length:0;for(i.finish=!0,yt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),yt.each(["toggle","show","hide"],function(t,e){var i=yt.fn[e];yt.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(G(e,!0),t,n,r)}}),yt.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){yt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),yt.timers=[],yt.fx.tick=function(){var t,e=0,i=yt.timers;for(me=yt.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||yt.fx.stop(),me=void 0},yt.fx.timer=function(t){yt.timers.push(t),t()?yt.fx.start():yt.timers.pop()},yt.fx.interval=13,yt.fx.start=function(){ye||(ye=i.requestAnimationFrame?i.requestAnimationFrame(H):i.setInterval(yt.fx.tick,yt.fx.interval))},yt.fx.stop=function(){i.cancelAnimationFrame?i.cancelAnimationFrame(ye):i.clearInterval(ye),ye=null},yt.fx.speeds={slow:600,fast:200,_default:400},yt.fn.delay=function(t,e){return t=yt.fx?yt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}})},function(){var t=nt.createElement("input"),e=nt.createElement("select"),i=e.appendChild(nt.createElement("option"));t.type="checkbox",dt.checkOn=""!==t.value,dt.optSelected=i.selected,t=nt.createElement("input"),t.value="t",t.type="radio",dt.radioValue="t"===t.value}();var _e,be=yt.expr.attrHandle;yt.fn.extend({attr:function(t,e){return Dt(this,yt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){yt.removeAttr(this,t)})}}),yt.extend({attr:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof t.getAttribute?yt.prop(t,e,i):(1===s&&yt.isXMLDoc(t)||(r=yt.attrHooks[e.toLowerCase()]||(yt.expr.match.bool.test(e)?_e:void 0)),void 0!==i?null===i?void yt.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:(n=yt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&yt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(Nt);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),_e={set:function(t,e,i){return e===!1?yt.removeAttr(t,i):t.setAttribute(i,i),i}},yt.each(yt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=be[e]||yt.find.attr;be[e]=function(t,e,n){var r,s,o=e.toLowerCase();return n||(s=be[o],be[o]=r,r=null!=i(t,e,n)?o:null,be[o]=s),r}});var Ee=/^(?:input|select|textarea|button)$/i,Te=/^(?:a|area)$/i;yt.fn.extend({prop:function(t,e){return Dt(this,yt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[yt.propFix[t]||t]})}}),yt.extend({prop:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&yt.isXMLDoc(t)||(e=yt.propFix[e]||e,r=yt.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=yt.find.attr(t,"tabindex");return e?parseInt(e,10):Ee.test(t.nodeName)||Te.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.optSelected||(yt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),yt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){yt.propFix[this.toLowerCase()]=this});var Ae=/[\t\r\n\f]/g;yt.fn.extend({addClass:function(t){var e,i,n,r,s,o,a,h=0;if(yt.isFunction(t))return this.each(function(e){yt(this).addClass(t.call(this,e,X(this)))});if("string"==typeof t&&t)for(e=t.match(Nt)||[];i=this[h++];)if(r=X(i),n=1===i.nodeType&&(" "+r+" ").replace(Ae," ")){for(o=0;s=e[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");a=yt.trim(n),r!==a&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,s,o,a,h=0;if(yt.isFunction(t))return this.each(function(e){yt(this).removeClass(t.call(this,e,X(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Nt)||[];i=this[h++];)if(r=X(i),n=1===i.nodeType&&(" "+r+" ").replace(Ae," ")){for(o=0;s=e[o++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");a=yt.trim(n),r!==a&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):yt.isFunction(t)?this.each(function(i){yt(this).toggleClass(t.call(this,i,X(this),e),e)}):this.each(function(){var e,n,r,s;if("string"===i)for(n=0,r=yt(this),s=t.match(Nt)||[];e=s[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||(e=X(this),e&&Bt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Bt.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+X(i)+" ").replace(Ae," ").indexOf(e)>-1)return!0;return!1}});var we=/\r/g,Ce=/[\x20\t\r\n\f]+/g;yt.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=yt.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,yt(this).val()):t,null==r?r="":"number"==typeof r?r+="":yt.isArray(r)&&(r=yt.map(r,function(t){return null==t?"":t+""})),e=yt.valHooks[this.type]||yt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=yt.valHooks[r.type]||yt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(we,""):null==i?"":i)}}}),yt.extend({valHooks:{option:{get:function(t){var e=yt.find.attr(t,"value");return null!=e?e:yt.trim(yt.text(t)).replace(Ce," ")}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,s="select-one"===t.type,o=s?null:[],a=s?r+1:n.length,h=r<0?a:s?r:0;h<a;h++)if(i=n[h],(i.selected||h===r)&&!i.disabled&&(!i.parentNode.disabled||!yt.nodeName(i.parentNode,"optgroup"))){if(e=yt(i).val(),s)return e;o.push(e)}return o},set:function(t,e){for(var i,n,r=t.options,s=yt.makeArray(e),o=r.length;o--;)n=r[o],(n.selected=yt.inArray(yt.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),yt.each(["radio","checkbox"],function(){yt.valHooks[this]={set:function(t,e){if(yt.isArray(e))return t.checked=yt.inArray(yt(t).val(),e)>-1}},dt.checkOn||(yt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var xe=/^(?:focusinfocus|focusoutblur)$/;yt.extend(yt.event,{trigger:function(t,e,n,r){var s,o,a,h,l,c,u,p=[n||nt],f=ut.call(t,"type")?t.type:t,d=ut.call(t,"namespace")?t.namespace.split("."):[];if(o=a=n=n||nt,3!==n.nodeType&&8!==n.nodeType&&!xe.test(f+yt.event.triggered)&&(f.indexOf(".")>-1&&(d=f.split("."),f=d.shift(),d.sort()),l=f.indexOf(":")<0&&"on"+f,t=t[yt.expando]?t:new yt.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:yt.makeArray(e,[t]),u=yt.event.special[f]||{},r||!u.trigger||u.trigger.apply(n,e)!==!1)){if(!r&&!u.noBubble&&!yt.isWindow(n)){for(h=u.delegateType||f,xe.test(h+f)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||nt)&&p.push(a.defaultView||a.parentWindow||i)}for(s=0;(o=p[s++])&&!t.isPropagationStopped();)t.type=s>1?h:u.bindType||f,c=(Bt.get(o,"events")||{})[t.type]&&Bt.get(o,"handle"),c&&c.apply(o,e),c=l&&o[l],c&&c.apply&&Lt(o)&&(t.result=c.apply(o,e),t.result===!1&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||u._default&&u._default.apply(p.pop(),e)!==!1||!Lt(n)||l&&yt.isFunction(n[f])&&!yt.isWindow(n)&&(a=n[l],a&&(n[l]=null),yt.event.triggered=f,n[f](),yt.event.triggered=void 0,a&&(n[l]=a)),t.result}},simulate:function(t,e,i){var n=yt.extend(new yt.Event,i,{type:t,isSimulated:!0});yt.event.trigger(n,null,e)}}),yt.fn.extend({trigger:function(t,e){return this.each(function(){yt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return yt.event.trigger(t,e,i,!0)}}),yt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){yt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),yt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),dt.focusin="onfocusin"in i,dt.focusin||yt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){yt.event.simulate(e,t.target,yt.event.fix(t))};yt.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=Bt.access(n,e);r||n.addEventListener(t,i,!0),Bt.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Bt.access(n,e)-1;r?Bt.access(n,e,r):(n.removeEventListener(t,i,!0),Bt.remove(n,e))}}});var Se=i.location,Pe=yt.now(),ke=/\?/;yt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(n){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||yt.error("Invalid XML: "+t),e};var Ie=/\[\]$/,Re=/\r?\n/g,Ne=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;yt.param=function(t,e){var i,n=[],r=function(t,e){var i=yt.isFunction(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(yt.isArray(t)||t.jquery&&!yt.isPlainObject(t))yt.each(t,function(){r(this.name,this.value)});else for(i in t)$(i,t[i],e,r);return n.join("&")},yt.fn.extend({serialize:function(){return yt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=yt.prop(this,"elements");return t?yt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!yt(this).is(":disabled")&&Oe.test(this.nodeName)&&!Ne.test(t)&&(this.checked||!Yt.test(t))}).map(function(t,e){var i=yt(this).val();return null==i?null:yt.isArray(i)?yt.map(i,function(t){return{name:e.name,value:t.replace(Re,"\r\n")}}):{name:e.name,value:i.replace(Re,"\r\n")}}).get()}});var Me=/%20/g,De=/#.*$/,Le=/([?&])_=[^&]*/,Be=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,je=/^(?:GET|HEAD)$/,Ve=/^\/\//,He={},ze={},Ge="*/".concat("*"),Ue=nt.createElement("a");Ue.href=Se.href,yt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se.href,type:"GET",isLocal:Fe.test(Se.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":yt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?J(J(t,yt.ajaxSettings),e):J(yt.ajaxSettings,t)},ajaxPrefilter:Z(He),ajaxTransport:Z(ze),ajax:function(t,e){function n(t,e,n,a){var l,p,f,b,E,T=e;c||(c=!0,h&&i.clearTimeout(h),r=void 0,o=a||"",A.readyState=t>0?4:0,l=t>=200&&t<300||304===t,n&&(b=K(d,A,n)),b=tt(d,b,A,l),l?(d.ifModified&&(E=A.getResponseHeader("Last-Modified"),E&&(yt.lastModified[s]=E),E=A.getResponseHeader("etag"),E&&(yt.etag[s]=E)),204===t||"HEAD"===d.type?T="nocontent":304===t?T="notmodified":(T=b.state,p=b.data,f=b.error,l=!f)):(f=T,!t&&T||(T="error",t<0&&(t=0))),A.status=t,A.statusText=(e||T)+"",l?g.resolveWith(m,[p,T,A]):g.rejectWith(m,[A,T,f]),A.statusCode(_),_=void 0,u&&y.trigger(l?"ajaxSuccess":"ajaxError",[A,d,l?p:f]),v.fireWith(m,[A,T]),u&&(y.trigger("ajaxComplete",[A,d]),--yt.active||yt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,s,o,a,h,l,c,u,p,f,d=yt.ajaxSetup({},e),m=d.context||d,y=d.context&&(m.nodeType||m.jquery)?yt(m):yt.event,g=yt.Deferred(),v=yt.Callbacks("once memory"),_=d.statusCode||{},b={},E={},T="canceled",A={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Be.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=E[t.toLowerCase()]=E[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)A.always(t[A.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||T;return r&&r.abort(e),n(0,e),this}};if(g.promise(A),d.url=((t||d.url||Se.href)+"").replace(Ve,Se.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Nt)||[""],null==d.crossDomain){l=nt.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Ue.protocol+"//"+Ue.host!=l.protocol+"//"+l.host}catch(w){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=yt.param(d.data,d.traditional)),Q(He,d,e,A),c)return A;u=yt.event&&d.global,u&&0===yt.active++&&yt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!je.test(d.type),s=d.url.replace(De,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Me,"+")):(f=d.url.slice(s.length),d.data&&(s+=(ke.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(s=s.replace(Le,""),f=(ke.test(s)?"&":"?")+"_="+Pe++ +f),d.url=s+f),d.ifModified&&(yt.lastModified[s]&&A.setRequestHeader("If-Modified-Since",yt.lastModified[s]),yt.etag[s]&&A.setRequestHeader("If-None-Match",yt.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&A.setRequestHeader("Content-Type",d.contentType),A.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ge+"; q=0.01":""):d.accepts["*"]);for(p in d.headers)A.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(d.beforeSend.call(m,A,d)===!1||c))return A.abort();if(T="abort",v.add(d.complete),A.done(d.success),A.fail(d.error),r=Q(ze,d,e,A)){if(A.readyState=1,u&&y.trigger("ajaxSend",[A,d]),c)return A;d.async&&d.timeout>0&&(h=i.setTimeout(function(){A.abort("timeout")},d.timeout));try{c=!1,r.send(b,n)}catch(w){if(c)throw w;n(-1,w)}}else n(-1,"No Transport");return A},getJSON:function(t,e,i){return yt.get(t,e,i,"json")},getScript:function(t,e){return yt.get(t,void 0,e,"script")}}),yt.each(["get","post"],function(t,e){yt[e]=function(t,i,n,r){return yt.isFunction(i)&&(r=r||n,n=i,i=void 0),yt.ajax(yt.extend({url:t,type:e,dataType:r,data:i,success:n},yt.isPlainObject(t)&&t))}}),yt._evalUrl=function(t){return yt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},yt.fn.extend({wrapAll:function(t){var e;return this[0]&&(yt.isFunction(t)&&(t=t.call(this[0])),e=yt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return yt.isFunction(t)?this.each(function(e){yt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=yt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=yt.isFunction(t);return this.each(function(i){yt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){yt(this).replaceWith(this.childNodes)}),this}}),yt.expr.pseudos.hidden=function(t){return!yt.expr.pseudos.visible(t)},yt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},yt.ajaxSettings.xhr=function(){
try{return new i.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},We=yt.ajaxSettings.xhr();dt.cors=!!We&&"withCredentials"in We,dt.ajax=We=!!We,yt.ajaxTransport(function(t){var e,n;if(dt.cors||We&&!t.crossDomain)return{send:function(r,s){var o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);e=function(t){return function(){e&&(e=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(qe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),n=a.onerror=e("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&i.setTimeout(function(){e&&n()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(h){if(e)throw h}},abort:function(){e&&e()}}}),yt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),yt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return yt.globalEval(t),t}}}),yt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),yt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=yt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),nt.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Ye=[],Xe=/(=)\?(?=&|$)|\?\?/;yt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||yt.expando+"_"+Pe++;return this[t]=!0,t}}),yt.ajaxPrefilter("json jsonp",function(t,e,n){var r,s,o,a=t.jsonp!==!1&&(Xe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=yt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Xe,"$1"+r):t.jsonp!==!1&&(t.url+=(ke.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||yt.error(r+" was not called"),o[0]},t.dataTypes[0]="json",s=i[r],i[r]=function(){o=arguments},n.always(function(){void 0===s?yt(i).removeProp(r):i[r]=s,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(r)),o&&yt.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}),dt.createHTMLDocument=function(){var t=nt.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),yt.parseHTML=function(t,e,i){if("string"!=typeof t)return[];"boolean"==typeof e&&(i=e,e=!1);var n,r,s;return e||(dt.createHTMLDocument?(e=nt.implementation.createHTMLDocument(""),n=e.createElement("base"),n.href=nt.location.href,e.head.appendChild(n)):e=nt),r=Ct.exec(t),s=!i&&[],r?[e.createElement(r[1])]:(r=T([t],e,s),s&&s.length&&yt(s).remove(),yt.merge([],r.childNodes))},yt.fn.load=function(t,e,i){var n,r,s,o=this,a=t.indexOf(" ");return a>-1&&(n=yt.trim(t.slice(a)),t=t.slice(0,a)),yt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&yt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){s=arguments,o.html(n?yt("<div>").append(yt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},yt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){yt.fn[e]=function(t){return this.on(e,t)}}),yt.expr.pseudos.animated=function(t){return yt.grep(yt.timers,function(e){return t===e.elem}).length},yt.offset={setOffset:function(t,e,i){var n,r,s,o,a,h,l,c=yt.css(t,"position"),u=yt(t),p={};"static"===c&&(t.style.position="relative"),a=u.offset(),s=yt.css(t,"top"),h=yt.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(s+h).indexOf("auto")>-1,l?(n=u.position(),o=n.top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(h)||0),yt.isFunction(e)&&(e=e.call(t,i,yt.extend({},a))),null!=e.top&&(p.top=e.top-a.top+o),null!=e.left&&(p.left=e.left-a.left+r),"using"in e?e.using.call(t,p):u.css(p)}},yt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){yt.offset.setOffset(this,t,e)});var e,i,n,r,s=this[0];if(s)return s.getClientRects().length?(n=s.getBoundingClientRect(),n.width||n.height?(r=s.ownerDocument,i=et(r),e=r.documentElement,{top:n.top+i.pageYOffset-e.clientTop,left:n.left+i.pageXOffset-e.clientLeft}):n):{top:0,left:0}},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===yt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),yt.nodeName(t[0],"html")||(n=t.offset()),n={top:n.top+yt.css(t[0],"borderTopWidth",!0),left:n.left+yt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-n.top-yt.css(i,"marginTop",!0),left:e.left-n.left-yt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===yt.css(t,"position");)t=t.offsetParent;return t||Jt})}}),yt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;yt.fn[t]=function(n){return Dt(this,function(t,n,r){var s=et(t);return void 0===r?s?s[e]:t[n]:void(s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):t[n]=r)},t,n,arguments.length)}}),yt.each(["top","left"],function(t,e){yt.cssHooks[e]=D(dt.pixelPosition,function(t,i){if(i)return i=M(t,e),he.test(i)?yt(t).position()[e]+"px":i})}),yt.each({Height:"height",Width:"width"},function(t,e){yt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){yt.fn[n]=function(r,s){var o=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||s===!0?"margin":"border");return Dt(this,function(e,i,r){var s;return yt.isWindow(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?yt.css(e,i,a):yt.style(e,i,r,a)},e,o?r:void 0,o)}})}),yt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),yt.parseJSON=JSON.parse,n=[],r=function(){return yt}.apply(e,n),!(void 0!==r&&(t.exports=r));var $e=i.jQuery,Ze=i.$;return yt.noConflict=function(t){return i.$===yt&&(i.$=Ze),t&&i.jQuery===yt&&(i.jQuery=$e),yt},s||(i.jQuery=i.$=yt),yt})},function(t,e,i){"use strict";function n(t,e,i){this.params=i||{},this.mode=o.UNKNOWN,this.hideButton=this.params.hideButton||!1,this.predistorted=!!this.params.predistorted,this.renderer=t,this.effect=e;var n=document.querySelector(".webvr-polyfill-fullscreen-wrapper");this.button=new r(n),this.isFullscreenDisabled=!!a.getQueryParameter("no_fullscreen"),this.startMode=o.NORMAL;var s=parseInt(a.getQueryParameter("start_mode"));isNaN(s)||(this.startMode=s),this.hideButton&&this.button.setVisibility(!1),this.getDeviceByType_(VRDisplay).then(function(t){switch(this.hmd=t,this.isVRCompatibleOverride||(this.isVRCompatible=!t.isPolyfilled||a.isMobile()),this.startMode){case o.MAGIC_WINDOW:this.setMode_(o.MAGIC_WINDOW);break;case o.VR:this.enterVRMode_(),this.setMode_(o.VR);break;default:this.setMode_(o.NORMAL)}this.emit("initialized")}.bind(this)),this.button.on("fs",this.onFSClick_.bind(this)),this.button.on("vr",this.onVRClick_.bind(this)),document.addEventListener("webkitfullscreenchange",this.onFullscreenChange_.bind(this)),document.addEventListener("mozfullscreenchange",this.onFullscreenChange_.bind(this)),document.addEventListener("msfullscreenchange",this.onFullscreenChange_.bind(this)),window.addEventListener("vrdisplaypresentchange",this.onVRDisplayPresentChange_.bind(this)),window.addEventListener("vrdisplaydeviceparamschange",this.onVRDisplayDeviceParamsChange_.bind(this))}var r=i(18),s=i(19),o=i(7),a=i(20);n.prototype=new s,n.Modes=o,n.prototype.render=function(t,e,i){t instanceof Array?this.effect.render(t[0],e):this.effect.render(t,e)},n.prototype.setVRCompatibleOverride=function(t){this.isVRCompatible=t,this.isVRCompatibleOverride=!0,this.button.setMode(this.mode,this.isVRCompatible)},n.prototype.setFullscreenCallback=function(t){this.fullscreenCallback=t},n.prototype.setVRCallback=function(t){this.vrCallback=t},n.prototype.setExitFullscreenCallback=function(t){this.exitFullscreenCallback=t},n.prototype.getDeviceByType_=function(t){return new Promise(function(e,i){navigator.getVRDisplays().then(function(i){for(var n=0;n<i.length;n++)if(i[n]instanceof t){e(i[n]);break}e(null)},function(){e(null)})})},n.prototype.enterVRMode_=function(){this.hmd.requestPresent([{source:this.renderer.domElement,predistorted:this.predistorted}])},n.prototype.setMode_=function(t){var e=this.mode;return t==this.mode?void console.warn("Not changing modes, already in %s",t):(this.mode=t,this.button.setMode(t,this.isVRCompatible),void this.emit("modechange",t,e))},n.prototype.onFSClick_=function(){switch(this.mode){case o.NORMAL:if(a.isIOS()&&a.isIFrame()){if(!this.fullscreenCallback){var t=window.location.href;return t=a.appendQueryParameter(t,"no_fullscreen","true"),t=a.appendQueryParameter(t,"start_mode",o.MAGIC_WINDOW),void(top.location.href=t)}this.fullscreenCallback()}this.setMode_(o.MAGIC_WINDOW),this.requestFullscreen_();break;case o.MAGIC_WINDOW:if(this.isFullscreenDisabled)return void window.history.back();this.exitFullscreenCallback&&this.exitFullscreenCallback(),this.setMode_(o.NORMAL),this.exitFullscreen_()}},n.prototype.onVRClick_=function(){if(this.mode==o.NORMAL&&a.isIOS()&&a.isIFrame()){if(!this.vrCallback){var t=window.location.href;return t=a.appendQueryParameter(t,"no_fullscreen","true"),t=a.appendQueryParameter(t,"start_mode",o.VR),void(top.location.href=t)}this.vrCallback()}this.enterVRMode_()},n.prototype.requestFullscreen_=function(){var t=document.body;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},n.prototype.exitFullscreen_=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},n.prototype.onVRDisplayPresentChange_=function(t){console.log("onVRDisplayPresentChange_",t),this.hmd.isPresenting?this.setMode_(o.VR):this.setMode_(o.NORMAL)},n.prototype.onVRDisplayDeviceParamsChange_=function(t){console.log("onVRDisplayDeviceParamsChange_",t)},n.prototype.onFullscreenChange_=function(t){null!==document.webkitFullscreenElement&&null!==document.mozFullScreenElement||this.setMode_(o.NORMAL)},t.exports=n},function(t,e,i){"use strict";function n(t){var e=t||document.body;this.loadIcons_();var i=this.createButton();i.src=this.ICONS.fullscreen,i.title="Fullscreen mode";var n=i.style;n.bottom=0,n.right=0,i.addEventListener("click",this.createClickHandler_("fs")),e.appendChild(i),this.fsButton=i;var r=this.createButton();r.src=this.ICONS.cardboard,r.title="Virtual reality mode";var n=r.style;n.bottom=0,n.right="48px",r.addEventListener("click",this.createClickHandler_("vr")),e.appendChild(r),this.vrButton=r,this.isVisible=!0}var r=i(19),s=i(7),o=i(20);n.prototype=new r,n.prototype.createButton=function(){var t=document.createElement("img");t.className="webvr-button";var e=t.style;return e.position="absolute",e.width="24px",e.height="24px",e.backgroundSize="cover",e.backgroundColor="transparent",e.border=0,e.userSelect="none",e.webkitUserSelect="none",e.MozUserSelect="none",e.cursor="pointer",e.padding="12px",e.zIndex=1,e.display="none",e.boxSizing="content-box",t.draggable=!1,t.addEventListener("dragstart",function(t){t.preventDefault()}),t.addEventListener("mouseenter",function(t){e.filter=e.webkitFilter="drop-shadow(0 0 5px rgba(255,255,255,1))"}),t.addEventListener("mouseleave",function(t){e.filter=e.webkitFilter=""}),t},n.prototype.setMode=function(t,e){if(e=e||WebVRConfig.FORCE_ENABLE_VR,this.isVisible){switch(t){case s.NORMAL:this.fsButton.style.display="block",this.fsButton.src=this.ICONS.fullscreen,this.vrButton.style.display=e?"block":"none",this.vrButton.style.display="none";break;case s.MAGIC_WINDOW:this.fsButton.style.display="block",this.fsButton.src=this.ICONS.exitFullscreen,this.vrButton.style.display="none";break;case s.VR:this.fsButton.style.display="none",this.vrButton.style.display="none"}var i=this.fsButton.style.display;this.fsButton.style.display="inline-block",this.fsButton.offsetHeight,this.fsButton.style.display=i}},n.prototype.setVisibility=function(t){this.isVisible=t,this.fsButton.style.display=t?"block":"none",this.vrButton.style.display=t?"block":"none"},n.prototype.createClickHandler_=function(t){return function(e){e.stopPropagation(),e.preventDefault(),this.emit(t)}.bind(this)},n.prototype.loadIcons_=function(){this.ICONS={},this.ICONS.cardboard=o.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMjAuNzQgNkgzLjIxQzIuNTUgNiAyIDYuNTcgMiA3LjI4djEwLjQ0YzAgLjcuNTUgMS4yOCAxLjIzIDEuMjhoNC43OWMuNTIgMCAuOTYtLjMzIDEuMTQtLjc5bDEuNC0zLjQ4Yy4yMy0uNTkuNzktMS4wMSAxLjQ0LTEuMDFzMS4yMS40MiAxLjQ1IDEuMDFsMS4zOSAzLjQ4Yy4xOS40Ni42My43OSAxLjExLjc5aDQuNzljLjcxIDAgMS4yNi0uNTcgMS4yNi0xLjI4VjcuMjhjMC0uNy0uNTUtMS4yOC0xLjI2LTEuMjh6TTcuNSAxNC42MmMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTMgMS4xOCAwIDIuMTIuOTYgMi4xMiAyLjEzcy0uOTUgMi4xMi0yLjEyIDIuMTJ6bTkgMGMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTNzMi4xMi45NiAyLjEyIDIuMTMtLjk1IDIuMTItMi4xMiAyLjEyeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgyNHYyNEgwVjB6Ii8+Cjwvc3ZnPgo="),this.ICONS.fullscreen=o.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNNyAxNEg1djVoNXYtMkg3di0zem0tMi00aDJWN2gzVjVINXY1em0xMiA3aC0zdjJoNXYtNWgtMnYzek0xNCA1djJoM3YzaDJWNWgtNXoiLz4KPC9zdmc+Cg=="),this.ICONS.exitFullscreen=o.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNNSAxNmgzdjNoMnYtNUg1djJ6bTMtOEg1djJoNVY1SDh2M3ptNiAxMWgydi0zaDN2LTJoLTV2NXptMi0xMVY1aC0ydjVoNVY4aC0zeiIvPgo8L3N2Zz4K"),this.ICONS.settings=o.base64("image/svg+xml","PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNMTkuNDMgMTIuOThjLjA0LS4zMi4wNy0uNjQuMDctLjk4cy0uMDMtLjY2LS4wNy0uOThsMi4xMS0xLjY1Yy4xOS0uMTUuMjQtLjQyLjEyLS42NGwtMi0zLjQ2Yy0uMTItLjIyLS4zOS0uMy0uNjEtLjIybC0yLjQ5IDFjLS41Mi0uNC0xLjA4LS43My0xLjY5LS45OGwtLjM4LTIuNjVDMTQuNDYgMi4xOCAxNC4yNSAyIDE0IDJoLTRjLS4yNSAwLS40Ni4xOC0uNDkuNDJsLS4zOCAyLjY1Yy0uNjEuMjUtMS4xNy41OS0xLjY5Ljk4bC0yLjQ5LTFjLS4yMy0uMDktLjQ5IDAtLjYxLjIybC0yIDMuNDZjLS4xMy4yMi0uMDcuNDkuMTIuNjRsMi4xMSAxLjY1Yy0uMDQuMzItLjA3LjY1LS4wNy45OHMuMDMuNjYuMDcuOThsLTIuMTEgMS42NWMtLjE5LjE1LS4yNC40Mi0uMTIuNjRsMiAzLjQ2Yy4xMi4yMi4zOS4zLjYxLjIybDIuNDktMWMuNTIuNCAxLjA4LjczIDEuNjkuOThsLjM4IDIuNjVjLjAzLjI0LjI0LjQyLjQ5LjQyaDRjLjI1IDAgLjQ2LS4xOC40OS0uNDJsLjM4LTIuNjVjLjYxLS4yNSAxLjE3LS41OSAxLjY5LS45OGwyLjQ5IDFjLjIzLjA5LjQ5IDAgLjYxLS4yMmwyLTMuNDZjLjEyLS4yMi4wNy0uNDktLjEyLS42NGwtMi4xMS0xLjY1ek0xMiAxNS41Yy0xLjkzIDAtMy41LTEuNTctMy41LTMuNXMxLjU3LTMuNSAzLjUtMy41IDMuNSAxLjU3IDMuNSAzLjUtMS41NyAzLjUtMy41IDMuNXoiLz4KPC9zdmc+Cg==")},t.exports=n},function(t,e){"use strict";function i(){this.callbacks={}}i.prototype.emit=function(t){var e=this.callbacks[t];if(e){var i=[].slice.call(arguments);i.shift();for(var n=0;n<e.length;n++)e[n].apply(this,i)}},i.prototype.on=function(t,e){t in this.callbacks?this.callbacks[t].push(e):this.callbacks[t]=[e]},t.exports=i},function(t,e){"use strict";var i={};i.base64=function(t,e){return"data:"+t+";base64,"+e},i.isMobile=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},i.isFirefox=function(){return/firefox/i.test(navigator.userAgent)},i.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},i.isIFrame=function(){try{return window.self!==window.top}catch(t){return!0}},i.appendQueryParameter=function(t,e,i){var n=t.indexOf("?")<0?"?":"&";return t+=n+e+"="+i},i.getQueryParameter=function(t){var t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),e=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=e.exec(location.search);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},i.isLandscapeMode=function(){return 90==window.orientation||window.orientation==-90},i.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},i.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},t.exports=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5);e["default"]=function(t,e){var i=null,r=null,s=null,o=new THREE.Group;o.position.y=e.tableHeight/2,o.position.z=e.tablePositionZ,s=new THREE.MeshLambertMaterial({color:e.colors.BLUE_TABLE});var a=e.mode===n.MODE.MULTIPLAYER?e.tableDepth:e.tableDepth/2;i=new THREE.BoxGeometry(e.tableWidth,e.tableThickness,a),r=new THREE.Mesh(i,s),r.position.y=e.tableHeight/2-e.tableThickness/2,e.mode===n.MODE.SINGLEPLAYER&&(r.position.z=e.tableDepth/4),r.name="table",r.receiveShadow=!0,o.add(r);var h=new THREE.Group,l=.37*e.tableDepth;h.name="upwardsTableGroup",h.visible=!1,h.rotation.x=Math.PI/2,h.position.y=e.tableHeight/2+l/2,h.position.z=-e.tableThickness/2,i=new THREE.BoxGeometry(e.tableWidth,e.tableThickness,l),s=new THREE.MeshLambertMaterial({color:e.colors.PINK_TABLE_UPWARDS}),r=new THREE.Mesh(i,s),r.castShadow=!0,r.receiveShadow=!0,h.add(r),o.add(h);var c=.001,u=.03,p=new THREE.Group;return s=new THREE.MeshLambertMaterial({color:16777215}),i=new THREE.BoxGeometry(u,c,a),r=new THREE.Mesh(i,s),r.position.y=e.tableHeight/2+c,r.position.x=-e.tableWidth/2+u/2,r.receiveShadow=!0,p.add(r),i=new THREE.BoxGeometry(u,c,a),r=new THREE.Mesh(i,s),r.position.y=e.tableHeight/2+c,r.position.x=e.tableWidth/2-u/2,p.add(r),i=new THREE.BoxGeometry(e.tableWidth-2*u,c,u),r=new THREE.Mesh(i,s),r.position.y=e.tableHeight/2+c,r.position.z=a/2-u/2,p.add(r),i=new THREE.BoxGeometry(e.tableWidth-2*u,c,u),r=new THREE.Mesh(i,s),r.position.y=e.tableHeight/2+c,r.position.z=-a/2+u/2,p.add(r),i=new THREE.BoxGeometry(u,.001,a-2*u),r=new THREE.Mesh(i,s),r.position.y=e.tableHeight/2+c,p.add(r),e.mode===n.MODE.SINGLEPLAYER&&(p.position.z=e.tableDepth/4),o.add(p),s=new THREE.MeshLambertMaterial({color:14540253}),i=new THREE.BoxGeometry(e.tableWidth-2*u,c,u),r=new THREE.Mesh(i,s),r.position.y=e.tableThickness/2+c,r.position.z=-l/2+u/2,h.add(r),i=new THREE.BoxGeometry(u,c,l),r=new THREE.Mesh(i,s),r.position.y=e.tableThickness/2+c,r.position.x=-e.tableWidth/2+u/2,r.receiveShadow=!0,h.add(r),i=new THREE.BoxGeometry(u,c,l),r=new THREE.Mesh(i,s),r.position.y=e.tableThickness/2+c,r.position.x=e.tableWidth/2-u/2,h.add(r),i=new THREE.BoxGeometry(u,.001,l-u),r=new THREE.Mesh(i,s),r.position.y=e.tableThickness/2+c,r.position.z=u/2,h.add(r),t.add(o),o}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,i){var n=e.paddleSize,r=new THREE.CylinderGeometry(n,n,e.paddleThickness,32),s=new THREE.MeshLambertMaterial({color:i||e.colors.PADDLE_COLOR,opacity:.5}),o=new THREE.Mesh(r,s);o.rotation.x=Math.PI/2,o.name="paddle",o.castShadow=!0;var a=.3*e.paddleSize;r=new THREE.BoxGeometry(a,e.paddleThickness,.2*e.paddleSize),r.translate(n+a/2,0,0);var h=new THREE.Mesh(r,s);return h.rotateY(-Math.PI/4),o.add(h),t.add(o),o}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){var i=new THREE.Group,n=new THREE.BoxGeometry(e.tableWidth,e.netHeight,e.netThickness),r=new THREE.MeshBasicMaterial({color:16777215,transparent:!0,opacity:.1}),s=new THREE.Mesh(n,r);s.name="net-collider",s.castShadow=!0,i.add(s);for(var o=6,a=0;a<o;a++){var h=new THREE.GridHelper(e.netHeight/2,8,0,0);h.rotation.x=Math.PI/2,h.scale.x=e.tableWidth/o/e.netHeight,h.position.x=a/o*e.tableWidth+e.netHeight/2*h.scale.x-e.tableWidth/2,i.add(h)}return i.position.z=e.tablePositionZ,i.position.y=e.tableHeight+e.netHeight/2+.01,t.add(i),i}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){var i=new THREE.SphereGeometry(e.ballRadius,16,16),n=new THREE.MeshBasicMaterial({color:e.colors.BALL}),r=new THREE.Mesh(i,n);return t.add(r),r.castShadow=!0,r}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),o=(n(s),.1),a=function h(t,e){r(this,h),this.powerup=null;var i=new THREE.BoxGeometry(o,o),n=new THREE.MeshLambertMaterial({color:e.colors.WHITE,transparent:!0,opacity:.5});this.powerup=new THREE.Mesh(i,n),this.powerup.position.x=(.5-Math.random())*e.boxWidth,this.powerup.position.y=Math.random()*e.boxHeight,this.powerup.position.z=e.boxPositionZ/2+(.5-Math.random())*e.boxHeight,t.add(this.powerup)};e["default"]=a},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(27),a=n(o),h=function(){function t(){r(this,t),this.timeouts={},this.intervals={}}return s(t,[{key:"setTimeout",value:function(t,e){for(var i=a["default"].generate({length:32});i in this.timeouts;)i=a["default"].generate({length:32});return this.timeouts[i]={callback:t,delay:Date.now()+e},i}},{key:"setInterval",value:function(t,e){for(var i=a["default"].generate({length:32});i in this.intervals;)i=a["default"].generate({length:32});return this.intervals[i]={callback:t,interval:e,next:Date.now()+e},i}},{key:"clearTimeout",value:function(t){delete this.timeouts[t]}},{key:"clearInterval",value:function(t){delete this.intervals[t]}},{key:"step",value:function(){var t=Date.now();for(var e in this.timeouts)t>=this.timeouts[e].delay&&(this.timeouts[e].callback(),delete this.timeouts[e]);for(var i in this.intervals)if(t>=this.intervals[i].next)for(this.intervals[i].callback();this.intervals[i]&&t>=this.intervals[i].next;)this.intervals[i].next+=this.intervals[i].interval}}]),t}();e["default"]=h},function(t,e,i){t.exports=i(28)},function(t,e,i){"use strict";function n(t){for(;;)try{return r.randomBytes(t)}catch(e){continue}}var r=i(29),s=i(52);e.generate=function(t){var e,i=new s,r="";"object"==typeof t?(e=t.length||32,t.charset?i.setType(t.charset):i.setType("alphanumeric"),t.capitalization&&i.setcapitalization(t.capitalization),t.readable&&i.removeUnreadable(),i.removeDuplicates()):"number"==typeof t?(e=t,i.setType("alphanumeric")):(e=32,i.setType("alphanumeric"));for(var o=i.chars.length,a=256-256%o;e>0;)for(var h=n(Math.ceil(256*e/a)),l=0;l<h.length&&e>0;l++){var c=h.readUInt8(l);c<a&&(r+=i.chars.charAt(c%o),e--)}return r}},function(t,e,i){(function(t){function n(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function r(t,e){for(var i in t)e(t[i],i)}var s=i(34);e.createHash=i(36),e.createHmac=i(49),e.randomBytes=function(e,i){if(!i||!i.call)return new t(s(e));try{i.call(this,void 0,new t(s(e)))}catch(n){i(n)}},e.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var o=i(50)(e);e.pbkdf2=o.pbkdf2,e.pbkdf2Sync=o.pbkdf2Sync,r(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(t){e[t]=function(){n("sorry,",t,"is not implemented yet")}})}).call(e,i(30).Buffer)},function(t,e,i){(function(t,n){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function r(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function s(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,i){if(s()<i)throw new RangeError("Invalid typed array length");return t.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(i),e.__proto__=t.prototype):(null===e&&(e=new t(i)),e.length=i),e}function t(e,i,n){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(e,i,n);if("number"==typeof e){if("string"==typeof i)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return a(this,e,i,n)}function a(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,i,n):"string"==typeof e?u(t,e,i):d(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e,i,n){return h(e),e<=0?o(t,e):void 0!==i?"string"==typeof n?o(t,e).fill(i,n):o(t,e).fill(i):o(t,e)}function c(e,i){if(h(i),e=o(e,i<0?0:0|m(i)),!t.TYPED_ARRAY_SUPPORT)for(var n=0;n<i;++n)e[n]=0;return e}function u(e,i,n){if("string"==typeof n&&""!==n||(n="utf8"),!t.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(i,n);e=o(e,r);var s=e.write(i,n);return s!==r&&(e=e.slice(0,s)),e}function p(t,e){var i=e.length<0?0:0|m(e.length);t=o(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function f(e,i,n,r){if(i.byteLength,n<0||i.byteLength<n)throw new RangeError("'offset' is out of bounds");if(i.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return i=void 0===n&&void 0===r?new Uint8Array(i):void 0===r?new Uint8Array(i,n):new Uint8Array(i,n,r),t.TYPED_ARRAY_SUPPORT?(e=i,e.__proto__=t.prototype):e=p(e,i),e}function d(e,i){if(t.isBuffer(i)){var n=0|m(i.length);return e=o(e,n),0===e.length?e:(i.copy(e,0,0,n),e)}if(i){if("undefined"!=typeof ArrayBuffer&&i.buffer instanceof ArrayBuffer||"length"in i)return"number"!=typeof i.length||Z(i.length)?o(e,0):p(e,i);if("Buffer"===i.type&&K(i.data))return p(e,i.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function y(e){return+e!=e&&(e=0),t.alloc(+e)}function g(e,i){if(t.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(i){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(e).length;default:if(r)return q(e).length;i=(""+i).toLowerCase(),r=!0}}function v(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,e>>>=0,i<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,i);case"utf8":case"utf-8":return k(this,e,i);case"ascii":return R(this,e,i);case"latin1":case"binary":return N(this,e,i);case"base64":return P(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function b(e,i,n,r,s){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof i&&(i=t.from(i,r)),t.isBuffer(i))return 0===i.length?-1:E(e,i,n,r,s);if("number"==typeof i)return i=255&i,t.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,i,n):Uint8Array.prototype.lastIndexOf.call(e,i,n):E(e,[i],n,r,s);throw new TypeError("val must be string, number or Buffer")}function E(t,e,i,n,r){function s(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,a=t.length,h=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,h/=2,i/=2}var l;if(r){var c=-1;for(l=i;l<a;l++)if(s(t,l)===s(e,c===-1?0:l-c)){if(c===-1&&(c=l),l-c+1===h)return c*o}else c!==-1&&(l-=l-c),c=-1}else for(i+h>a&&(i=a-h),l=i;l>=0;l--){for(var u=!0,p=0;p<h;p++)if(s(t,l+p)!==s(e,p)){u=!1;break}if(u)return l}return-1}function T(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n),n>r&&(n=r)):n=r;var s=e.length;if(s%2!==0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[i+o]=a}return o}function A(t,e,i,n){return $(q(e,t.length-i),t,i,n)}function w(t,e,i,n){return $(W(e),t,i,n)}function C(t,e,i,n){return w(t,e,i,n)}function x(t,e,i,n){return $(X(e),t,i,n)}function S(t,e,i,n){return $(Y(e,t.length-i),t,i,n)}function P(t,e,i){return 0===e&&i===t.length?Q.fromByteArray(t):Q.fromByteArray(t.slice(e,i))}function k(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var s=t[r],o=null,a=s>239?4:s>223?3:s>191?2:1;if(r+a<=i){var h,l,c,u;switch(a){case 1:s<128&&(o=s);break;case 2:h=t[r+1],128===(192&h)&&(u=(31&s)<<6|63&h,u>127&&(o=u));break;case 3:h=t[r+1],l=t[r+2],128===(192&h)&&128===(192&l)&&(u=(15&s)<<12|(63&h)<<6|63&l,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:h=t[r+1],l=t[r+2],c=t[r+3],128===(192&h)&&128===(192&l)&&128===(192&c)&&(u=(15&s)<<18|(63&h)<<12|(63&l)<<6|63&c,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),r+=a}return I(n)}function I(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var i="",n=0;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=tt));return i}function R(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function N(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function O(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=e;s<i;++s)r+=U(t[s]);return r}function M(t,e,i){for(var n=t.slice(e,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function D(t,e,i){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function L(e,i,n,r,s,o){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>s||i<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,s=Math.min(t.length-i,2);r<s;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function F(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,s=Math.min(t.length-i,4);r<s;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function j(t,e,i,n,r,s){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function V(t,e,i,n,r){return r||j(t,e,i,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,i,n,23,4),i+4}function H(t,e,i,n,r){return r||j(t,e,i,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,i,n,52,8),i+8}function z(t){if(t=G(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function G(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){e=e||1/0;for(var i,n=t.length,r=null,s=[],o=0;o<n;++o){if(i=t.charCodeAt(o),i>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),r=i;continue}i=(r-55296<<10|i-56320)+65536}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function W(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function Y(t,e){for(var i,n,r,s=[],o=0;o<t.length&&!((e-=2)<0);++o)i=t.charCodeAt(o),n=i>>8,r=i%256,s.push(r),s.push(n);return s}function X(t){return Q.toByteArray(z(t))}function $(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}function Z(t){return t!==t}var Q=i(31),J=i(32),K=i(33);e.Buffer=t,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:r(),e.kMaxLength=s(),t.poolSize=8192,t._augment=function(e){return e.__proto__=t.prototype,e},t.from=function(t,e,i){return a(null,t,e,i)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,e,i){return l(null,t,e,i)},t.allocUnsafe=function(t){return c(null,t)},t.allocUnsafeSlow=function(t){return c(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,i){if(!t.isBuffer(e)||!t.isBuffer(i))throw new TypeError("Arguments must be Buffers");if(e===i)return 0;for(var n=e.length,r=i.length,s=0,o=Math.min(n,r);s<o;++s)if(e[s]!==i[s]){n=e[s],r=i[s];break}return n<r?-1:r<n?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,i){if(!K(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var n;if(void 0===i)for(i=0,n=0;n<e.length;++n)i+=e[n].length;var r=t.allocUnsafe(i),s=0;for(n=0;n<e.length;++n){var o=e[n];if(!t.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,s),s+=o.length}return r},t.byteLength=g,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):v.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e,i,n,r,s){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===i&&(i=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),i<0||n>e.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&i>=n)return 0;if(r>=s)return-1;if(i>=n)return 1;if(i>>>=0,n>>>=0,r>>>=0,s>>>=0,this===e)return 0;for(var o=s-r,a=n-i,h=Math.min(o,a),l=this.slice(r,s),c=e.slice(i,n),u=0;u<h;++u)if(l[u]!==c[u]){o=l[u],a=c[u];break}return o<a?-1:a<o?1:0},t.prototype.includes=function(t,e,i){return this.indexOf(t,e,i)!==-1},t.prototype.indexOf=function(t,e,i){return b(this,t,e,i,!0)},t.prototype.lastIndexOf=function(t,e,i){return b(this,t,e,i,!1)},t.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e=0|e,isFinite(i)?(i=0|i,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return T(this,t,e,i);case"utf8":case"utf-8":return A(this,t,e,i);case"ascii":return w(this,t,e,i);case"latin1":case"binary":return C(this,t,e,i);case"base64":return x(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;t.prototype.slice=function(e,i){var n=this.length;e=~~e,i=void 0===i?n:~~i,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),i<0?(i+=n,i<0&&(i=0)):i>n&&(i=n),i<e&&(i=e);var r;if(t.TYPED_ARRAY_SUPPORT)r=this.subarray(e,i),r.__proto__=t.prototype;else{var s=i-e;r=new t(s,(void 0));for(var o=0;o<s;++o)r[o]=this[o+e]}return r},t.prototype.readUIntLE=function(t,e,i){t=0|t,e=0|e,i||D(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n},t.prototype.readUIntBE=function(t,e,i){t=0|t,e=0|e,i||D(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},t.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,i){t=0|t,e=0|e,i||D(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*e)),n},t.prototype.readIntBE=function(t,e,i){t=0|t,e=0|e,i||D(t,e,this.length);for(var n=e,r=1,s=this[t+--n];n>0&&(r*=256);)s+=this[t+--n]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*e)),s},t.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},t.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},t.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),J.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),J.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),J.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),J.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,i,n){if(t=+t,e=0|e,i=0|i,!n){var r=Math.pow(2,8*i)-1;L(this,t,e,i,r,0)}var s=1,o=0;for(this[e]=255&t;++o<i&&(s*=256);)this[e+o]=t/s&255;return e+i},t.prototype.writeUIntBE=function(t,e,i,n){if(t=+t,e=0|e,i=0|i,!n){var r=Math.pow(2,8*i)-1;L(this,t,e,i,r,0)}var s=i-1,o=1;for(this[e+s]=255&t;--s>=0&&(o*=256);)this[e+s]=t/o&255;return e+i},t.prototype.writeUInt8=function(e,i,n){return e=+e,i=0|i,n||L(this,e,i,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[i]=255&e,i+1},t.prototype.writeUInt16LE=function(e,i,n){return e=+e,i=0|i,n||L(this,e,i,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[i]=255&e,this[i+1]=e>>>8):B(this,e,i,!0),i+2},t.prototype.writeUInt16BE=function(e,i,n){return e=+e,i=0|i,n||L(this,e,i,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>8,this[i+1]=255&e):B(this,e,i,!1),i+2},t.prototype.writeUInt32LE=function(e,i,n){return e=+e,i=0|i,n||L(this,e,i,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[i+3]=e>>>24,this[i+2]=e>>>16,this[i+1]=e>>>8,this[i]=255&e):F(this,e,i,!0),i+4},t.prototype.writeUInt32BE=function(e,i,n){return e=+e,i=0|i,n||L(this,e,i,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=255&e):F(this,e,i,!1),i+4},t.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e=0|e,!n){var r=Math.pow(2,8*i-1);L(this,t,e,i,r-1,-r)}var s=0,o=1,a=0;for(this[e]=255&t;++s<i&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},t.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e=0|e,!n){var r=Math.pow(2,8*i-1);L(this,t,e,i,r-1,-r)}var s=i-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},t.prototype.writeInt8=function(e,i,n){return e=+e,i=0|i,n||L(this,e,i,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[i]=255&e,i+1},t.prototype.writeInt16LE=function(e,i,n){return e=+e,i=0|i,n||L(this,e,i,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[i]=255&e,this[i+1]=e>>>8):B(this,e,i,!0),i+2},t.prototype.writeInt16BE=function(e,i,n){return e=+e,i=0|i,n||L(this,e,i,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>8,this[i+1]=255&e):B(this,e,i,!1),i+2},t.prototype.writeInt32LE=function(e,i,n){return e=+e,i=0|i,n||L(this,e,i,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[i]=255&e,this[i+1]=e>>>8,this[i+2]=e>>>16,this[i+3]=e>>>24):F(this,e,i,!0),i+4},t.prototype.writeInt32BE=function(e,i,n){return e=+e,i=0|i,n||L(this,e,i,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=255&e):F(this,e,i,!1),i+4},t.prototype.writeFloatLE=function(t,e,i){return V(this,t,e,!0,i)},t.prototype.writeFloatBE=function(t,e,i){return V(this,t,e,!1,i)},t.prototype.writeDoubleLE=function(t,e,i){return H(this,t,e,!0,i)},t.prototype.writeDoubleBE=function(t,e,i){return H(this,t,e,!1,i)},t.prototype.copy=function(e,i,n,r){if(n||(n=0),r||0===r||(r=this.length),i>=e.length&&(i=e.length),i||(i=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-i<r-n&&(r=e.length-i+n);var s,o=r-n;if(this===e&&n<i&&i<r)for(s=o-1;s>=0;--s)e[s+i]=this[s+n];else if(o<1e3||!t.TYPED_ARRAY_SUPPORT)for(s=0;s<o;++s)e[s+i]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),i);return o},t.prototype.fill=function(e,i,n,r){if("string"==typeof e){if("string"==typeof i?(r=i,i=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var s=e.charCodeAt(0);s<256&&(e=s)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!t.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e=255&e);if(i<0||this.length<i||this.length<n)throw new RangeError("Out of range index");if(n<=i)return this;i>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=i;o<n;++o)this[o]=e;else{var a=t.isBuffer(e)?e:q(new t(e,r).toString()),h=a.length;for(o=0;o<n-i;++o)this[o+i]=a[o%h]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,i(30).Buffer,function(){return this}())},function(t,e){"use strict";function i(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,i=t.length;e<i;++e)a[e]=t[e],h[t.charCodeAt(e)]=e;h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63}function n(t){var e,i,n,r,s,o,a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s="="===t[a-2]?2:"="===t[a-1]?1:0,o=new l(3*a/4-s),n=s>0?a-4:a;var c=0;for(e=0,i=0;e<n;e+=4,i+=3)r=h[t.charCodeAt(e)]<<18|h[t.charCodeAt(e+1)]<<12|h[t.charCodeAt(e+2)]<<6|h[t.charCodeAt(e+3)],o[c++]=r>>16&255,o[c++]=r>>8&255,o[c++]=255&r;return 2===s?(r=h[t.charCodeAt(e)]<<2|h[t.charCodeAt(e+1)]>>4,o[c++]=255&r):1===s&&(r=h[t.charCodeAt(e)]<<10|h[t.charCodeAt(e+1)]<<4|h[t.charCodeAt(e+2)]>>2,o[c++]=r>>8&255,o[c++]=255&r),o}function r(t){return a[t>>18&63]+a[t>>12&63]+a[t>>6&63]+a[63&t]}function s(t,e,i){for(var n,s=[],o=e;o<i;o+=3)n=(t[o]<<16)+(t[o+1]<<8)+t[o+2],s.push(r(n));return s.join("")}function o(t){for(var e,i=t.length,n=i%3,r="",o=[],h=16383,l=0,c=i-n;l<c;l+=h)o.push(s(t,l,l+h>c?c:l+h));return 1===n?(e=t[i-1],r+=a[e>>2],r+=a[e<<4&63],r+="=="):2===n&&(e=(t[i-2]<<8)+t[i-1],r+=a[e>>10],r+=a[e>>4&63],r+=a[e<<2&63],r+="="),o.push(r),o.join("")}e.toByteArray=n,e.fromByteArray=o;var a=[],h=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array;i()},function(t,e){e.read=function(t,e,i,n,r){var s,o,a=8*r-n-1,h=(1<<a)-1,l=h>>1,c=-7,u=i?r-1:0,p=i?-1:1,f=t[e+u];for(u+=p,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=256*s+t[e+u],u+=p,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+t[e+u],u+=p,c-=8);if(0===s)s=1-l;else{if(s===h)return o?NaN:(f?-1:1)*(1/0);o+=Math.pow(2,n),s-=l}return(f?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,i,n,r,s){var o,a,h,l=8*s-r-1,c=(1<<l)-1,u=c>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,d=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),e+=o+u>=1?p/h:p*Math.pow(2,1-u),e*h>=2&&(o++,h/=2),o+u>=c?(a=0,o=c):o+u>=1?(a=(e*h-1)*Math.pow(2,r),o+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,r),o=0));r>=8;t[i+f]=255&a,f+=d,a/=256,r-=8);for(o=o<<r|a,l+=r;l>0;t[i+f]=255&o,f+=d,o/=256,l-=8);t[i+f-d]|=128*m}},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e,i){(function(e,n){!function(){var r=("undefined"==typeof window?e:window)||{};_crypto=r.crypto||r.msCrypto||i(35),t.exports=function(t){if(_crypto.getRandomValues){var e=new n(t);return _crypto.getRandomValues(e),e}if(_crypto.randomBytes)return _crypto.randomBytes(t);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(e,function(){return this}(),i(30).Buffer)},function(t,e){},function(t,e,i){(function(e){function n(t){return function(){var i=[],n={update:function(t,n){return e.isBuffer(t)||(t=new e(t,n)),i.push(t),this},digest:function(n){var r=e.concat(i),s=t(r);return i=null,n?s.toString(n):s}};return n}}var r=i(37),s=n(i(46)),o=n(i(48));t.exports=function(t){return"md5"===t?new s:"rmd160"===t?new o:r(t)}}).call(e,i(30).Buffer)},function(t,e,i){var e=t.exports=function(t){var i=e[t];if(!i)throw new Error(t+" is not supported (we accept pull requests)");return new i},n=i(30).Buffer,r=i(38)(n);e.sha1=i(39)(n,r),e.sha256=i(44)(n,r),e.sha512=i(45)(n,r)},function(t,e){t.exports=function(t){function e(e,i){this._block=new t(e),this._finalSize=i,this._blockSize=e,this._len=0,this._s=0}return e.prototype.init=function(){this._s=0,this._len=0},e.prototype.update=function(e,i){"string"==typeof e&&(i=i||"utf8",e=new t(e,i));for(var n=this._len+=e.length,r=this._s=this._s||0,s=0,o=this._block;r<n;){for(var a=Math.min(e.length,s+this._blockSize-r%this._blockSize),h=a-s,l=0;l<h;l++)o[r%this._blockSize+l]=e[l+s];r+=h,s+=h,r%this._blockSize===0&&this._update(o)}return this._s=r,this},e.prototype.digest=function(t){var e=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),e%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(e,this._blockSize-4);var i=this._update(this._block)||this._hash();return t?i.toString(t):i},e.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e}},function(t,e,i){var n=i(40).inherits;t.exports=function(t,e){function i(){return d.length?d.pop().init():this instanceof i?(this._w=f,e.call(this,64,56),this._h=null,void this.init()):new i}function r(t,e,i,n){return t<20?e&i|~e&n:t<40?e^i^n:t<60?e&i|e&n|i&n:e^i^n}function s(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function o(t,e){return t+e|0}function a(t,e){return t<<e|t>>>32-e}var h=0,l=4,c=8,u=12,p=16,f=new("undefined"==typeof Int32Array?Array:Int32Array)(80),d=[];return n(i,e),i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,e.prototype.init.call(this),this},i.prototype._POOL=d,i.prototype._update=function(t){var e,i,n,h,l,c,u,p,f,d;e=c=this._a,i=u=this._b,n=p=this._c,h=f=this._d,l=d=this._e;for(var m=this._w,y=0;y<80;y++){var g=m[y]=y<16?t.readInt32BE(4*y):a(m[y-3]^m[y-8]^m[y-14]^m[y-16],1),v=o(o(a(e,5),r(y,i,n,h)),o(o(l,g),s(y)));l=h,h=n,n=a(i,30),i=e,e=v}this._a=o(e,c),this._b=o(i,u),this._c=o(n,p),this._d=o(h,f),this._e=o(l,d)},i.prototype._hash=function(){d.length<100&&d.push(this);var e=new t(20);return e.writeInt32BE(0|this._a,h),e.writeInt32BE(0|this._b,l),e.writeInt32BE(0|this._c,c),e.writeInt32BE(0|this._d,u),e.writeInt32BE(0|this._e,p),e},i}},function(t,e,i){(function(t,n){function r(t,i){var n={seen:[],stylize:o};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(i)?n.showHidden=i:i&&e._extend(n,i),E(n.showHidden)&&(n.showHidden=!1),E(n.depth)&&(n.depth=2),E(n.colors)&&(n.colors=!1),E(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),h(n,t,n.depth)}function s(t,e){var i=r.styles[e];return i?"["+r.colors[i][0]+"m"+t+"["+r.colors[i][1]+"m":t}function o(t,e){return t}function a(t){var e={};return t.forEach(function(t,i){e[t]=!0}),e}function h(t,i,n){if(t.customInspect&&i&&x(i.inspect)&&i.inspect!==e.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,t);return _(r)||(r=h(t,r,n)),r}var s=l(t,i);if(s)return s;var o=Object.keys(i),m=a(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(i)),C(i)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return c(i);if(0===o.length){if(x(i)){var y=i.name?": "+i.name:"";return t.stylize("[Function"+y+"]","special")}if(T(i))return t.stylize(RegExp.prototype.toString.call(i),"regexp");if(w(i))return t.stylize(Date.prototype.toString.call(i),"date");if(C(i))return c(i)}var g="",v=!1,b=["{","}"];if(d(i)&&(v=!0,b=["[","]"]),x(i)){var E=i.name?": "+i.name:"";g=" [Function"+E+"]"}if(T(i)&&(g=" "+RegExp.prototype.toString.call(i)),w(i)&&(g=" "+Date.prototype.toUTCString.call(i)),C(i)&&(g=" "+c(i)),0===o.length&&(!v||0==i.length))return b[0]+g+b[1];if(n<0)return T(i)?t.stylize(RegExp.prototype.toString.call(i),"regexp"):t.stylize("[Object]","special");t.seen.push(i);var A;return A=v?u(t,i,n,m,o):o.map(function(e){return p(t,i,n,m,e,v)}),t.seen.pop(),f(A,g,b)}function l(t,e){if(E(e))return t.stylize("undefined","undefined");if(_(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return v(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function u(t,e,i,n,r){for(var s=[],o=0,a=e.length;o<a;++o)R(e,String(o))?s.push(p(t,e,i,n,String(o),!0)):s.push("");return r.forEach(function(r){r.match(/^\d+$/)||s.push(p(t,e,i,n,r,!0))}),s}function p(t,e,i,n,r,s){var o,a,l;if(l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},l.get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),R(n,r)||(o="["+r+"]"),a||(t.seen.indexOf(l.value)<0?(a=y(i)?h(t,l.value,null):h(t,l.value,i-1),a.indexOf("\n")>-1&&(a=s?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),E(o)){if(s&&r.match(/^\d+$/))return a;o=JSON.stringify(""+r),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function f(t,e,i){var n=0,r=t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}function d(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function y(t){return null===t}function g(t){return null==t}function v(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function E(t){return void 0===t}function T(t){return A(t)&&"[object RegExp]"===P(t)}function A(t){return"object"==typeof t&&null!==t}function w(t){return A(t)&&"[object Date]"===P(t)}function C(t){return A(t)&&("[object Error]"===P(t)||t instanceof Error)}function x(t){return"function"==typeof t}function S(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function P(t){return Object.prototype.toString.call(t)}function k(t){return t<10?"0"+t.toString(10):t.toString(10)}function I(){var t=new Date,e=[k(t.getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":");return[t.getDate(),D[t.getMonth()],e].join(" ")}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var N=/%[sdj%]/g;e.format=function(t){if(!_(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(r(arguments[i]));return e.join(" ")}for(var i=1,n=arguments,s=n.length,o=String(t).replace(N,function(t){if("%%"===t)return"%";if(i>=s)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return t}}),a=n[i];i<s;a=n[++i])o+=y(a)||!A(a)?" "+a:" "+r(a);return o},e.deprecate=function(i,r){function s(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),o=!0}return i.apply(this,arguments)}if(E(t.process))return function(){return e.deprecate(i,r).apply(this,arguments)};if(n.noDeprecation===!0)return i;var o=!1;return s};var O,M={};e.debuglog=function(t){if(E(O)&&(O={NODE_ENV:"production"}.NODE_DEBUG||""),t=t.toUpperCase(),!M[t])if(new RegExp("\\b"+t+"\\b","i").test(O)){var i=n.pid;M[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,i,n)}}else M[t]=function(){};return M[t]},e.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=m,e.isNull=y,e.isNullOrUndefined=g,e.isNumber=v,e.isString=_,e.isSymbol=b,e.isUndefined=E,e.isRegExp=T,e.isObject=A,e.isDate=w,e.isError=C,e.isFunction=x,e.isPrimitive=S,e.isBuffer=i(42);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",I(),e.format.apply(e,arguments))},e.inherits=i(43),e._extend=function(t,e){if(!e||!A(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t}}).call(e,function(){return this}(),i(41))},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0);
}catch(e){return c.call(this,t,0)}}}function s(t){if(u===clearTimeout)return clearTimeout(t);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{return u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}function o(){m&&f&&(m=!1,f.length?d=f.concat(d):y=-1,d.length&&a())}function a(){if(!m){var t=r(o);m=!0;for(var e=d.length;e;){for(f=d,d=[];++y<e;)f&&f[y].run();y=-1,e=d.length}f=null,m=!1,s(t)}}function h(t,e){this.fun=t,this.array=e}function l(){}var c,u,p=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(t){c=i}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(t){u=n}}();var f,d=[],m=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new h(t,e)),1!==d.length||m||r(a)},h.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},function(t,e,i){var n=i(40).inherits;t.exports=function(t,e){function i(){this.init(),this._w=f,e.call(this,64,56)}function r(t,e){return t>>>e|t<<32-e}function s(t,e){return t>>>e}function o(t,e,i){return t&e^~t&i}function a(t,e,i){return t&e^t&i^e&i}function h(t){return r(t,2)^r(t,13)^r(t,22)}function l(t){return r(t,6)^r(t,11)^r(t,25)}function c(t){return r(t,7)^r(t,18)^s(t,3)}function u(t){return r(t,17)^r(t,19)^s(t,10)}var p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=new Array(64);return n(i,e),i.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},i.prototype._update=function(t){var e,i,n,r,s,f,d,m,y,g,v=this._w;e=0|this._a,i=0|this._b,n=0|this._c,r=0|this._d,s=0|this._e,f=0|this._f,d=0|this._g,m=0|this._h;for(var _=0;_<64;_++){var b=v[_]=_<16?t.readInt32BE(4*_):u(v[_-2])+v[_-7]+c(v[_-15])+v[_-16];y=m+l(s)+o(s,f,d)+p[_]+b,g=h(e)+a(e,i,n),m=d,d=f,f=s,s=r+y,r=n,n=i,i=e,e=y+g}this._a=e+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=r+this._d|0,this._e=s+this._e|0,this._f=f+this._f|0,this._g=d+this._g|0,this._h=m+this._h|0},i.prototype._hash=function(){var e=new t(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},i}},function(t,e,i){var n=i(40).inherits;t.exports=function(t,e){function i(){this.init(),this._w=h,e.call(this,128,112)}function r(t,e,i){return t>>>i|e<<32-i}function s(t,e,i){return t&e^~t&i}function o(t,e,i){return t&e^t&i^e&i}var a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],h=new Array(160);return n(i,e),i.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this._len=this._s=0,this},i.prototype._update=function(t){var e,i,n,h,l,c,u,p,f,d,m,y,g,v,_,b,E=this._w;e=0|this._a,i=0|this._b,n=0|this._c,h=0|this._d,l=0|this._e,c=0|this._f,u=0|this._g,p=0|this._h,f=0|this._al,d=0|this._bl,m=0|this._cl,y=0|this._dl,g=0|this._el,v=0|this._fl,_=0|this._gl,b=0|this._hl;for(var T=0;T<80;T++){var A,w,C=2*T;if(T<16)A=E[C]=t.readInt32BE(4*C),w=E[C+1]=t.readInt32BE(4*C+4);else{var x=E[C-30],S=E[C-30+1],P=r(x,S,1)^r(x,S,8)^x>>>7,k=r(S,x,1)^r(S,x,8)^r(S,x,7);x=E[C-4],S=E[C-4+1];var I=r(x,S,19)^r(S,x,29)^x>>>6,R=r(S,x,19)^r(x,S,29)^r(S,x,6),N=E[C-14],O=E[C-14+1],M=E[C-32],D=E[C-32+1];w=k+O,A=P+N+(w>>>0<k>>>0?1:0),w+=R,A=A+I+(w>>>0<R>>>0?1:0),w+=D,A=A+M+(w>>>0<D>>>0?1:0),E[C]=A,E[C+1]=w}var L=o(e,i,n),B=o(f,d,m),F=r(e,f,28)^r(f,e,2)^r(f,e,7),j=r(f,e,28)^r(e,f,2)^r(e,f,7),V=r(l,g,14)^r(l,g,18)^r(g,l,9),H=r(g,l,14)^r(g,l,18)^r(l,g,9),z=a[C],G=a[C+1],U=s(l,c,u),q=s(g,v,_),W=b+H,Y=p+V+(W>>>0<b>>>0?1:0);W+=q,Y=Y+U+(W>>>0<q>>>0?1:0),W+=G,Y=Y+z+(W>>>0<G>>>0?1:0),W+=w,Y=Y+A+(W>>>0<w>>>0?1:0);var X=j+B,$=F+L+(X>>>0<j>>>0?1:0);p=u,b=_,u=c,_=v,c=l,v=g,g=y+W|0,l=h+Y+(g>>>0<y>>>0?1:0)|0,h=n,y=m,n=i,m=d,i=e,d=f,f=W+X|0,e=Y+$+(f>>>0<W>>>0?1:0)|0}this._al=this._al+f|0,this._bl=this._bl+d|0,this._cl=this._cl+m|0,this._dl=this._dl+y|0,this._el=this._el+g|0,this._fl=this._fl+v|0,this._gl=this._gl+_|0,this._hl=this._hl+b|0,this._a=this._a+e+(this._al>>>0<f>>>0?1:0)|0,this._b=this._b+i+(this._bl>>>0<d>>>0?1:0)|0,this._c=this._c+n+(this._cl>>>0<m>>>0?1:0)|0,this._d=this._d+h+(this._dl>>>0<y>>>0?1:0)|0,this._e=this._e+l+(this._el>>>0<g>>>0?1:0)|0,this._f=this._f+c+(this._fl>>>0<v>>>0?1:0)|0,this._g=this._g+u+(this._gl>>>0<_>>>0?1:0)|0,this._h=this._h+p+(this._hl>>>0<b>>>0?1:0)|0},i.prototype._hash=function(){function e(t,e,n){i.writeInt32BE(t,n),i.writeInt32BE(e,n+4)}var i=new t(64);return e(this._a,this._al,0),e(this._b,this._bl,8),e(this._c,this._cl,16),e(this._d,this._dl,24),e(this._e,this._el,32),e(this._f,this._fl,40),e(this._g,this._gl,48),e(this._h,this._hl,56),i},i}},function(t,e,i){function n(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var i=1732584193,n=-271733879,r=-1732584194,c=271733878,u=0;u<t.length;u+=16){var p=i,f=n,d=r,m=c;i=s(i,n,r,c,t[u+0],7,-680876936),c=s(c,i,n,r,t[u+1],12,-389564586),r=s(r,c,i,n,t[u+2],17,606105819),n=s(n,r,c,i,t[u+3],22,-1044525330),i=s(i,n,r,c,t[u+4],7,-176418897),c=s(c,i,n,r,t[u+5],12,1200080426),r=s(r,c,i,n,t[u+6],17,-1473231341),n=s(n,r,c,i,t[u+7],22,-45705983),i=s(i,n,r,c,t[u+8],7,1770035416),c=s(c,i,n,r,t[u+9],12,-1958414417),r=s(r,c,i,n,t[u+10],17,-42063),n=s(n,r,c,i,t[u+11],22,-1990404162),i=s(i,n,r,c,t[u+12],7,1804603682),c=s(c,i,n,r,t[u+13],12,-40341101),r=s(r,c,i,n,t[u+14],17,-1502002290),n=s(n,r,c,i,t[u+15],22,1236535329),i=o(i,n,r,c,t[u+1],5,-165796510),c=o(c,i,n,r,t[u+6],9,-1069501632),r=o(r,c,i,n,t[u+11],14,643717713),n=o(n,r,c,i,t[u+0],20,-373897302),i=o(i,n,r,c,t[u+5],5,-701558691),c=o(c,i,n,r,t[u+10],9,38016083),r=o(r,c,i,n,t[u+15],14,-660478335),n=o(n,r,c,i,t[u+4],20,-405537848),i=o(i,n,r,c,t[u+9],5,568446438),c=o(c,i,n,r,t[u+14],9,-1019803690),r=o(r,c,i,n,t[u+3],14,-187363961),n=o(n,r,c,i,t[u+8],20,1163531501),i=o(i,n,r,c,t[u+13],5,-1444681467),c=o(c,i,n,r,t[u+2],9,-51403784),r=o(r,c,i,n,t[u+7],14,1735328473),n=o(n,r,c,i,t[u+12],20,-1926607734),i=a(i,n,r,c,t[u+5],4,-378558),c=a(c,i,n,r,t[u+8],11,-2022574463),r=a(r,c,i,n,t[u+11],16,1839030562),n=a(n,r,c,i,t[u+14],23,-35309556),i=a(i,n,r,c,t[u+1],4,-1530992060),c=a(c,i,n,r,t[u+4],11,1272893353),r=a(r,c,i,n,t[u+7],16,-155497632),n=a(n,r,c,i,t[u+10],23,-1094730640),i=a(i,n,r,c,t[u+13],4,681279174),c=a(c,i,n,r,t[u+0],11,-358537222),r=a(r,c,i,n,t[u+3],16,-722521979),n=a(n,r,c,i,t[u+6],23,76029189),i=a(i,n,r,c,t[u+9],4,-640364487),c=a(c,i,n,r,t[u+12],11,-421815835),r=a(r,c,i,n,t[u+15],16,530742520),n=a(n,r,c,i,t[u+2],23,-995338651),i=h(i,n,r,c,t[u+0],6,-198630844),c=h(c,i,n,r,t[u+7],10,1126891415),r=h(r,c,i,n,t[u+14],15,-1416354905),n=h(n,r,c,i,t[u+5],21,-57434055),i=h(i,n,r,c,t[u+12],6,1700485571),c=h(c,i,n,r,t[u+3],10,-1894986606),r=h(r,c,i,n,t[u+10],15,-1051523),n=h(n,r,c,i,t[u+1],21,-2054922799),i=h(i,n,r,c,t[u+8],6,1873313359),c=h(c,i,n,r,t[u+15],10,-30611744),r=h(r,c,i,n,t[u+6],15,-1560198380),n=h(n,r,c,i,t[u+13],21,1309151649),i=h(i,n,r,c,t[u+4],6,-145523070),c=h(c,i,n,r,t[u+11],10,-1120210379),r=h(r,c,i,n,t[u+2],15,718787259),n=h(n,r,c,i,t[u+9],21,-343485551),i=l(i,p),n=l(n,f),r=l(r,d),c=l(c,m)}return Array(i,n,r,c)}function r(t,e,i,n,r,s){return l(c(l(l(e,t),l(n,s)),r),i)}function s(t,e,i,n,s,o,a){return r(e&i|~e&n,t,e,s,o,a)}function o(t,e,i,n,s,o,a){return r(e&n|i&~n,t,e,s,o,a)}function a(t,e,i,n,s,o,a){return r(e^i^n,t,e,s,o,a)}function h(t,e,i,n,s,o,a){return r(i^(e|~n),t,e,s,o,a)}function l(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i}function c(t,e){return t<<e|t>>>32-e}var u=i(47);t.exports=function(t){return u.hash(t,n,16)}},function(t,e,i){(function(e){function i(t,i){if(t.length%s!==0){var n=t.length+(s-t.length%s);t=e.concat([t,o],n)}for(var r=[],a=i?t.readInt32BE:t.readInt32LE,h=0;h<t.length;h+=s)r.push(a.call(t,h));return r}function n(t,i,n){for(var r=new e(i),s=n?r.writeInt32BE:r.writeInt32LE,o=0;o<t.length;o++)s.call(r,t[o],4*o,!0);return r}function r(t,r,s,o){e.isBuffer(t)||(t=new e(t));var h=r(i(t,o),t.length*a);return n(h,s,o)}var s=4,o=new e(s);o.fill(0);var a=8;t.exports={hash:r}}).call(e,i(30).Buffer)},function(t,e,i){(function(e){function i(t,e,i){return t^e^i}function n(t,e,i){return t&e|~t&i}function r(t,e,i){return(t|~e)^i}function s(t,e,i){return t&i|e&~i}function o(t,e,i){return t^(e|~i)}function a(t,e){return t<<e|t>>>32-e}function h(t){var i=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof t&&(t=new e(t,"utf8"));var n=m(t),r=8*t.length,s=8*t.length;n[r>>>5]|=128<<24-r%32,n[(r+64>>>9<<4)+14]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);for(var o=0;o<n.length;o+=16)g(i,n,o);for(var o=0;o<5;o++){var a=i[o];i[o]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var h=y(i);return new e(h)}t.exports=h;/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.
	
	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
	
	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
	
	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
var l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0],m=function(t){for(var e=[],i=0,n=0;i<t.length;i++,n+=8)e[n>>>5]|=t[i]<<24-n%32;return e},y=function(t){for(var e=[],i=0;i<32*t.length;i+=8)e.push(t[i>>>5]>>>24-i%32&255);return e},g=function(t,e,h){for(var m=0;m<16;m++){var y=h+m,g=e[y];e[y]=16711935&(g<<8|g>>>24)|4278255360&(g<<24|g>>>8)}var v,_,b,E,T,A,w,C,x,S;A=v=t[0],w=_=t[1],C=b=t[2],x=E=t[3],S=T=t[4];for(var P,m=0;m<80;m+=1)P=v+e[h+l[m]]|0,P+=m<16?i(_,b,E)+f[0]:m<32?n(_,b,E)+f[1]:m<48?r(_,b,E)+f[2]:m<64?s(_,b,E)+f[3]:o(_,b,E)+f[4],P=0|P,P=a(P,u[m]),P=P+T|0,v=T,T=E,E=a(b,10),b=_,_=P,P=A+e[h+c[m]]|0,P+=m<16?o(w,C,x)+d[0]:m<32?s(w,C,x)+d[1]:m<48?r(w,C,x)+d[2]:m<64?n(w,C,x)+d[3]:i(w,C,x)+d[4],P=0|P,P=a(P,p[m]),P=P+S|0,A=S,S=x,x=a(C,10),C=w,w=P;P=t[1]+b+x|0,t[1]=t[2]+E+S|0,t[2]=t[3]+T+A|0,t[3]=t[4]+v+w|0,t[4]=t[0]+_+C|0,t[0]=P}}).call(e,i(30).Buffer)},function(t,e,i){(function(e){function n(t,i){if(!(this instanceof n))return new n(t,i);this._opad=h,this._alg=t;var o="sha512"===t?128:64;i=this._key=e.isBuffer(i)?i:new e(i),i.length>o?i=r(t).update(i).digest():i.length<o&&(i=e.concat([i,s],o));for(var a=this._ipad=new e(o),h=this._opad=new e(o),l=0;l<o;l++)a[l]=54^i[l],h[l]=92^i[l];this._hash=r(t).update(a)}var r=i(36),s=new e(128);s.fill(0),t.exports=n,n.prototype.update=function(t,e){return this._hash.update(t,e),this},n.prototype.digest=function(t){var e=this._hash.digest();return r(this._alg).update(this._opad).update(e).digest(t)}}).call(e,i(30).Buffer)},function(t,e,i){var n=i(51);t.exports=function(t,e){e=e||{};var i=n(t);return e.pbkdf2=i.pbkdf2,e.pbkdf2Sync=i.pbkdf2Sync,e}},function(t,e,i){(function(e){t.exports=function(t){function i(t,e,i,r,s,o){if("function"==typeof s&&(o=s,s=void 0),"function"!=typeof o)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var a;try{a=n(t,e,i,r,s)}catch(h){return o(h)}o(void 0,a)})}function n(i,n,r,s,o){if("number"!=typeof r)throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if("number"!=typeof s)throw new TypeError("Key length not a number");if(s<0)throw new TypeError("Bad key length");o=o||"sha1",e.isBuffer(i)||(i=new e(i)),e.isBuffer(n)||(n=new e(n));var a,h,l,c=1,u=new e(s),p=new e(n.length+4);n.copy(p,0,0,n.length);for(var f=1;f<=c;f++){p.writeUInt32BE(f,n.length);var d=t.createHmac(o,i).update(p).digest();if(!a&&(a=d.length,l=new e(a),c=Math.ceil(s/a),h=s-(c-1)*a,s>(Math.pow(2,32)-1)*a))throw new TypeError("keylen exceeds maximum length");d.copy(l,0,0,a);for(var m=1;m<r;m++){d=t.createHmac(o,i).update(d).digest();for(var y=0;y<a;y++)l[y]^=d[y]}var g=(f-1)*a,v=f==c?h:a;l.copy(u,g,0,v)}return u}return{pbkdf2:i,pbkdf2Sync:n}}}).call(e,i(30).Buffer)},function(t,e,i){function n(){this.chars=""}var r=i(53);n.prototype.setType=function(t){var e,i="0123456789",n="abcdefghijklmnopqrstuvwxyz",r=n.toUpperCase(),s="abcdef";e="alphanumeric"===t?i+n+r:"numeric"===t?i:"alphabetic"===t?n+r:"hex"===t?i+s:t,this.chars=e},n.prototype.removeUnreadable=function(){var t=/[0OIl]/g;this.chars=this.chars.replace(t,"")},n.prototype.setcapitalization=function(t){"uppercase"===t?this.chars=this.chars.toUpperCase():"lowercase"===t&&(this.chars=this.chars.toLowerCase())},n.prototype.removeDuplicates=function(){var t=this.chars.split("");t=r(t),this.chars=t.join("")},t.exports=e=n},function(t,e){(function(e){"use strict";function i(t){for(var e=[],i=0;i<t.length;i++)e.indexOf(t[i])===-1&&e.push(t[i]);return e}function n(t){var e=new Set;return t.filter(function(t){if(!e.has(t))return e.add(t),!0})}function r(t){var e=[];return new Set(t).forEach(function(t){e.push(t)}),e}function s(){var t=!1;return new Set([!0]).forEach(function(e){t=e}),t===!0}"Set"in e?"function"==typeof Set.prototype.forEach&&s()?t.exports=r:t.exports=n:t.exports=i}).call(e,function(){return this}())},function(t,e,i){var n,r,s;!function(o,a){r=[t,i(55),i(57),i(58)],n=a,s="function"==typeof n?n.apply(e,r):n,!(void 0!==s&&(t.exports=s))}(this,function(t,e,i,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function h(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}var l=r(e),c=r(i),u=r(n),p=function(t){function e(i,n){s(this,e);var r=o(this,t.call(this));return r.resolveOptions(n),r.listenClick(i),r}return a(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,u["default"])(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l["default"]({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return h("action",t)},e.prototype.defaultTarget=function(t){var e=h("target",t);if(e)return document.querySelector(e)},e.prototype.defaultText=function(t){return h("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(c["default"]);t.exports=p})},function(t,e,i){var n,r,s;!function(o,a){r=[t,i(56)],n=a,s="function"==typeof n?n.apply(e,r):n,!(void 0!==s&&(t.exports=s))}(this,function(t,e){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=i(e),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,r["default"])(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,r["default"])(this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},o(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":s(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=a})},function(t,e){function i(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),n=document.createRange();n.selectNodeContents(t),i.removeAllRanges(),i.addRange(n),e=i.toString()}return e}t.exports=i},function(t,e){function i(){}i.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){function n(){r.off(t,n),e.apply(i,arguments)}var r=this;return n._=e,this.on(t,n,i)},emit:function(t){var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,r=i.length;for(n;n<r;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],r=[];if(n&&e)for(var s=0,o=n.length;s<o;s++)n[s].fn!==e&&n[s].fn._!==e&&r.push(n[s]);return r.length?i[t]=r:delete i[t],this}},t.exports=i},function(t,e,i){function n(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(i))throw new TypeError("Third argument must be a Function");if(a.node(t))return r(t,e,i);if(a.nodeList(t))return s(t,e,i);if(a.string(t))return o(t,e,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(t,e,i){return t.addEventListener(e,i),{destroy:function(){t.removeEventListener(e,i)}}}function s(t,e,i){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,i)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,i)})}}}function o(t,e,i){return h(document.body,t,e,i)}var a=i(59),h=i(60);t.exports=n},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var i=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===i||"[object HTMLCollection]"===i)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},function(t,e,i){function n(t,e,i,n,s){var o=r.apply(this,arguments);return t.addEventListener(i,o,s),{destroy:function(){t.removeEventListener(i,o,s)}}}function r(t,e,i,n){return function(i){i.delegateTarget=s(i.target,e,!0),i.delegateTarget&&n.call(t,i)}}var s=i(61);t.exports=n},function(t,e,i){var n=i(62);t.exports=function(t,e,i){for(var r=i?t:t.parentNode;r&&r!==document;){if(n(r,e))return r;r=r.parentNode}}},function(t,e){function i(t,e){if(r)return r.call(t,e);for(var i=t.parentNode.querySelectorAll(e),n=0;n<i.length;++n)if(i[n]==t)return!0;return!1}var n=Element.prototype,r=n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;t.exports=i},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(t,e){__WEBPACK_AMD_DEFINE_FACTORY__=e,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(window,function(){function ProjectInterface(){return{}}function roundValues(t){bm_rnd=t?Math.round:function(t){return t}}function roundTo2Decimals(t){return Math.round(1e4*t)/1e4}function roundTo3Decimals(t){return Math.round(100*t)/100}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin=t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility=t.style.webkitBackfaceVisibility="visible",t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="preserve-3d"}function styleUnselectableDiv(t){t.style.userSelect="none",t.style.MozUserSelect="none",t.style.webkitUserSelect="none",t.style.oUserSelect="none"}function BMEnterFrameEvent(t,e,i,n){this.type=t,this.currentTime=e,this.totalTime=i,this.direction=0>n?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=0>e?-1:1}function BMCompleteLoopEvent(t,e,i,n){this.type=t,this.currentLoop=e,this.totalLoops=i,this.direction=0>n?-1:1}function BMSegmentStartEvent(t,e,i){this.type=t,this.firstFrame=e,this.totalFrames=i}function BMDestroyEvent(t,e){this.type=t,this.target=e}function _addEventListener(t,e){this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e)}function _removeEventListener(t,e){if(e){if(this._cbs[t]){for(var i=0,n=this._cbs[t].length;n>i;)this._cbs[t][i]===e&&(this._cbs[t].splice(i,1),i-=1,n-=1),i+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}function _triggerEvent(t,e){if(this._cbs[t])for(var i=this._cbs[t].length,n=0;i>n;n++)this._cbs[t][n](e)}function randomString(t,e){void 0===e&&(e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890");var i,n="";for(i=t;i>0;--i)n+=e[Math.round(Math.random()*(e.length-1))];return n}function HSVtoRGB(t,e,i){var n,r,s,o,a,h,l,c;switch(1===arguments.length&&(e=t.s,i=t.v,t=t.h),o=Math.floor(6*t),a=6*t-o,h=i*(1-e),l=i*(1-a*e),c=i*(1-(1-a)*e),o%6){case 0:n=i,r=c,s=h;break;case 1:n=l,r=i,s=h;break;case 2:n=h,r=i,s=c;break;case 3:n=h,r=l,s=i;break;case 4:n=c,r=h,s=i;break;case 5:n=i,r=h,s=l}return[n,r,s]}function RGBtoHSV(t,e,i){1===arguments.length&&(e=t.g,i=t.b,t=t.r);var n,r=Math.max(t,e,i),s=Math.min(t,e,i),o=r-s,a=0===r?0:o/r,h=r/255;switch(r){case s:n=0;break;case t:n=e-i+o*(i>e?6:0),n/=6*o;break;case e:n=i-t+2*o,n/=6*o;break;case i:n=t-e+4*o,n/=6*o}return[n,a,h]}function addSaturationToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[1]+=e,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),HSVtoRGB(i[0],i[1],i[2])}function addBrightnessToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[2]+=e,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),HSVtoRGB(i[0],i[1],i[2])}function addHueToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[0]+=e/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),HSVtoRGB(i[0],i[1],i[2])}function componentToHex(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function fillToRgba(t,e){if(!cachedColors[t]){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);cachedColors[t]=parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)}return"rgba("+cachedColors[t]+","+e+")"}function RenderedFrame(t,e){this.tr=t,this.o=e}function LetterProps(t,e,i,n,r,s){this.o=t,this.sw=e,this.sc=i,this.fc=n,this.m=r,this.props=s}function iterateDynamicProperties(t){var e,i=this.dynamicProperties;for(e=0;i>e;e+=1)this.dynamicProperties[e].getValue(t)}function reversePath(t,e){var i,n,r=[],s=[],o=[],a={},h=0;e&&(r[0]=t.o[0],s[0]=t.i[0],o[0]=t.v[0],h=1),n=t.i.length;var l=n-1;for(i=h;n>i;i+=1)r.push(t.o[l]),s.push(t.i[l]),o.push(t.v[l]),l-=1;return a.i=r,a.o=s,a.v=o,a}function Matrix(){}function matrixManagerFunction(){var t=new Matrix,e=function(e,i,n,r,s){return t.reset().translate(r,s).rotate(e).scale(i,n).toCSS()},i=function(t){return e(t.tr.r[2],t.tr.s[0],t.tr.s[1],t.tr.p[0],t.tr.p[1])};return{getMatrix:i}}function createElement(t,e,i){if(!e){var n=Object.create(t.prototype,i),r={};return n&&"[object Function]"===r.toString.call(n.init)&&n.init(),n}e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype._parent=t.prototype}function extendPrototype(t,e){for(var i in t.prototype)t.prototype.hasOwnProperty(i)&&(e.prototype[i]=t.prototype[i])}function bezFunction(){function t(t,e,i,n,r,s){var o=t*n+e*r+i*s-r*n-s*t-i*e;return o>-1e-4&&1e-4>o}function e(e,i,n,r,s,o,a,h,l){return t(e,i,r,s,a,h)&&t(e,n,r,o,a,l)}function i(t){this.segmentLength=0,this.points=new Array(t)}function n(t,e){this.partialLength=t,this.point=e}function r(t,e){var i=e.segments,n=i.length,r=bm_floor((n-1)*t),s=t*e.addedLength,o=0;if(s==i[r].l)return i[r].p;for(var a=i[r].l>s?-1:1,h=!0;h;)i[r].l<=s&&i[r+1].l>s?(o=(s-i[r].l)/(i[r+1].l-i[r].l),h=!1):r+=a,(0>r||r>=n-1)&&(h=!1);return i[r].p+(i[r+1].p-i[r].p)*o}function s(){this.pt1=new Array(2),this.pt2=new Array(2),this.pt3=new Array(2),this.pt4=new Array(2)}function o(t,e,i,n,o,a,h){var l=new s;o=0>o?0:o>1?1:o;var c=r(o,h);a=a>1?1:a;var u,p=r(a,h),f=t.length,d=1-c,m=1-p;for(u=0;f>u;u+=1)l.pt1[u]=Math.round(1e3*(d*d*d*t[u]+(c*d*d+d*c*d+d*d*c)*i[u]+(c*c*d+d*c*c+c*d*c)*n[u]+c*c*c*e[u]))/1e3,l.pt3[u]=Math.round(1e3*(d*d*m*t[u]+(c*d*m+d*c*m+d*d*p)*i[u]+(c*c*m+d*c*p+c*d*p)*n[u]+c*c*p*e[u]))/1e3,l.pt4[u]=Math.round(1e3*(d*m*m*t[u]+(c*m*m+d*p*m+d*m*p)*i[u]+(c*p*m+d*p*p+c*m*p)*n[u]+c*p*p*e[u]))/1e3,l.pt2[u]=Math.round(1e3*(m*m*m*t[u]+(p*m*m+m*p*m+m*m*p)*i[u]+(p*p*m+m*p*p+p*m*p)*n[u]+p*p*p*e[u]))/1e3;return l}var a=(Math,function(){function t(t,e){this.l=t,this.p=e}return function(e,i,n,r){var s,o,a,h,l,c,u=defaultCurveSegments,p=0,f=[],d=[],m={addedLength:0,segments:[]};for(a=n.length,s=0;u>s;s+=1){for(l=s/(u-1),c=0,o=0;a>o;o+=1)h=bm_pow(1-l,3)*e[o]+3*bm_pow(1-l,2)*l*n[o]+3*(1-l)*bm_pow(l,2)*r[o]+bm_pow(l,3)*i[o],f[o]=h,null!==d[o]&&(c+=bm_pow(f[o]-d[o],2)),d[o]=f[o];c&&(c=bm_sqrt(c),p+=c),m.segments.push(new t(p,l))}return m.addedLength=p,m}}()),h=function(){var e={};return function(r){var s=r.s,o=r.e,a=r.to,h=r.ti,l=(s.join("_")+"_"+o.join("_")+"_"+a.join("_")+"_"+h.join("_")).replace(/\./g,"p");if(e[l])return void(r.bezierData=e[l]);var c,u,p,f,d,m,y,g=defaultCurveSegments,v=0,_=null;2===s.length&&(s[0]!=o[0]||s[1]!=o[1])&&t(s[0],s[1],o[0],o[1],s[0]+a[0],s[1]+a[1])&&t(s[0],s[1],o[0],o[1],o[0]+h[0],o[1]+h[1])&&(g=2);var b=new i(g);for(p=a.length,c=0;g>c;c+=1){for(y=new Array(p),d=c/(g-1),m=0,u=0;p>u;u+=1)f=bm_pow(1-d,3)*s[u]+3*bm_pow(1-d,2)*d*(s[u]+a[u])+3*(1-d)*bm_pow(d,2)*(o[u]+h[u])+bm_pow(d,3)*o[u],y[u]=f,null!==_&&(m+=bm_pow(y[u]-_[u],2));m=bm_sqrt(m),v+=m,b.points[c]=new n(m,y),_=y}b.segmentLength=v,r.bezierData=b,e[l]=b}}();return{getBezierLength:a,getNewSegment:o,buildBezierData:h,pointOnLine2D:t,pointOnLine3D:e}}function dataFunctionManager(){function t(r,s,a){var h,l,c,u,p,f,d,m,y=r.length;for(u=0;y>u;u+=1)if(h=r[u],"ks"in h&&!h.completed){if(h.completed=!0,h.tt&&(r[u-1].td=h.tt),l=[],c=-1,h.hasMask){var g=h.masksProperties;for(f=g.length,p=0;f>p;p+=1)if(g[p].pt.k.i)n(g[p].pt.k);else for(m=g[p].pt.k.length,d=0;m>d;d+=1)g[p].pt.k[d].s&&n(g[p].pt.k[d].s[0]),g[p].pt.k[d].e&&n(g[p].pt.k[d].e[0])}0===h.ty?(h.layers=e(h.refId,s),t(h.layers,s,a)):4===h.ty?i(h.shapes):5==h.ty&&o(h,a)}}function e(t,e){for(var i=0,n=e.length;n>i;){if(e[i].id===t)return e[i].layers;i+=1}}function i(t){var e,r,s,o=t.length,a=!1;for(e=o-1;e>=0;e-=1)if("sh"==t[e].ty){if(t[e].ks.k.i)n(t[e].ks.k);else for(s=t[e].ks.k.length,r=0;s>r;r+=1)t[e].ks.k[r].s&&n(t[e].ks.k[r].s[0]),t[e].ks.k[r].e&&n(t[e].ks.k[r].e[0]);a=!0}else"gr"==t[e].ty&&i(t[e].it)}function n(t){var e,i=t.i.length;for(e=0;i>e;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function r(t,e){var i=e?e.split("."):[100,100,100];return t[0]>i[0]||!(i[0]>t[0])&&(t[1]>i[1]||!(i[1]>t[1])&&(t[2]>i[2]||!(i[2]>t[2])&&void 0))}function s(e,i){e.__complete||(a(e),t(e.layers,e.assets,i),e.__complete=!0)}function o(t,e){var i,n,r,s,o,a,h,l=[],c=t.t.d,u=0,p=t.t.m.g,f=0,d=0,m=0,y=[],g=0,v=0,_=e.getFontByName(c.f),b=0,E=_.fStyle.split(" "),T="normal",A="normal";for(n=E.length,i=0;n>i;i+=1)"italic"===E[i].toLowerCase()?A="italic":"bold"===E[i].toLowerCase()?T="700":"black"===E[i].toLowerCase()?T="900":"medium"===E[i].toLowerCase()?T="500":"regular"===E[i].toLowerCase()||"normal"===E[i].toLowerCase()?T="400":("light"===E[i].toLowerCase()||"thin"===E[i].toLowerCase())&&(T="200");if(c.fWeight=T,c.fStyle=A,n=c.t.length,c.sz){var w=c.sz[0],C=-1;for(i=0;n>i;i+=1)r=!1," "===c.t.charAt(i)?C=i:13===c.t.charCodeAt(i)&&(g=0,r=!0),e.chars?(h=e.getCharData(c.t.charAt(i),_.fStyle,_.fFamily),b=r?0:h.w*c.s/100):b=e.measureText(c.t.charAt(i),c.f,c.s),g+b>w?(-1===C?(c.t=c.t.substr(0,i)+"\r"+c.t.substr(i),n+=1):(i=C,c.t=c.t.substr(0,i)+"\r"+c.t.substr(i+1)),C=-1,g=0):g+=b;n=c.t.length}for(g=0,b=0,i=0;n>i;i+=1)if(r=!1," "===c.t.charAt(i)?s=" ":13===c.t.charCodeAt(i)?(y.push(g),v=g>v?g:v,g=0,s="",r=!0,m+=1):s=c.t.charAt(i),e.chars?(h=e.getCharData(c.t.charAt(i),_.fStyle,e.getFontByName(c.f).fFamily),b=r?0:h.w*c.s/100):b=e.measureText(s,c.f,c.s),g+=b,l.push({l:b,an:b,add:f,n:r,anIndexes:[],val:s,line:m}),2==p){if(f+=b,""==s||" "==s||i==n-1){for((""==s||" "==s)&&(f-=b);i>=d;)l[d].an=f,l[d].ind=u,l[d].extra=b,d+=1;u+=1,f=0}}else if(3==p){if(f+=b,""==s||i==n-1){for(""==s&&(f-=b);i>=d;)l[d].an=f,l[d].ind=u,l[d].extra=b,d+=1;f=0,u+=1}}else l[u].ind=u,l[u].extra=0,u+=1;if(c.l=l,v=g>v?g:v,y.push(g),c.sz)c.boxWidth=c.sz[0],t.t.d.justifyOffset=0;else switch(c.boxWidth=v,c.j){case 1:t.t.d.justifyOffset=-c.boxWidth;break;case 2:t.t.d.justifyOffset=-c.boxWidth/2;break;default:t.t.d.justifyOffset=0}c.lineWidths=y;var x=t.t.a;a=x.length;var S,P,k=[];for(o=0;a>o;o+=1){for(x[o].a.sc&&(c.strokeColorAnim=!0),x[o].a.sw&&(c.strokeWidthAnim=!0),(x[o].a.fc||x[o].a.fh||x[o].a.fs||x[o].a.fb)&&(c.fillColorAnim=!0),P=0,S=x[o].s.b,i=0;n>i;i+=1)l[i].anIndexes[o]=P,(1==S&&""!=l[i].val||2==S&&""!=l[i].val&&" "!=l[i].val||3==S&&(l[i].n||" "==l[i].val||i==n-1)||4==S&&(l[i].n||i==n-1))&&(1===x[o].s.rn&&k.push(P),P+=1);t.t.a[o].s.totalChars=P;var I,R=-1;if(1===x[o].s.rn)for(i=0;n>i;i+=1)R!=l[i].anIndexes[o]&&(R=l[i].anIndexes[o],I=k.splice(Math.floor(Math.random()*k.length),1)[0]),l[i].anIndexes[o]=I}0!==a||"m"in t.t.p||(t.singleShape=!0),c.yOffset=c.lh||1.2*c.s,c.ascent=_.ascent*c.s/100}var a=function(){function t(e){var i,n,r,s=e.length;for(i=0;s>i;i+=1)if("gr"===e[i].ty)t(e[i].it);else if("fl"===e[i].ty||"st"===e[i].ty)if(e[i].c.k&&e[i].c.k[0].i)for(r=e[i].c.k.length,n=0;r>n;n+=1)e[i].c.k[n].s&&(e[i].c.k[n].s[0]/=255,e[i].c.k[n].s[1]/=255,e[i].c.k[n].s[2]/=255,e[i].c.k[n].s[3]/=255),e[i].c.k[n].e&&(e[i].c.k[n].e[0]/=255,e[i].c.k[n].e[1]/=255,e[i].c.k[n].e[2]/=255,e[i].c.k[n].e[3]/=255);else e[i].c.k[0]/=255,e[i].c.k[1]/=255,e[i].c.k[2]/=255,e[i].c.k[3]/=255}function e(e){var i,n=e.length;for(i=0;n>i;i+=1)4===e[i].ty&&t(e[i].shapes)}var i=[4,1,9];return function(t){if(r(i,t.v)&&(e(t.layers),t.assets)){var n,s=t.assets.length;for(n=0;s>n;n+=1)t.assets[n].layers&&e(t.assets[n].layers)}}}(),h={};return h.completeData=s,h}function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",progressiveLoad:e&&e.progressiveLoad||!1},this.elements=[],this.destroyed=!1}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet"},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1};var i,n=15;for(i=0;n>i;i+=1)this.contextData.saved[i]=Array.apply(null,{length:16});this.elements=[],this.transformMat=new Matrix,this.completeLayers=!1}function HybridRenderer(t){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0}function MaskElement(t,e,i){this.dynamicProperties=[],this.data=t,this.element=e,this.globalData=i,this.paths=[],this.storedData=[],this.masksProperties=this.data.masksProperties,this.viewData=new Array(this.masksProperties.length),this.maskElement=null,this.firstFrame=!0;var n,r,s,o,a,h,l,c,u=this.globalData.defs,p=this.masksProperties.length,f=this.masksProperties,d=0,m=[],y=randomString(10),g="clipPath",v="clip-path";for(n=0;p>n;n++)if(("a"!==f[n].mode&&"n"!==f[n].mode||f[n].inv)&&(g="mask",v="mask"),"s"!=f[n].mode&&"i"!=f[n].mode||0!=d?a=null:(a=document.createElementNS(svgNS,"rect"),a.setAttribute("fill","#ffffff"),a.setAttribute("width",this.element.comp.data?this.element.comp.data.w:this.element.globalData.compSize.w),a.setAttribute("height",this.element.comp.data?this.element.comp.data.h:this.element.globalData.compSize.h),m.push(a)),r=document.createElementNS(svgNS,"path"),"n"!=f[n].mode&&f[n].cl!==!1){if(d+=1,f[n].cl?"s"==f[n].mode?r.setAttribute("fill","#000000"):r.setAttribute("fill","#ffffff"):(r.setAttribute("fill","none"),"s"==f[n].mode?r.setAttribute("fill","#000000"):r.setAttribute("fill","#ffffff"),r.setAttribute("stroke-width","1"),r.setAttribute("stroke-miterlimit","10")),r.setAttribute("clip-rule","nonzero"),0!==f[n].x.k){g="mask",v="mask",c=PropertyFactory.getProp(this.element,f[n].x,0,null,this.dynamicProperties);var _="fi_"+randomString(10);h=document.createElementNS(svgNS,"filter"),h.setAttribute("id",_),l=document.createElementNS(svgNS,"feMorphology"),l.setAttribute("operator","dilate"),l.setAttribute("in","SourceGraphic"),l.setAttribute("radius","0"),h.appendChild(l),u.appendChild(h),"s"==f[n].mode?r.setAttribute("stroke","#000000"):r.setAttribute("stroke","#ffffff")}else l=null,c=null;if(this.storedData[n]={elem:r,x:c,expan:l,lastPath:"",lastOperator:"",filterId:_,lastRadius:0},"i"==f[n].mode){o=m.length;var b=document.createElementNS(svgNS,"g");for(s=0;o>s;s+=1)b.appendChild(m[s]);var E=document.createElementNS(svgNS,"mask");E.setAttribute("mask-type","alpha"),E.setAttribute("id",y+"_"+d),E.appendChild(r),u.appendChild(E),b.setAttribute("mask","url(#"+y+"_"+d+")"),m.length=0,m.push(b)}else m.push(r);f[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:r,lastPath:"",prop:ShapePropertyFactory.getShapeProp(this.element,f[n],3,this.dynamicProperties,null)},a&&(this.viewData[n].invRect=a),this.viewData[n].prop.k||this.drawPath(f[n],this.viewData[n].prop.v,this.viewData[n])}else this.viewData[n]={prop:ShapePropertyFactory.getShapeProp(this.element,f[n],3,this.dynamicProperties,null),elem:r},u.appendChild(r);for(this.maskElement=document.createElementNS(svgNS,g),p=m.length,n=0;p>n;n+=1)this.maskElement.appendChild(m[n]);this.maskElement.setAttribute("id",y),d>0&&this.element.maskedElement.setAttribute(v,"url(#"+y+")"),u.appendChild(this.maskElement)}function BaseElement(){}function SVGBaseElement(t,e,i,n,r){this.globalData=i,this.comp=n,this.data=t,this.matteElement=null,this.parentContainer=e,this.layerId=r?r.layerId:"ly_"+randomString(10),this.placeholder=r,this.init()}function ITextElement(t,e,i,n){}function SVGTextElement(t,e,i,n,r){this.textSpans=[],this.renderType="svg",this._parent.constructor.call(this,t,e,i,n,r)}function SVGEffects(t){var e,i=t.data.ef.length,n=document.createElementNS(svgNS,"filter"),r=0;this.filters=[];var s;for(e=0;i>e;e+=1)20===t.data.ef[e].ty?(r+=1,s=new SVGTintFilter(n,t.effects.effectElements[e]),this.filters.push(s)):21===t.data.ef[e].ty?(r+=1,s=new SVGFillFilter(n,t.effects.effectElements[e]),this.filters.push(s)):22===t.data.ef[e].ty&&(s=new SVGStrokeEffect(t,t.effects.effectElements[e]),this.filters.push(s));if(r){var o=randomString(10);n.setAttribute("id",o),n.setAttribute("filterUnits","objectBoundingBox"),n.setAttribute("x","0%"),n.setAttribute("y","0%"),n.setAttribute("width","100%"),n.setAttribute("height","100%"),t.globalData.defs.appendChild(n),t.layerElement.setAttribute("filter","url(#"+o+")")}}function SVGTintFilter(t,e){this.filterManager=e;var i=document.createElementNS(svgNS,"feColorMatrix");if(i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),t.appendChild(i),i=document.createElementNS(svgNS,"feColorMatrix"),i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result","f2"),t.appendChild(i),this.matrixFilter=i,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var n=document.createElementNS(svgNS,"feMerge");t.appendChild(n);var r;r=document.createElementNS(svgNS,"feMergeNode"),r.setAttribute("in","SourceGraphic"),n.appendChild(r),r=document.createElementNS(svgNS,"feMergeNode"),r.setAttribute("in","f2"),n.appendChild(r)}}function SVGFillFilter(t,e){this.filterManager=e;var i=document.createElementNS(svgNS,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(i),this.matrixFilter=i}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t}function ICompElement(t,e,i,n,r){this._parent.constructor.call(this,t,e,i,n,r),this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,i.frameRate,this.dynamicProperties)),this.data.xt?(this.layerElement=document.createElementNS(svgNS,"g"),this.buildAllItems()):i.progressiveLoad||this.buildAllItems()}function IImageElement(t,e,i,n,r){this.assetData=i.getAssetData(t.refId),this._parent.constructor.call(this,t,e,i,n,r)}function IShapeElement(t,e,i,n,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.viewData=[],this.shapeModifiers=[],
this._parent.constructor.call(this,t,e,i,n,r)}function ISolidElement(t,e,i,n,r){this._parent.constructor.call(this,t,e,i,n,r)}function CVBaseElement(t,e,i){this.globalData=i,this.data=t,this.comp=e,this.canvasContext=i.canvasContext,this.init()}function CVCompElement(t,e,i){this._parent.constructor.call(this,t,e,i);var n={};for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r]);n.renderer=this,n.compHeight=this.data.h,n.compWidth=this.data.w,this.renderConfig={clearCanvas:!0},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1},this.completeLayers=!1;var s,o=15;for(s=0;o>s;s+=1)this.contextData.saved[s]=Array.apply(null,{length:16});this.transformMat=new Matrix,this.parentGlobalData=this.globalData;var a=document.createElement("canvas");n.canvasContext=a.getContext("2d"),this.canvasContext=n.canvasContext,a.width=this.data.w,a.height=this.data.h,this.canvas=a,this.globalData=n,this.layers=t.layers,this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,i.frameRate,this.dynamicProperties)),(this.data.xt||!i.progressiveLoad)&&this.buildAllItems()}function CVImageElement(t,e,i){this.assetData=i.getAssetData(t.refId),this._parent.constructor.call(this,t,e,i),this.globalData.addPendingElement()}function CVMaskElement(t,e){this.data=t,this.element=e,this.dynamicProperties=[],this.masksProperties=this.data.masksProperties,this.viewData=new Array(this.masksProperties.length);var i,n=this.masksProperties.length;for(i=0;n>i;i++)this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3,this.dynamicProperties,null)}function CVShapeElement(t,e,i){this.shapes=[],this.stylesList=[],this.viewData=[],this.shapeModifiers=[],this.shapesData=t.shapes,this.firstFrame=!0,this._parent.constructor.call(this,t,e,i)}function CVSolidElement(t,e,i){this._parent.constructor.call(this,t,e,i)}function CVTextElement(t,e,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this._parent.constructor.call(this,t,e,i)}function HBaseElement(t,e,i,n,r){this.globalData=i,this.comp=n,this.data=t,this.matteElement=null,this.parentContainer=e,this.layerId=r?r.layerId:"ly_"+randomString(10),this.placeholder=r,this.init()}function HSolidElement(t,e,i,n,r){this._parent.constructor.call(this,t,e,i,n,r)}function HCompElement(t,e,i,n,r){this._parent.constructor.call(this,t,e,i,n,r),this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,i.frameRate,this.dynamicProperties)),this.data.hasMask&&(this.supports3d=!1),this.data.xt&&(this.layerElement=document.createElement("div")),this.buildAllItems()}function HShapeElement(t,e,i,n,r){this.shapes=[],this.shapeModifiers=[],this.shapesData=t.shapes,this.stylesList=[],this.viewData=[],this._parent.constructor.call(this,t,e,i,n,r),this.addedTransforms={mdf:!1,mats:[this.finalTransform.mat]},this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,i,n,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this._parent.constructor.call(this,t,e,i,n,r)}function HImageElement(t,e,i,n,r){this.assetData=i.getAssetData(t.refId),this._parent.constructor.call(this,t,e,i,n,r)}function HCameraElement(t,e,i,n,r){if(this._parent.constructor.call(this,t,e,i,n,r),this.pe=PropertyFactory.getProp(this,t.pe,0,0,this.dynamicProperties),t.ks.p.s?(this.px=PropertyFactory.getProp(this,t.ks.p.x,1,0,this.dynamicProperties),this.py=PropertyFactory.getProp(this,t.ks.p.y,1,0,this.dynamicProperties),this.pz=PropertyFactory.getProp(this,t.ks.p.z,1,0,this.dynamicProperties)):this.p=PropertyFactory.getProp(this,t.ks.p,1,0,this.dynamicProperties),t.ks.a&&(this.a=PropertyFactory.getProp(this,t.ks.a,1,0,this.dynamicProperties)),t.ks.or.k.length){var s,o=t.ks.or.k.length;for(s=0;o>s;s+=1)t.ks.or.k[s].to=null,t.ks.or.k[s].ti=null}this.or=PropertyFactory.getProp(this,t.ks.or,1,degToRads,this.dynamicProperties),this.or.sh=!0,this.rx=PropertyFactory.getProp(this,t.ks.rx,0,degToRads,this.dynamicProperties),this.ry=PropertyFactory.getProp(this,t.ks.ry,0,degToRads,this.dynamicProperties),this.rz=PropertyFactory.getProp(this,t.ks.rz,0,degToRads,this.dynamicProperties),this.mat=new Matrix}function SliderEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function AngleEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function ColorEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function PointEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function CheckboxEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(t,e,i){var n=t.ef;this.effectElements=[];var r,s,o=n.length;for(r=0;o>r;r++)s=new GroupEffect(n[r],e,i),this.effectElements.push(s)}function GroupEffect(t,e,i){this.dynamicProperties=[],this.init(t,e,this.dynamicProperties),this.dynamicProperties.length&&i.push(this)}function play(t){animationManager.play(t)}function pause(t){animationManager.pause(t)}function togglePause(t){animationManager.togglePause(t)}function setSpeed(t,e){animationManager.setSpeed(t,e)}function setDirection(t,e){animationManager.setDirection(t,e)}function stop(t){animationManager.stop(t)}function moveFrame(t){animationManager.moveFrame(t)}function searchAnimations(){standalone===!0?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function registerAnimation(t){return animationManager.registerAnimation(t)}function resize(){animationManager.resize()}function start(){animationManager.start()}function goToAndStop(t,e,i){animationManager.goToAndStop(t,e,i)}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return standalone===!0&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function destroy(t){return animationManager.destroy(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(!(defaultCurveSegments>=50))}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),i=0;i<e.length;i++){var n=e[i].split("=");if(decodeURIComponent(n[0])==t)return decodeURIComponent(n[1])}}var svgNS="http://www.w3.org/2000/svg",subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};!function(){var t,e=Object.getOwnPropertyNames(Math),i=e.length;for(t=0;i>t;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){var e=typeof t;if("object"===e&&t.length){var i,n=Array.apply(null,{length:t.length}),r=t.length;for(i=0;r>i;i+=1)n[i]=Math.abs(t[i]);return n}return t};var defaultCurveSegments=75,degToRads=Math.PI/180,roundCorner=.5519;roundValues(!1);var rgbToHex=function(){var t,e,i=[];for(t=0;256>t;t+=1)e=t.toString(16),i[t]=1==e.length?"0"+e:e;return function(t,e,n){return 0>t&&(t=0),0>e&&(e=0),0>n&&(n=0),"#"+i[t]+i[e]+i[n]}}(),fillColorToString=function(){var t=[];return function(e,i){return void 0!==i&&(e[3]=i),t[e[0]]||(t[e[0]]={}),t[e[0]][e[1]]||(t[e[0]][e[1]]={}),t[e[0]][e[1]][e[2]]||(t[e[0]][e[1]][e[2]]={}),t[e[0]][e[1]][e[2]][e[3]]||(t[e[0]][e[1]][e[2]][e[3]]="rgba("+e.join(",")+")"),t[e[0]][e[1]][e[2]][e[3]]}}(),Matrix=function(){function t(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function e(t){if(0===t)return this;var e=Math.cos(t),i=Math.sin(t);return this._t(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1)}function i(t){if(0===t)return this;var e=Math.cos(t),i=Math.sin(t);return this._t(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1)}function n(t){if(0===t)return this;var e=Math.cos(t),i=Math.sin(t);return this._t(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1)}function r(t){if(0===t)return this;var e=Math.cos(t),i=Math.sin(t);return this._t(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1)}function s(t,e){return this._t(1,e,t,1,0,0)}function o(t,e){return this.shear(Math.tan(t),Math.tan(e))}function a(t,e){var i=Math.cos(e),n=Math.sin(e);return this._t(i,n,0,0,-n,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1)._t(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1)}function h(t,e,i){return i=isNaN(i)?1:i,1==t&&1==e&&1==i?this:this._t(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1)}function l(t,e,i,n,r,s,o,a,h,l,c,u,p,f,d,m){return this.props[0]=t,this.props[1]=e,this.props[2]=i,this.props[3]=n,this.props[4]=r,this.props[5]=s,this.props[6]=o,this.props[7]=a,this.props[8]=h,this.props[9]=l,this.props[10]=c,this.props[11]=u,this.props[12]=p,this.props[13]=f,this.props[14]=d,this.props[15]=m,this}function c(t,e,i){return i=i||0,0!==t||0!==e||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1):this}function u(t,e,i,n,r,s,o,a,h,l,c,u,p,f,d,m){if(1===t&&0===e&&0===i&&0===n&&0===r&&1===s&&0===o&&0===a&&0===h&&0===l&&1===c&&0===u)return(0!==p||0!==f||0!==d)&&(this.props[12]=this.props[12]*t+this.props[13]*r+this.props[14]*h+this.props[15]*p,this.props[13]=this.props[12]*e+this.props[13]*s+this.props[14]*l+this.props[15]*f,this.props[14]=this.props[12]*i+this.props[13]*o+this.props[14]*c+this.props[15]*d,this.props[15]=this.props[12]*n+this.props[13]*a+this.props[14]*u+this.props[15]*m),this;var y=this.props[0],g=this.props[1],v=this.props[2],_=this.props[3],b=this.props[4],E=this.props[5],T=this.props[6],A=this.props[7],w=this.props[8],C=this.props[9],x=this.props[10],S=this.props[11],P=this.props[12],k=this.props[13],I=this.props[14],R=this.props[15];return this.props[0]=y*t+g*r+v*h+_*p,this.props[1]=y*e+g*s+v*l+_*f,this.props[2]=y*i+g*o+v*c+_*d,this.props[3]=y*n+g*a+v*u+_*m,this.props[4]=b*t+E*r+T*h+A*p,this.props[5]=b*e+E*s+T*l+A*f,this.props[6]=b*i+E*o+T*c+A*d,this.props[7]=b*n+E*a+T*u+A*m,this.props[8]=w*t+C*r+x*h+S*p,this.props[9]=w*e+C*s+x*l+S*f,this.props[10]=w*i+C*o+x*c+S*d,this.props[11]=w*n+C*a+x*u+S*m,this.props[12]=P*t+k*r+I*h+R*p,this.props[13]=P*e+k*s+I*l+R*f,this.props[14]=P*i+k*o+I*c+R*d,this.props[15]=P*n+k*a+I*u+R*m,this}function p(t){var e;for(e=0;16>e;e+=1)t.props[e]=this.props[e]}function f(t){var e;for(e=0;16>e;e+=1)this.props[e]=t[e]}function d(t,e,i){return{x:t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}}function m(t,e,i){return t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12]}function y(t,e,i){return t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13]}function g(t,e,i){return t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}function v(t){var e,i=this.props[0]*this.props[5]-this.props[1]*this.props[4],n=this.props[5]/i,r=-this.props[1]/i,s=-this.props[4]/i,o=this.props[0]/i,a=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/i,h=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/i,l=t.length,c=[];for(e=0;l>e;e+=1)c[e]=[t[e][0]*n+t[e][1]*s+a,t[e][0]*r+t[e][1]*o+h,0];return c}function _(t,e,i){return[t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]]}function b(t,e){return bm_rnd(t*this.props[0]+e*this.props[4]+this.props[12])+","+bm_rnd(t*this.props[1]+e*this.props[5]+this.props[13])}function E(){return[this.props[0],this.props[1],this.props[2],this.props[3],this.props[4],this.props[5],this.props[6],this.props[7],this.props[8],this.props[9],this.props[10],this.props[11],this.props[12],this.props[13],this.props[14],this.props[15]]}function T(){return isSafari?"matrix3d("+roundTo2Decimals(this.props[0])+","+roundTo2Decimals(this.props[1])+","+roundTo2Decimals(this.props[2])+","+roundTo2Decimals(this.props[3])+","+roundTo2Decimals(this.props[4])+","+roundTo2Decimals(this.props[5])+","+roundTo2Decimals(this.props[6])+","+roundTo2Decimals(this.props[7])+","+roundTo2Decimals(this.props[8])+","+roundTo2Decimals(this.props[9])+","+roundTo2Decimals(this.props[10])+","+roundTo2Decimals(this.props[11])+","+roundTo2Decimals(this.props[12])+","+roundTo2Decimals(this.props[13])+","+roundTo2Decimals(this.props[14])+","+roundTo2Decimals(this.props[15])+")":(this.cssParts[1]=this.props.join(","),this.cssParts.join(""))}function A(){return"matrix("+this.props[0]+","+this.props[1]+","+this.props[4]+","+this.props[5]+","+this.props[12]+","+this.props[13]+")"}function w(){return""+this.toArray()}return function(){this.reset=t,this.rotate=e,this.rotateX=i,this.rotateY=n,this.rotateZ=r,this.skew=o,this.skewFromAxis=a,this.shear=s,this.scale=h,this.setTransform=l,this.translate=c,this.transform=u,this.applyToPoint=d,this.applyToX=m,this.applyToY=y,this.applyToZ=g,this.applyToPointArray=_,this.applyToPointStringified=b,this.toArray=E,this.toCSS=T,this.to2dCSS=A,this.toString=w,this.clone=p,this.cloneFromProps=f,this.inversePoints=v,this._t=this.transform,this.props=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.cssParts=["matrix3d(","",")"]}}();!function(t,e){function i(i,l,c){var f=[];l=1==l?{entropy:!0}:l||{};var v=o(s(l.entropy?[i,h(t)]:null==i?a():i,3),f),_=new n(f),b=function(){for(var t=_.g(p),e=m,i=0;y>t;)t=(t+i)*u,e*=u,i=_.g(1);for(;t>=g;)t/=2,e/=2,i>>>=1;return(t+i)/e};return b.int32=function(){return 0|_.g(4)},b.quick=function(){return _.g(4)/4294967296},b["double"]=b,o(h(_.S),t),(l.pass||c||function(t,i,n,s){return s&&(s.S&&r(s,_),t.state=function(){return r(_,{})}),n?(e[d]=t,i):t})(b,v,"global"in l?l.global:this==e,l.state)}function n(t){var e,i=t.length,n=this,r=0,s=n.i=n.j=0,o=n.S=[];for(i||(t=[i++]);u>r;)o[r]=r++;for(r=0;u>r;r++)o[r]=o[s=v&s+t[r%i]+(e=o[r])],o[s]=e;(n.g=function(t){for(var e,i=0,r=n.i,s=n.j,o=n.S;t--;)e=o[r=v&r+1],i=i*u+o[v&(o[r]=o[s=v&s+e])+(o[s]=e)];return n.i=r,n.j=s,i})(u)}function r(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function s(t,e){var i,n=[],r=typeof t;if(e&&"object"==r)for(i in t)try{n.push(s(t[i],e-1))}catch(o){}return n.length?n:"string"==r?t:t+"\0"}function o(t,e){for(var i,n=t+"",r=0;r<n.length;)e[v&r]=v&(i^=19*e[v&r])+n.charCodeAt(r++);return h(e)}function a(){try{if(l)return h(l.randomBytes(u));var e=new Uint8Array(u);return(c.crypto||c.msCrypto).getRandomValues(e),h(e)}catch(i){var n=c.navigator,r=n&&n.plugins;return[+new Date,c,r,c.screen,h(t)]}}function h(t){return String.fromCharCode.apply(0,t)}var l,c=this,u=256,p=6,f=52,d="random",m=e.pow(u,p),y=e.pow(2,f),g=2*y,v=u-1;e["seed"+d]=i,o(e.random(),t)}([],BMMath);var BezierFactory=function(){function t(t,e,i,n,r){var s=r||("bez_"+t+"_"+e+"_"+i+"_"+n).replace(/\./g,"p");if(c[s])return c[s];var o=new h([t,e,i,n]);return c[s]=o,o}function e(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function n(t){return 3*t}function r(t,r,s){return((e(r,s)*t+i(r,s))*t+n(r))*t}function s(t,r,s){return 3*e(r,s)*t*t+2*i(r,s)*t+n(r)}function o(t,e,i,n,s){var o,a,h=0;do a=e+(i-e)/2,o=r(a,n,s)-t,o>0?i=a:e=a;while(Math.abs(o)>f&&++h<d);return a}function a(t,e,i,n){for(var o=0;u>o;++o){var a=s(e,i,n);if(0===a)return e;var h=r(e,i,n)-t;e-=h/a}return e}function h(t){this._p=t,this._mSampleValues=g?new Float32Array(m):new Array(m),this._precomputed=!1,this.get=this.get.bind(this)}var l={};l.getBezierEasing=t;var c={},u=4,p=.001,f=1e-7,d=10,m=11,y=1/(m-1),g="function"==typeof Float32Array;return h.prototype={get:function(t){var e=this._p[0],i=this._p[1],n=this._p[2],s=this._p[3];return this._precomputed||this._precompute(),e===i&&n===s?t:0===t?0:1===t?1:r(this._getTForX(t),i,s)},_precompute:function(){var t=this._p[0],e=this._p[1],i=this._p[2],n=this._p[3];this._precomputed=!0,(t!==e||i!==n)&&this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],i=0;m>i;++i)this._mSampleValues[i]=r(i*y,t,e)},_getTForX:function(t){for(var e=this._p[0],i=this._p[2],n=this._mSampleValues,r=0,h=1,l=m-1;h!==l&&n[h]<=t;++h)r+=y;--h;var c=(t-n[h])/(n[h+1]-n[h]),u=r+c*y,f=s(u,e,i);return f>=p?a(t,u,e,i):0===f?u:o(t,r,r+y,e,i)}},l}(),MatrixManager=matrixManagerFunction;!function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),s=window.setTimeout(function(){e(n+r)},r);return t=n+r,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction(),dataManager=dataFunctionManager(),FontManager=function(){function t(t,e){var i=document.createElement("span");i.style.fontFamily=e;var n=document.createElement("span");n.innerHTML="giItT1WQy@!-/#",i.style.position="absolute",i.style.left="-10000px",i.style.top="-10000px",i.style.fontSize="300px",i.style.fontVariant="normal",i.style.fontStyle="normal",i.style.fontWeight="normal",i.style.letterSpacing="0",i.appendChild(n),document.body.appendChild(i);var r=n.offsetWidth;return n.style.fontFamily=t+", "+e,{node:n,w:r,parent:i}}function e(){var t,i,n,r=this.fonts.length,s=r;for(t=0;r>t;t+=1)if(this.fonts[t].loaded)s-=1;else if("t"===this.fonts[t].fOrigin){if(window.Typekit&&window.Typekit.load&&0===this.typekitLoaded){this.typekitLoaded=1;try{Typekit.load({async:!0,active:function(){this.typekitLoaded=2}.bind(this)})}catch(o){}}2===this.typekitLoaded&&(this.fonts[t].loaded=!0)}else"n"===this.fonts[t].fOrigin?this.fonts[t].loaded=!0:(i=this.fonts[t].monoCase.node,n=this.fonts[t].monoCase.w,i.offsetWidth!==n?(s-=1,this.fonts[t].loaded=!0):(i=this.fonts[t].sansCase.node,n=this.fonts[t].sansCase.w,i.offsetWidth!==n&&(s-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==s&&Date.now()-this.initTime<h?setTimeout(e.bind(this),20):setTimeout(function(){this.loaded=!0}.bind(this),0)}function i(t,e){var i=document.createElementNS(svgNS,"text");i.style.fontSize="100px",i.style.fontFamily=e.fFamily,i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.className=e.fClass):i.style.fontFamily=e.fFamily,t.appendChild(i);var n=document.createElement("canvas").getContext("2d");return n.font="100px "+e.fFamily,n}function n(n,r){if(!n)return void(this.loaded=!0);if(this.chars)return this.loaded=!0,void(this.fonts=n.list);var s,o=n.list,a=o.length;for(s=0;a>s;s+=1){if(o[s].loaded=!1,o[s].monoCase=t(o[s].fFamily,"monospace"),o[s].sansCase=t(o[s].fFamily,"sans-serif"),o[s].fPath){if("p"===o[s].fOrigin){var h=document.createElement("style");h.type="text/css",h.innerHTML="@font-face {font-family: "+o[s].fFamily+"; font-style: normal; src: url('"+o[s].fPath+"');}",r.appendChild(h)}else if("g"===o[s].fOrigin){var l=document.createElement("link");l.type="text/css",l.rel="stylesheet",l.href=o[s].fPath,r.appendChild(l)}else if("t"===o[s].fOrigin){var c=document.createElement("script");c.setAttribute("src",o[s].fPath),r.appendChild(c)}}else o[s].loaded=!0;o[s].helper=i(r,o[s]),this.fonts.push(o[s])}e.bind(this)()}function r(t){if(t){this.chars||(this.chars=[]);var e,i,n,r=t.length,s=this.chars.length;for(e=0;r>e;e+=1){for(i=0,n=!1;s>i;)this.chars[i].style===t[e].style&&this.chars[i].fFamily===t[e].fFamily&&this.chars[i].ch===t[e].ch&&(n=!0),i+=1;n||(this.chars.push(t[e]),s+=1)}}}function s(t,e,i){for(var n=0,r=this.chars.length;r>n;){if(this.chars[n].ch===t&&this.chars[n].style===e&&this.chars[n].fFamily===i)return this.chars[n];n+=1}}function o(t,e,i){var n=this.getFontByName(e),r=n.helper;return r.measureText(t).width*i/100}function a(t){for(var e=0,i=this.fonts.length;i>e;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return"sans-serif"}var h=5e3,l=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.loaded=!1,this.initTime=Date.now()};return l.prototype.addChars=r,l.prototype.addFonts=n,l.prototype.getCharData=s,l.prototype.getFontByName=a,l.prototype.measureText=o,l}(),PropertyFactory=function(){function t(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var t=this.comp.renderedFrame-this.offsetTime;if(t===this.lastFrame||this.lastFrame!==l&&(this.lastFrame>=this.keyframes[this.keyframes.length-1].t-this.offsetTime&&t>=this.keyframes[this.keyframes.length-1].t-this.offsetTime||this.lastFrame<this.keyframes[0].t-this.offsetTime&&t<this.keyframes[0].t-this.offsetTime));else{for(var e,i,n=0,r=this.keyframes.length-1,s=1,o=!0;o;){if(e=this.keyframes[n],i=this.keyframes[n+1],n==r-1&&t>=i.t-this.offsetTime){e.h&&(e=i);break}if(i.t-this.offsetTime>t)break;r-1>n?n+=s:o=!1}var a,h,c,u,p,f=0;if(e.to){e.bezierData||bez.buildBezierData(e);var d=e.bezierData;if(t>=i.t-this.offsetTime||t<e.t-this.offsetTime){var m=t>=i.t-this.offsetTime?d.points.length-1:0;for(h=d.points[m].point.length,a=0;h>a;a+=1)this.v[a]=this.mult?d.points[m].point[a]*this.mult:d.points[m].point[a],this.pv[a]=d.points[m].point[a],this.lastPValue[a]!==this.pv[a]&&(this.mdf=!0,this.lastPValue[a]=this.pv[a])}else{e.__fnct?p=e.__fnct:(p=BezierFactory.getBezierEasing(e.o.x,e.o.y,e.i.x,e.i.y,e.n).get,e.__fnct=p),c=p((t-(e.t-this.offsetTime))/(i.t-this.offsetTime-(e.t-this.offsetTime)));var y,g=d.segmentLength*c,v=0;for(s=1,o=!0,u=d.points.length;o;){if(v+=d.points[f].partialLength*s,0===g||0===c||f==d.points.length-1){for(h=d.points[f].point.length,a=0;h>a;a+=1)this.v[a]=this.mult?d.points[f].point[a]*this.mult:d.points[f].point[a],this.pv[a]=d.points[f].point[a],this.lastPValue[a]!==this.pv[a]&&(this.mdf=!0,this.lastPValue[a]=this.pv[a]);break}if(g>=v&&g<v+d.points[f+1].partialLength){for(y=(g-v)/d.points[f+1].partialLength,h=d.points[f].point.length,a=0;h>a;a+=1)this.v[a]=this.mult?(d.points[f].point[a]+(d.points[f+1].point[a]-d.points[f].point[a])*y)*this.mult:d.points[f].point[a]+(d.points[f+1].point[a]-d.points[f].point[a])*y,this.pv[a]=d.points[f].point[a]+(d.points[f+1].point[a]-d.points[f].point[a])*y,this.lastPValue[a]!==this.pv[a]&&(this.mdf=!0,this.lastPValue[a]=this.pv[a]);break}u-1>f&&1==s||f>0&&-1==s?f+=s:o=!1}}}else{var _,b,E,T,A,w=!1;for(r=e.s.length,n=0;r>n;n+=1){if(1!==e.h&&(e.o.x instanceof Array?(w=!0,e.__fnct||(e.__fnct=[]),e.__fnct[n]||(_=e.o.x[n]||e.o.x[0],b=e.o.y[n]||e.o.y[0],E=e.i.x[n]||e.i.x[0],T=e.i.y[n]||e.i.y[0])):(w=!1,e.__fnct||(_=e.o.x,b=e.o.y,E=e.i.x,T=e.i.y)),w?e.__fnct[n]?p=e.__fnct[n]:(p=BezierFactory.getBezierEasing(_,b,E,T).get,e.__fnct[n]=p):e.__fnct?p=e.__fnct:(p=BezierFactory.getBezierEasing(_,b,E,T).get,e.__fnct=p),c=t>=i.t-this.offsetTime?1:t<e.t-this.offsetTime?0:p((t-(e.t-this.offsetTime))/(i.t-this.offsetTime-(e.t-this.offsetTime)))),this.sh&&1!==e.h){var C=e.s[n],x=e.e[n];-180>C-x?C+=360:C-x>180&&(C-=360),A=C+(x-C)*c}else A=1===e.h?e.s[n]:e.s[n]+(e.e[n]-e.s[n])*c;1===r?(this.v=this.mult?A*this.mult:A,this.pv=A,this.lastPValue!=this.pv&&(this.mdf=!0,this.lastPValue=this.pv)):(this.v[n]=this.mult?A*this.mult:A,this.pv[n]=A,this.lastPValue[n]!==this.pv[n]&&(this.mdf=!0,this.lastPValue[n]=this.pv[n]))}}}this.lastFrame=t,this.frameId=this.elem.globalData.frameId}}function e(){}function i(t,i,n){this.mult=n,this.v=n?i.k*n:i.k,this.pv=i.k,this.mdf=!1,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.getValue=e}function n(t,i,n){this.mult=n,this.data=i,this.mdf=!1,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1,this.v=new Array(i.k.length),this.pv=new Array(i.k.length),this.lastValue=new Array(i.k.length);var r=Array.apply(null,{length:i.k.length});this.vel=r.map(function(){return 0});var s,o=i.k.length;for(s=0;o>s;s+=1)this.v[s]=n?i.k[s]*n:i.k[s],this.pv[s]=i.k[s];this.getValue=e}function r(e,i,n){this.keyframes=i.k,this.offsetTime=e.data.st,this.lastValue=-99999,this.lastPValue=-99999,this.frameId=-1,this.k=!0,this.kf=!0,this.data=i,this.mult=n,this.elem=e,this.comp=e.comp,this.lastFrame=l,this.v=n?i.k[0].s[0]*n:i.k[0].s[0],this.pv=i.k[0].s[0],this.getValue=t}function s(e,i,n){var r,s,o,a,h,c=i.k.length;for(r=0;c-1>r;r+=1)i.k[r].to&&i.k[r].s&&i.k[r].e&&(s=i.k[r].s,o=i.k[r].e,a=i.k[r].to,h=i.k[r].ti,(2===s.length&&(s[0]!==o[0]||s[1]!==o[1])&&bez.pointOnLine2D(s[0],s[1],o[0],o[1],s[0]+a[0],s[1]+a[1])&&bez.pointOnLine2D(s[0],s[1],o[0],o[1],o[0]+h[0],o[1]+h[1])||3===s.length&&(s[0]!==o[0]||s[1]!==o[1]||s[2]!==o[2])&&bez.pointOnLine3D(s[0],s[1],s[2],o[0],o[1],o[2],s[0]+a[0],s[1]+a[1],s[2]+a[2])&&bez.pointOnLine3D(s[0],s[1],s[2],o[0],o[1],o[2],o[0]+h[0],o[1]+h[1],o[2]+h[2]))&&(i.k[r].to=null,i.k[r].ti=null));this.keyframes=i.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this.mult=n,this.elem=e,this.comp=e.comp,this.getValue=t,this.frameId=-1,this.v=new Array(i.k[0].s.length),this.pv=new Array(i.k[0].s.length),this.lastValue=new Array(i.k[0].s.length),this.lastPValue=new Array(i.k[0].s.length),this.lastFrame=l}function o(t,e,o,a,h){var l;if(2===o)l=new c(t,e,h);else if(7===o)l=new TrimProperty(t,e,h);else if(e.k.length)if("number"==typeof e.k[0])l=new n(t,e,a);else switch(o){case 0:l=new r(t,e,a);break;case 1:l=new s(t,e,a)}else l=new i(t,e,a);return l.k&&h.push(l),l}function a(t,e,i,n){return new p(t,e,i,n)}function h(t,e,i){return new f(t,e,i)}var l=-999999,c=function(){function t(){return this.p.k&&this.p.getValue(),this.p.v.key||(this.p.v.key=function(t){return this.p.v.numKeys?this.p.keyframes[t-1].t:0}.bind(this)),this.p.v.numKeys||(this.p.v.numKeys=this.p.keyframes?this.p.keyframes.length:0),this.p.v.valueAtTime||(this.p.v.valueAtTime=this.p.getValueAtTime.bind(this.p)),this.p.v}function e(){return this.px.k&&this.px.getValue(),this.px.v}function i(){return this.py.k&&this.py.getValue(),this.py.v}function n(){return this.a.k&&this.a.getValue(),this.a.v}function r(){return this.or.k&&this.or.getValue(),this.or.v}function s(){return this.r.k&&this.r.getValue(),this.r.v/degToRads}function o(){return this.s.k&&this.s.getValue(),this.s.v}function a(){return this.o.k&&this.o.getValue(),this.o.v}function h(){return this.sk.k&&this.sk.getValue(),this.sk.v}function l(){return this.sa.k&&this.sa.getValue(),this.sa.v}function c(t){var e,i=this.dynamicProperties.length;for(e=0;i>e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0);this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function u(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0);if(this.mdf){if(this.v.reset(),this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented&&this.p.keyframes&&this.p.getValueAtTime){var i,n;this.p.lastFrame+this.p.offsetTime<this.p.keyframes[0].t?(i=this.p.getValueAtTime(this.p.keyframes[0].t-this.p.offsetTime+.01,this.p.offsetTime),n=this.p.getValueAtTime(this.p.keyframes[0].t-this.p.offsetTime,this.p.offsetTime)):this.p.lastFrame+this.p.offsetTime>this.p.keyframes[this.p.keyframes.length-1].t?(i=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t-this.p.offsetTime,this.p.offsetTime),n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t-this.p.offsetTime-.01,this.p.offsetTime)):(i=this.p.pv,n=this.p.getValueAtTime(this.p.lastFrame-.01,this.p.offsetTime)),this.v.rotate(-Math.atan2(i[1]-n[1],i[0]-n[0]))}this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function p(){this.inverted=!0,this.iv=new Matrix,this.k||(this.data.p.s?this.iv.translate(this.px.v,this.py.v,-this.pz.v):this.iv.translate(this.p.v[0],this.p.v[1],-this.p.v[2]),this.r?this.iv.rotate(-this.r.v):this.iv.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.s&&this.iv.scale(this.s.v[0],this.s.v[1],1),this.a&&this.iv.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]))}function f(){}return function(d,m,y){this.elem=d,this.frameId=-1,this.dynamicProperties=[],this.mdf=!1,this.data=m,this.getValue=u,this.applyToMatrix=c,this.setInverted=p,this.autoOrient=f,this.v=new Matrix,m.p.s?(this.px=PropertyFactory.getProp(d,m.p.x,0,0,this.dynamicProperties),this.py=PropertyFactory.getProp(d,m.p.y,0,0,this.dynamicProperties),m.p.z&&(this.pz=PropertyFactory.getProp(d,m.p.z,0,0,this.dynamicProperties))):this.p=PropertyFactory.getProp(d,m.p,1,0,this.dynamicProperties),m.r?this.r=PropertyFactory.getProp(d,m.r,0,degToRads,this.dynamicProperties):m.rx&&(this.rx=PropertyFactory.getProp(d,m.rx,0,degToRads,this.dynamicProperties),this.ry=PropertyFactory.getProp(d,m.ry,0,degToRads,this.dynamicProperties),this.rz=PropertyFactory.getProp(d,m.rz,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(d,m.or,0,degToRads,this.dynamicProperties)),m.sk&&(this.sk=PropertyFactory.getProp(d,m.sk,0,degToRads,this.dynamicProperties),this.sa=PropertyFactory.getProp(d,m.sa,0,degToRads,this.dynamicProperties)),m.a&&(this.a=PropertyFactory.getProp(d,m.a,1,0,this.dynamicProperties)),m.s&&(this.s=PropertyFactory.getProp(d,m.s,1,.01,this.dynamicProperties)),this.o=m.o?PropertyFactory.getProp(d,m.o,0,.01,y):{mdf:!1,v:1},this.dynamicProperties.length?y.push(this):(this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?m.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])),Object.defineProperty(this,"position",{get:t}),Object.defineProperty(this,"xPosition",{get:e}),Object.defineProperty(this,"yPosition",{get:i}),Object.defineProperty(this,"orientation",{get:r}),Object.defineProperty(this,"anchorPoint",{get:n}),Object.defineProperty(this,"rotation",{get:s}),Object.defineProperty(this,"scale",{get:o}),Object.defineProperty(this,"opacity",{get:a}),Object.defineProperty(this,"skew",{get:h}),Object.defineProperty(this,"skewAxis",{get:l})}}(),u=function(){function t(t){if(this.prop.getValue(),this.cmdf=!1,this.omdf=!1,this.prop.mdf||t){var e,i,n,r=4*this.data.p;for(e=0;r>e;e+=1)i=e%4===0?100:255,n=Math.round(this.prop.v[e]*i),
this.c[e]!==n&&(this.c[e]=n,this.cmdf=!0);if(this.o.length)for(r=this.prop.v.length,e=4*this.data.p;r>e;e+=1)i=e%2===0?100:1,n=e%2===0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==n&&(this.o[e-4*this.data.p]=n,this.omdf=!0)}}function e(e,i,n){this.prop=o(e,i.k,1,null,[]),this.data=i,this.k=this.prop.k,this.c=Array.apply(null,{length:4*i.p});var r=i.k.k[0].s?i.k.k[0].s.length-4*i.p:i.k.k.length-4*i.p;this.o=Array.apply(null,{length:r}),this.cmdf=!1,this.omdf=!1,this.getValue=t,this.prop.k&&n.push(this),this.getValue(!0)}return function(t,i,n){return new e(t,i,n)}}(),p=function(){function t(t){var e=0,i=this.dataProps.length;if(this.elem.globalData.frameId!==this.frameId||t){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId;i>e;){if(this.dataProps[e].p.mdf){this.mdf=!0;break}e+=1}if(this.mdf||t)for("svg"===this.renderer&&(this.dasharray=""),e=0;i>e;e+=1)"o"!=this.dataProps[e].n?"svg"===this.renderer?this.dasharray+=" "+this.dataProps[e].p.v:this.dasharray[e]=this.dataProps[e].p.v:this.dashoffset=this.dataProps[e].p.v}}return function(e,i,n,r){this.elem=e,this.frameId=-1,this.dataProps=new Array(i.length),this.renderer=n,this.mdf=!1,this.k=!1,this.dasharray="svg"===this.renderer?"":new Array(i.length-1),this.dashoffset=0;var s,o,a=i.length;for(s=0;a>s;s+=1)o=PropertyFactory.getProp(e,i[s].v,0,0,r),this.k=!!o.k||this.k,this.dataProps[s]={n:i[s].n,p:o};this.getValue=t,this.k?r.push(this):this.getValue(!0)}}(),f=function(){function t(){if(this.dynamicProperties.length){var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0)}var i=this.data.totalChars,n=2===this.data.r?1:100/i,r=this.o.v/n,s=this.s.v/n+r,o=this.e.v/n+r;if(s>o){var a=s;s=o,o=a}this.finalS=s,this.finalE=o}function e(t){var e=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,s=0,o=this.finalS,a=this.finalE,h=this.data.sh;if(2==h)s=a===o?t>=a?1:0:i(0,n(.5/(a-o)+(t-o)/(a-o),1)),s=e(s);else if(3==h)s=a===o?t>=a?0:1:1-i(0,n(.5/(a-o)+(t-o)/(a-o),1)),s=e(s);else if(4==h)a===o?s=t>=a?0:1:(s=i(0,n(.5/(a-o)+(t-o)/(a-o),1)),.5>s?s*=2:s=1-s);else if(5==h)if(a===o)s=t>=a?0:1;else{var l=a-o;s=-4/(l*l)*t*t+4/l*t}else 6==h?s=a===o?t>=a?0:1:(1+(Math.cos(Math.PI+2*Math.PI*(t-o)/(a-o))+0))/2:t>=r(o)&&(s=0>t-o?1-(o-t):i(0,n(a-t,1)));return s*this.a.v}var i=Math.max,n=Math.min,r=Math.floor;return this.mdf=!1,function(i,n,r){this.mdf=!1,this.k=!1,this.data=n,this.dynamicProperties=[],this.getValue=t,this.getMult=e,this.comp=i.comp,this.finalS=0,this.finalE=0,this.s=PropertyFactory.getProp(i,n.s||{k:0},0,0,this.dynamicProperties),this.e="e"in n?PropertyFactory.getProp(i,n.e,0,0,this.dynamicProperties):{v:2===n.r?n.totalChars:100},this.o=PropertyFactory.getProp(i,n.o||{k:0},0,0,this.dynamicProperties),this.xe=PropertyFactory.getProp(i,n.xe||{k:0},0,0,this.dynamicProperties),this.ne=PropertyFactory.getProp(i,n.ne||{k:0},0,0,this.dynamicProperties),this.a=PropertyFactory.getProp(i,n.a,0,.01,this.dynamicProperties),this.dynamicProperties.length?r.push(this):this.getValue()}}(),d={};return d.getProp=o,d.getDashProp=a,d.getTextSelectorProp=h,d.getGradientProp=u,d}(),ShapePropertyFactory=function(){function t(){this.mdf=!1;var t=this.comp.renderedFrame-this.offsetTime;if(this.lastFrame!==o&&(this.lastFrame<this.keyframes[0].t-this.offsetTime&&t<this.keyframes[0].t-this.offsetTime||this.lastFrame>this.keyframes[this.keyframes.length-1].t-this.offsetTime&&t>this.keyframes[this.keyframes.length-1].t-this.offsetTime));else{var e,i,n;if(t<this.keyframes[0].t-this.offsetTime)e=this.keyframes[0].s[0],n=!0;else if(t>this.keyframes[this.keyframes.length-1].t-this.offsetTime)e=1===this.keyframes[this.keyframes.length-2].h?this.keyframes[this.keyframes.length-1].s[0]:this.keyframes[this.keyframes.length-2].e[0],n=!0;else{for(var r,s,a,h,l,c,u=0,p=this.keyframes.length-1,f=!0;f&&(r=this.keyframes[u],s=this.keyframes[u+1],!(s.t-this.offsetTime>t));)p-1>u?u+=1:f=!1;n=1===r.h,n&&u===p&&(r=s);var d;if(!n){var m;r.__fnct?m=r.__fnct:(m=BezierFactory.getBezierEasing(r.o.x,r.o.y,r.i.x,r.i.y).get,r.__fnct=m),d=t>=s.t-this.offsetTime?1:t<r.t-this.offsetTime?0:m((t-(r.t-this.offsetTime))/(s.t-this.offsetTime-(r.t-this.offsetTime))),i=r.e[0]}e=r.s[0]}h=this.v.i.length,c=e.i[0].length;var y,g=!1;for(a=0;h>a;a+=1)for(l=0;c>l;l+=1)n?(y=e.i[a][l],this.v.i[a][l]!==y&&(this.v.i[a][l]=y,this.pv.i[a][l]=y,g=!0),y=e.o[a][l],this.v.o[a][l]!==y&&(this.v.o[a][l]=y,this.pv.o[a][l]=y,g=!0),y=e.v[a][l],this.v.v[a][l]!==y&&(this.v.v[a][l]=y,this.pv.v[a][l]=y,g=!0)):(y=e.i[a][l]+(i.i[a][l]-e.i[a][l])*d,this.v.i[a][l]!==y&&(this.v.i[a][l]=y,this.pv.i[a][l]=y,g=!0),y=e.o[a][l]+(i.o[a][l]-e.o[a][l])*d,this.v.o[a][l]!==y&&(this.v.o[a][l]=y,this.pv.o[a][l]=y,g=!0),y=e.v[a][l]+(i.v[a][l]-e.v[a][l])*d,this.v.v[a][l]!==y&&(this.v.v[a][l]=y,this.pv.v[a][l]=y,g=!0));this.mdf=g,this.paths.length=0,this.paths[0]=this.v}this.lastFrame=t}function e(){return this.v}function i(){this.paths.length?(this.paths.length=1,this.paths[0]=this.v):this.paths=[this.v]}function n(t,n,r){this.comp=t.comp,this.k=!1,this.mdf=!1,this.closed=3===r?n.cl:n.closed,this.numNodes=3===r?n.pt.k.v.length:n.ks.k.v.length,this.v=3===r?n.pt.k:n.ks.k,this.getValue=e,this.pv=this.v,this.v.c=this.closed,this.paths=[this.v],this.reset=i}function r(e,n,r){this.comp=e.comp,this.offsetTime=e.data.st,this.getValue=t,this.keyframes=3===r?n.pt.k:n.ks.k,this.k=!0,this.closed=3===r?n.cl:n.closed;var s,a=this.keyframes[0].s[0].i.length,h=this.keyframes[0].s[0].i[0].length;for(this.numNodes=a,this.v={i:Array.apply(null,{length:a}),o:Array.apply(null,{length:a}),v:Array.apply(null,{length:a}),c:this.closed},this.pv={i:Array.apply(null,{length:a}),o:Array.apply(null,{length:a}),v:Array.apply(null,{length:a})},s=0;a>s;s+=1)this.v.i[s]=Array.apply(null,{length:h}),this.v.o[s]=Array.apply(null,{length:h}),this.v.v[s]=Array.apply(null,{length:h}),this.pv.i[s]=Array.apply(null,{length:h}),this.pv.o[s]=Array.apply(null,{length:h}),this.pv.v[s]=Array.apply(null,{length:h});this.paths=[],this.lastFrame=o,this.reset=i}function s(t,e,i,s){var o;if(3===i||4===i){var c=3===i?e.pt.k:e.ks.k;o=c.length?new r(t,e,i):new n(t,e,i)}else 5===i?o=new l(t,e):6===i?o=new a(t,e):7===i&&(o=new h(t,e));return o.k&&s.push(o),o}var o=-999999,a=function(){function t(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,r=this.s.v[1]/2;2!==this.d&&3!==this.d?(this.v.v[0]=[t,e-r],this.v.i[0]=[t-i*n,e-r],this.v.o[0]=[t+i*n,e-r],this.v.v[1]=[t+i,e],this.v.i[1]=[t+i,e-r*n],this.v.o[1]=[t+i,e+r*n],this.v.v[2]=[t,e+r],this.v.i[2]=[t+i*n,e+r],this.v.o[2]=[t-i*n,e+r],this.v.v[3]=[t-i,e],this.v.i[3]=[t-i,e+r*n],this.v.o[3]=[t-i,e-r*n]):(this.v.v[0]=[t,e-r],this.v.o[0]=[t-i*n,e-r],this.v.i[0]=[t+i*n,e-r],this.v.v[1]=[t-i,e],this.v.o[1]=[t-i,e+r*n],this.v.i[1]=[t-i,e-r*n],this.v.v[2]=[t,e+r],this.v.o[2]=[t+i*n,e+r],this.v.i[2]=[t-i*n,e+r],this.v.v[3]=[t+i,e],this.v.o[3]=[t+i,e-r*n],this.v.i[3]=[t+i,e+r*n]),this.paths.length=0,this.paths[0]=this.v}function e(t){var e,i=this.dynamicProperties.length;if(this.elem.globalData.frameId!==this.frameId){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId,e=0;i>e;e+=1)this.dynamicProperties[e].getValue(t),this.dynamicProperties[e].mdf&&(this.mdf=!0);this.mdf&&(this.convertEllToPath(),this.paths.length=0,this.paths[0]=this.v)}}var n=roundCorner;return function(n,r){this.v={v:Array.apply(null,{length:4}),i:Array.apply(null,{length:4}),o:Array.apply(null,{length:4}),c:!0},this.numNodes=4,this.d=r.d,this.dynamicProperties=[],this.paths=[],r.closed=!0,this.closed=!0,this.elem=n,this.comp=n.comp,this.frameId=-1,this.mdf=!1,this.getValue=e,this.convertEllToPath=t,this.reset=i,this.p=PropertyFactory.getProp(n,r.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(n,r.s,1,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertEllToPath()}}(),h=function(){function t(){var t=Math.floor(this.pt.v),e=2*Math.PI/t;this.v.v.length=t,this.v.i.length=t,this.v.o.length=t;var i,n=this.or.v,r=this.os.v,s=2*Math.PI*n/(4*t),o=-Math.PI/2,a=3===this.data.d?-1:1;for(o+=this.r.v,i=0;t>i;i+=1){var h=n*Math.cos(o),l=n*Math.sin(o),c=0===h&&0===l?0:l/Math.sqrt(h*h+l*l),u=0===h&&0===l?0:-h/Math.sqrt(h*h+l*l);h+=+this.p.v[0],l+=+this.p.v[1],this.v.v[i]=[h,l],this.v.i[i]=[h+c*s*r*a,l+u*s*r*a],this.v.o[i]=[h-c*s*r*a,l-u*s*r*a],o+=e*a}this.numNodes=t,this.paths.length=0,this.paths[0]=this.v}function e(){var t=2*Math.floor(this.pt.v),e=2*Math.PI/t;this.v.v.length=t,this.v.i.length=t,this.v.o.length=t;var i,n,r,s,o=!0,a=this.or.v,h=this.ir.v,l=this.os.v,c=this.is.v,u=2*Math.PI*a/(2*t),p=2*Math.PI*h/(2*t),f=-Math.PI/2;f+=this.r.v;var d=3===this.data.d?-1:1;for(i=0;t>i;i+=1){n=o?a:h,r=o?l:c,s=o?u:p;var m=n*Math.cos(f),y=n*Math.sin(f),g=0===m&&0===y?0:y/Math.sqrt(m*m+y*y),v=0===m&&0===y?0:-m/Math.sqrt(m*m+y*y);m+=+this.p.v[0],y+=+this.p.v[1],this.v.v[i]=[m,y],this.v.i[i]=[m+g*s*r*d,y+v*s*r*d],this.v.o[i]=[m-g*s*r*d,y-v*s*r*d],o=!o,f+=e*d}this.numNodes=t,this.paths.length=0,this.paths[0]=this.v}function n(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t].mdf&&(this.mdf=!0);this.mdf&&this.convertToPath()}}return function(r,s){this.v={v:[],i:[],o:[],c:!0},this.elem=r,this.comp=r.comp,this.data=s,this.frameId=-1,this.d=s.d,this.dynamicProperties=[],this.mdf=!1,s.closed=!0,this.closed=!0,this.getValue=n,this.reset=i,1===s.sy?(this.ir=PropertyFactory.getProp(r,s.ir,0,0,this.dynamicProperties),this.is=PropertyFactory.getProp(r,s.is,0,.01,this.dynamicProperties),this.convertToPath=e):this.convertToPath=t,this.pt=PropertyFactory.getProp(r,s.pt,0,0,this.dynamicProperties),this.p=PropertyFactory.getProp(r,s.p,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(r,s.r,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(r,s.or,0,0,this.dynamicProperties),this.os=PropertyFactory.getProp(r,s.os,0,.01,this.dynamicProperties),this.paths=[],this.dynamicProperties.length?this.k=!0:this.convertToPath()}}(),l=function(){function t(t){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var e,i=this.dynamicProperties.length;for(e=0;i>e;e+=1)this.dynamicProperties[e].getValue(t),this.dynamicProperties[e].mdf&&(this.mdf=!0);this.mdf&&this.convertRectToPath()}}function e(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,r=bm_min(i,n,this.r.v),s=r*(1-roundCorner);2===this.d||1===this.d?(this.v.v[0]=[t+i,e-n+r],this.v.o[0]=this.v.v[0],this.v.i[0]=[t+i,e-n+s],this.v.v[1]=[t+i,e+n-r],this.v.o[1]=[t+i,e+n-s],this.v.i[1]=this.v.v[1],this.v.v[2]=[t+i-r,e+n],this.v.o[2]=this.v.v[2],this.v.i[2]=[t+i-s,e+n],this.v.v[3]=[t-i+r,e+n],this.v.o[3]=[t-i+s,e+n],this.v.i[3]=this.v.v[3],this.v.v[4]=[t-i,e+n-r],this.v.o[4]=this.v.v[4],this.v.i[4]=[t-i,e+n-s],this.v.v[5]=[t-i,e-n+r],this.v.o[5]=[t-i,e-n+s],this.v.i[5]=this.v.v[5],this.v.v[6]=[t-i+r,e-n],this.v.o[6]=this.v.v[6],this.v.i[6]=[t-i+s,e-n],this.v.v[7]=[t+i-r,e-n],this.v.o[7]=[t+i-s,e-n],this.v.i[7]=this.v.v[7]):(this.v.v[0]=[t+i,e-n+r],this.v.o[0]=[t+i,e-n+s],this.v.i[0]=this.v.v[0],this.v.v[1]=[t+i-r,e-n],this.v.o[1]=this.v.v[1],this.v.i[1]=[t+i-s,e-n],this.v.v[2]=[t-i+r,e-n],this.v.o[2]=[t-i+s,e-n],this.v.i[2]=this.v.v[2],this.v.v[3]=[t-i,e-n+r],this.v.o[3]=this.v.v[3],this.v.i[3]=[t-i,e-n+s],this.v.v[4]=[t-i,e+n-r],this.v.o[4]=[t-i,e+n-s],this.v.i[4]=this.v.v[4],this.v.v[5]=[t-i+r,e+n],this.v.o[5]=this.v.v[5],this.v.i[5]=[t-i+s,e+n],this.v.v[6]=[t+i-r,e+n],this.v.o[6]=[t+i-s,e+n],this.v.i[6]=this.v.v[6],this.v.v[7]=[t+i,e+n-r],this.v.o[7]=this.v.v[7],this.v.i[7]=[t+i,e+n-s]),this.paths.length=0,this.paths[0]=this.v}return function(n,r){this.v={v:Array.apply(null,{length:8}),i:Array.apply(null,{length:8}),o:Array.apply(null,{length:8}),c:!0},this.paths=[],this.numNodes=8,this.elem=n,this.comp=n.comp,this.frameId=-1,this.d=r.d,this.dynamicProperties=[],this.mdf=!1,r.closed=!0,this.closed=!0,this.getValue=t,this.convertRectToPath=e,this.reset=i,this.p=PropertyFactory.getProp(n,r.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(n,r.s,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(n,r.r,0,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertRectToPath()}}(),c={};return c.getShapeProp=s,c}(),ShapeModifiers=function(){function t(t,e){n[t]||(n[t]=e)}function e(t,e,i,r){return new n[t](e,i,r)}var i={},n={};return i.registerModifier=t,i.getModifier=e,i}();ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){this.closed||(this.shapes.push({shape:t,last:[]}),this.addShapeToModifier(t))},ShapeModifier.prototype.init=function(t,e,i){this.elem=t,this.frameId=-1,this.shapes=[],this.dynamicProperties=[],this.mdf=!1,this.closed=!1,this.k=!1,this.isTrimming=!1,this.comp=t.comp,this.initModifierProperties(t,e),this.dynamicProperties.length?(this.k=!0,i.push(this)):this.getValue(!0)},extendPrototype(ShapeModifier,TrimModifier),TrimModifier.prototype.processKeys=function(t){if(this.elem.globalData.frameId!==this.frameId||t){this.mdf=!!t,this.frameId=this.elem.globalData.frameId;var e,i=this.dynamicProperties.length;for(e=0;i>e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0);if(this.mdf||t){var n=this.o.v%360/360;0>n&&(n+=1);var r=this.s.v+n,s=this.e.v+n;if(r>s){var o=r;r=s,s=o}this.sValue=r,this.eValue=s,this.oValue=n}}},TrimModifier.prototype.initModifierProperties=function(t,e){this.sValue=0,this.eValue=0,this.oValue=0,this.getValue=this.processKeys,this.s=PropertyFactory.getProp(t,e.s,0,.01,this.dynamicProperties),this.e=PropertyFactory.getProp(t,e.e,0,.01,this.dynamicProperties),this.o=PropertyFactory.getProp(t,e.o,0,0,this.dynamicProperties),this.dynamicProperties.length||this.getValue(!0)},TrimModifier.prototype.getSegmentsLength=function(t){var e,i=t.c,n=t.v,r=t.o,s=t.i,o=n.length,a=[],h=0;for(e=0;o-1>e;e+=1)a[e]=bez.getBezierLength(n[e],n[e+1],r[e],s[e+1]),h+=a[e].addedLength;return i&&(a[e]=bez.getBezierLength(n[e],n[0],r[e],s[0]),h+=a[e].addedLength),{lengths:a,totalLength:h}},TrimModifier.prototype.processShapes=function(t){var e,i,n,r,s,o,a,h=this.shapes.length,l=this.sValue,c=this.eValue,u=0;if(c===l)for(i=0;h>i;i+=1)this.shapes[i].shape.paths=[],this.shapes[i].shape.mdf=!0;else{var p,f,d=[];for(i=0;h>i;i+=1){if(p=this.shapes[i],p.shape.mdf||this.mdf||t){if(e=p.shape.paths,r=e.length,a=0,!p.shape.mdf&&p.pathsData)a=p.totalShapeLength;else{for(s=[],n=0;r>n;n+=1)o=this.getSegmentsLength(e[n]),s.push(o),a+=o.totalLength;p.totalShapeLength=a,p.pathsData=s}u+=a}else p.shape.paths=p.last;p.shape.mdf=!0}for(i=0;h>i;i+=1)if(f=[],p=this.shapes[i],p.shape.mdf){d.length=0,1>=c?d.push({s:p.totalShapeLength*l,e:p.totalShapeLength*c}):l>=1?d.push({s:p.totalShapeLength*(l-1),e:p.totalShapeLength*(c-1)}):(d.push({s:p.totalShapeLength*l,e:p.totalShapeLength}),d.push({s:0,e:p.totalShapeLength*(c-1)}));var m,y=this.addShapes(p,d[0]);f.push(y),d.length>1&&(p.shape.closed?this.addShapes(p,d[1],y):(y.i[0]=[y.v[0][0],y.v[0][1]],m=y.v.length-1,y.o[m]=[y.v[m][0],y.v[m][1]],y=this.addShapes(p,d[1]),f.push(y))),y.i[0]=[y.v[0][0],y.v[0][1]],m=y.v.length-1,y.o[m]=[y.v[m][0],y.v[m][1]],p.last=f,p.shape.paths=f}}this.dynamicProperties.length||(this.mdf=!1)},TrimModifier.prototype.addSegment=function(t,e,i,n,r,s){r.o[s]=e,r.i[s+1]=i,r.v[s+1]=n,r.v[s]=t},TrimModifier.prototype.addShapes=function(t,e,i){var n,r,s,o,a,h,l,c=t.pathsData,u=t.shape.paths,p=u.length,f=0;for(i?a=i.v.length-1:(i={c:!1,v:[],i:[],o:[]},a=0),n=0;p>n;n+=1){for(h=c[n].lengths,s=u[n].c?h.length:h.length+1,r=1;s>r;r+=1)if(o=h[r-1],f+o.addedLength<e.s)f+=o.addedLength;else{if(f>e.e)break;e.s<=f&&e.e>=f+o.addedLength?this.addSegment(u[n].v[r-1],u[n].o[r-1],u[n].i[r],u[n].v[r],i,a):(l=bez.getNewSegment(u[n].v[r-1],u[n].v[r],u[n].o[r-1],u[n].i[r],(e.s-f)/o.addedLength,(e.e-f)/o.addedLength,h[r-1]),this.addSegment(l.pt1,l.pt3,l.pt4,l.pt2,i,a)),f+=o.addedLength,a+=1}if(u[n].c&&f<=e.e){var d=h[r-1].addedLength;e.s<=f&&e.e>=f+d?this.addSegment(u[n].v[r-1],u[n].o[r-1],u[n].i[0],u[n].v[0],i,a):(l=bez.getNewSegment(u[n].v[r-1],u[n].v[0],u[n].o[r-1],u[n].i[0],(e.s-f)/d,(e.e-f)/d,h[r-1]),this.addSegment(l.pt1,l.pt3,l.pt4,l.pt2,i,a))}}return i},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype(ShapeModifier,RoundCornersModifier),RoundCornersModifier.prototype.processKeys=function(t){if(this.elem.globalData.frameId!==this.frameId||t){this.mdf=!!t,this.frameId=this.elem.globalData.frameId;var e,i=this.dynamicProperties.length;for(e=0;i>e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.mdf=!0)}},RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this.dynamicProperties),this.dynamicProperties.length||this.getValue(!0)},RoundCornersModifier.prototype.processPath=function(t,e){var i,n,r,s,o,a,h,l,c,u,p=t.v.length,f=[],d=[],m=[];for(i=0;p>i;i+=1)n=t.v[i],s=t.o[i],r=t.i[i],n[0]===s[0]&&n[1]===s[1]&&n[0]===r[0]&&n[1]===r[1]?0!==i&&i!==p-1||t.c?(o=0===i?t.v[p-1]:t.v[i-1],c=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)),u=c?Math.min(c/2,e)/c:0,a=[n[0]+(o[0]-n[0])*u,n[1]-(n[1]-o[1])*u],l=a,h=[a[0]-(a[0]-n[0])*roundCorner,a[1]-(a[1]-n[1])*roundCorner],f.push(a),d.push(h),m.push(l),o=i===p-1?t.v[0]:t.v[i+1],c=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)),u=c?Math.min(c/2,e)/c:0,a=[n[0]+(o[0]-n[0])*u,n[1]+(o[1]-n[1])*u],l=[a[0]-(a[0]-n[0])*roundCorner,a[1]-(a[1]-n[1])*roundCorner],h=a,f.push(a),d.push(h),m.push(l)):(f.push(n),d.push(s),m.push(r)):(f.push(t.v[i]),d.push(t.o[i]),m.push(t.i[i]));return{v:f,o:d,i:m,c:t.c}},RoundCornersModifier.prototype.processShapes=function(){var t,e,i,n,r=this.shapes.length,s=this.rd.v;if(0!==s){var o,a=[];for(e=0;r>e;e+=1)if(o=this.shapes[e],o.shape.mdf||this.mdf){for(o.shape.mdf=!0,t=o.shape.paths,n=t.length,i=0;n>i;i+=1)a.push(this.processPath(t[i],s));o.shape.paths=a,o.last=a}else o.shape.paths=o.last}this.dynamicProperties.length||(this.mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier);var ImagePreloader=function(){function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages}function e(t){var e="";if(this.assetsPath){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),e=this.assetsPath+i}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e}function i(e){var i=document.createElement("img");i.addEventListener("load",t.bind(this),!1),i.addEventListener("error",t.bind(this),!1),i.src=e}function n(t){this.totalAssets=t.length;var n;for(n=0;n<this.totalAssets;n+=1)t[n].layers||(i.bind(this)(e.bind(this)(t[n])),this.totalImages+=1)}function r(t){this.path=t||""}function s(t){this.assetsPath=t||""}return function(){this.loadAssets=n,this.setAssetsPath=s,this.setPath=r,this.assetsPath="",this.path="",this.totalAssets=0,this.totalImages=0,this.loadedAssets=0}}();BaseRenderer.prototype.checkLayers=function(t){var e,i,n=this.layers.length;for(this.completeLayers=!0,e=n-1;e>=0;e--)this.elements[e]||(i=this.layers[e],i.ip-i.st<=t-this.layers[e].st&&i.op-i.st>t-this.layers[e].st&&this.buildItem(e)),this.completeLayers=!!this.elements[e]&&this.completeLayers},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 99:return null}return this.createBase(t)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;e>t;t+=1)this.buildItem(t)},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,i,n=t.length,r=this.layers.length;for(e=0;n>e;e+=1)for(i=0;r>i;){if(this.layers[i].id==t[e].id){this.layers[i]=t[e];break}i+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e){for(var i=this.elements,n=this.layers,r=0,s=n.length;s>r;)n[r].ind==e&&(i[r]||this.buildItem(r),t.getHierarchy().push(i[r]),void 0!==n[r].parent&&this.buildElementParenting(t,n[r].parent)),r+=1},extendPrototype(BaseRenderer,SVGRenderer),SVGRenderer.prototype.createBase=function(t){return new SVGBaseElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new IShapeElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new ICompElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.layerElement,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.layerElement=document.createElementNS(svgNS,"svg"),this.layerElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.layerElement.setAttribute("width",t.w),this.layerElement.setAttribute("height",t.h),this.layerElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.layerElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.layerElement.style.width="100%",this.layerElement.style.height="100%",this.layerElement.style.transform="translate3d(0,0,0)",this.layerElement.style.transformOrigin=this.layerElement.style.mozTransformOrigin=this.layerElement.style.webkitTransformOrigin=this.layerElement.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.layerElement);var e=document.createElementNS(svgNS,"defs");this.globalData.defs=e,this.layerElement.appendChild(e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.frameId=0,this.globalData.compSize={w:t.w,h:t.h},this.globalData.frameRate=t.fr;var i=document.createElementNS(svgNS,"clipPath"),n=document.createElementNS(svgNS,"rect");n.setAttribute("width",t.w),n.setAttribute("height",t.h),n.setAttribute("x",0),n.setAttribute("y",0);var r="animationMask_"+randomString(10);i.setAttribute("id",r),i.appendChild(n);var s=document.createElementNS(svgNS,"g");s.setAttribute("clip-path","url(#"+r+")"),this.layerElement.appendChild(s),e.appendChild(i),this.layerElement=s,this.layers=t.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.elements=Array.apply(null,{length:t.layers.length})},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;e>t;t++)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){var i=this.createItem(this.layers[t]);e[t]=i,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,t),this.layers[t].tt&&(this.buildItem(t-1),i.setMatte(e[t-1].layerId))}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!=t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t;var e,i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=i-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);for(e=i-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){for(var n,r=0;e>r;)this.elements[r]&&this.elements[r].getBaseElement()&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(i,n):this.layerElement.appendChild(i)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},SVGRenderer.prototype.searchExtraCompositions=function(t){var e,i=t.length,n=document.createElementNS(svgNS,"g");for(e=0;i>e;e+=1)if(t[e].xt){var r=this.createComp(t[e],n,this.globalData.comp,null);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},extendPrototype(BaseRenderer,CanvasRenderer),CanvasRenderer.prototype.createBase=function(t){return new CVBaseElement(t,this,this.globalData)},CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this,this.globalData)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this,this.globalData)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this,this.globalData)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this,this.globalData)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this,this.globalData)},CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13]);this.transformMat.cloneFromProps(t),this.transformMat.transform(this.contextData.cTr.props[0],this.contextData.cTr.props[1],this.contextData.cTr.props[2],this.contextData.cTr.props[3],this.contextData.cTr.props[4],this.contextData.cTr.props[5],this.contextData.cTr.props[6],this.contextData.cTr.props[7],this.contextData.cTr.props[8],this.contextData.cTr.props[9],this.contextData.cTr.props[10],this.contextData.cTr.props[11],this.contextData.cTr.props[12],this.contextData.cTr.props[13],this.contextData.cTr.props[14],this.contextData.cTr.props[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var e=this.contextData.cTr.props;this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13])}},CanvasRenderer.prototype.ctxOpacity=function(t){if(1!==t){if(!this.renderConfig.clearCanvas)return void(this.canvasContext.globalAlpha*=0>t?0:t);this.contextData.cO*=0>t?0:t,this.canvasContext.globalAlpha=this.contextData.cO}},CanvasRenderer.prototype.reset=function(){return this.renderConfig.clearCanvas?(this.contextData.cArrPos=0,this.contextData.cTr.reset(),void(this.contextData.cO=1)):void this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(!this.renderConfig.clearCanvas)return void this.canvasContext.save();t&&this.canvasContext.save();var e=this.contextData.cTr.props;(null===this.contextData.saved[this.contextData.cArrPos]||void 0===this.contextData.saved[this.contextData.cArrPos])&&(this.contextData.saved[this.contextData.cArrPos]=new Array(16));var i,n=this.contextData.saved[this.contextData.cArrPos];for(i=0;16>i;i+=1)n[i]=e[i];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRenderer.prototype.restore=function(t){if(!this.renderConfig.clearCanvas)return void this.canvasContext.restore();t&&this.canvasContext.restore(),this.contextData.cArrPos-=1;var e,i=this.contextData.saved[this.contextData.cArrPos],n=this.contextData.cTr.props;for(e=0;16>e;e+=1)n[e]=i[e];this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),i=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=i,this.canvasContext.globalAlpha=i},CanvasRenderer.prototype.configAnimation=function(t){this.animationItem.wrapper?(this.animationItem.container=document.createElement("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d")):this.canvasContext=this.renderConfig.context,this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.totalFrames=Math.floor(t.tf),this.globalData.compWidth=t.w,this.globalData.compHeight=t.h,this.globalData.frameRate=t.fr,this.globalData.frameId=0,this.globalData.compSize={w:t.w,h:t.h},this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.layers=t.layers,this.transformCanvas={},this.transformCanvas.w=t.w,this.transformCanvas.h=t.h,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,document.body),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.addPendingElement=this.animationItem.addPendingElement.bind(this.animationItem),this.globalData.transformCanvas=this.transformCanvas,this.elements=Array.apply(null,{length:t.layers.length}),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e;this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr);var i,n;if(-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var r=this.renderConfig.preserveAspectRatio.split(" "),s=r[1]||"meet",o=r[0]||"xMidYMid",a=o.substr(0,4),h=o.substr(4);i=t/e,n=this.transformCanvas.w/this.transformCanvas.h,n>i&&"meet"===s||i>n&&"slice"===s?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===a&&(i>n&&"meet"===s||n>i&&"slice"===s)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===a&&(i>n&&"meet"===s||n>i&&"slice"===s)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===h&&(n>i&&"meet"===s||i>n&&"slice"===s)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===h&&(n>i&&"meet"===s||i>n&&"slice"===s)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];var l,c=this.elements.length;for(l=0;c>l;l+=1)this.elements[l]&&0===this.elements[l].data.ty&&this.elements[l].resize(this.globalData.transformCanvas);
},CanvasRenderer.prototype.destroy=function(){this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML="");var t,e=this.layers?this.layers.length:0;for(t=e-1;t>=0;t-=1)this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t){if(!(this.renderedFrame==t&&this.renderConfig.clearCanvas===!0||this.destroyed||null===t)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem.firstFrame,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.renderConfig.clearCanvas===!0?(this.reset(),this.canvasContext.save(),this.canvasContext.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)):this.save(),this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip();var e,i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=0;i>e;e++)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);for(e=i-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();this.renderConfig.clearCanvas!==!0?this.restore():this.canvasContext.restore()}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){var i=this.createItem(this.layers[t],this,this.globalData);e[t]=i,i.initExpressions(),0===this.layers[t].ty&&i.resize(this.globalData.transformCanvas)}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},CanvasRenderer.prototype.searchExtraCompositions=function(t){var e,i=t.length;for(document.createElementNS(svgNS,"g"),e=0;i>e;e+=1)if(t[e].xt){var n=this.createComp(t[e],this.globalData.comp,this.globalData);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},extendPrototype(BaseRenderer,HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){var n=this.layers[e];if(n.ddd&&this.supports3d)this.addTo3dContainer(i,e);else{for(var r,s=0;e>s;)this.elements[s]&&this.elements[s].getBaseElement()&&(r=this.elements[s].getBaseElement()),s+=1;r?n.ddd&&this.supports3d||this.layerElement.insertBefore(i,r):n.ddd&&this.supports3d||this.layerElement.appendChild(i)}}},HybridRenderer.prototype.createBase=function(t){return new SVGBaseElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.layerElement,this.globalData,this):new IShapeElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.layerElement,this.globalData,this):new SVGTextElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.layerElement,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.layerElement,this.globalData,this):new IImageElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.layerElement,this.globalData,this):new ICompElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.layerElement,this.globalData,this):new ISolidElement(t,this.layerElement,this.globalData,this)},HybridRenderer.prototype.getThreeDContainer=function(t){var e=document.createElement("div");styleDiv(e),e.style.width=this.globalData.compSize.w+"px",e.style.height=this.globalData.compSize.h+"px",e.style.transformOrigin=e.style.mozTransformOrigin=e.style.webkitTransformOrigin="50% 50%";var i=document.createElement("div");styleDiv(i),i.style.transform=i.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)",e.appendChild(i),this.resizerElem.appendChild(e);var n={container:i,perspectiveElem:e,startPos:t,endPos:t};return this.threeDElements.push(n),n},HybridRenderer.prototype.build3dContainers=function(){var t,e,i=this.layers.length;for(t=0;i>t;t+=1)this.layers[t].ddd?(e||(e=this.getThreeDContainer(t)),e.endPos=Math.max(e.endPos,t)):e=null},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var i=0,n=this.threeDElements.length;n>i;){if(e<=this.threeDElements[i].endPos){for(var r,s=this.threeDElements[i].startPos;e>s;)this.elements[s]&&this.elements[s].getBaseElement()&&(r=this.elements[s].getBaseElement()),s+=1;r?this.threeDElements[i].container.insertBefore(t,r):this.threeDElements[i].container.appendChild(t);break}i+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=document.createElement("div"),i=this.animationItem.wrapper;e.style.width=t.w+"px",e.style.height=t.h+"px",this.resizerElem=e,styleDiv(e),e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="flat",i.appendChild(e),e.style.overflow="hidden";var n=document.createElementNS(svgNS,"svg");n.setAttribute("width","1"),n.setAttribute("height","1"),styleDiv(n),this.resizerElem.appendChild(n);var r=document.createElementNS(svgNS,"defs");n.appendChild(r),this.globalData.defs=r,this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.frameId=0,this.globalData.compSize={w:t.w,h:t.h},this.globalData.frameRate=t.fr,this.layers=t.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,n),this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;e>t;t++)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,i,n,r=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,o=r/s,a=this.globalData.compSize.w/this.globalData.compSize.h;a>o?(t=r/this.globalData.compSize.w,e=r/this.globalData.compSize.w,i=0,n=(s-this.globalData.compSize.h*(r/this.globalData.compSize.w))/2):(t=s/this.globalData.compSize.h,e=s/this.globalData.compSize.h,i=(r-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,n=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+i+","+n+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,i=this.globalData.compSize.h,n=this.threeDElements.length;for(t=0;n>t;t+=1)this.threeDElements[t].perspectiveElem.style.perspective=this.threeDElements[t].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(i,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,i=t.length,n=document.createElement("div");for(e=0;i>e;e+=1)if(t[e].xt){var r=this.createComp(t[e],n,this.globalData.comp,null);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.prepareFrame=function(){var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue()},MaskElement.prototype.renderFrame=function(t){var e,i=this.masksProperties.length;for(e=0;i>e;e++)if((this.viewData[e].prop.mdf||this.firstFrame)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),"n"!==this.masksProperties[e].mode&&this.masksProperties[e].cl!==!1&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp.mdf||this.firstFrame)&&(this.viewData[e].invRect.setAttribute("x",-t.props[12]),this.viewData[e].invRect.setAttribute("y",-t.props[13])),this.storedData[e].x&&(this.storedData[e].x.mdf||this.firstFrame))){var n=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url(#"+this.storedData[e].filterId+")")),n.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}this.firstFrame=!1},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,i){var n,r,s="";for(r=e.v.length,n=1;r>n;n+=1)1==n&&(s+=" M"+bm_rnd(e.v[0][0])+","+bm_rnd(e.v[0][1])),s+=" C"+bm_rnd(e.o[n-1][0])+","+bm_rnd(e.o[n-1][1])+" "+bm_rnd(e.i[n][0])+","+bm_rnd(e.i[n][1])+" "+bm_rnd(e.v[n][0])+","+bm_rnd(e.v[n][1]);t.cl&&(s+=" C"+bm_rnd(e.o[n-1][0])+","+bm_rnd(e.o[n-1][1])+" "+bm_rnd(e.i[0][0])+","+bm_rnd(e.i[0][1])+" "+bm_rnd(e.v[0][0])+","+bm_rnd(e.v[0][1])),i.lastPath!==s&&(i.elem&&(t.inv?i.elem.setAttribute("d",this.solidPath+s):i.elem.setAttribute("d",s)),i.lastPath=s)},MaskElement.prototype.getMask=function(t){for(var e=0,i=this.masksProperties.length;i>e;){if(this.masksProperties[e].nm===t)return{maskPath:this.viewData[e].prop.pv};e+=1}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.paths=null,this.masksProperties=null},BaseElement.prototype.checkMasks=function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;e>t;){if("n"!==this.data.masksProperties[t].mode&&this.data.masksProperties[t].cl!==!1)return!0;t+=1}return!1},BaseElement.prototype.checkParenting=function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent)},BaseElement.prototype.prepareFrame=function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?this.isVisible!==!0&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!0,this.firstFrame=!0,this.data.hasMask&&(this.maskManager.firstFrame=!0)):this.isVisible!==!1&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!1);var e,i=this.dynamicProperties.length;for(e=0;i>e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e].mdf&&(this.elemMdf=!0,this.globalData.mdf=!0);return this.data.hasMask&&this.maskManager.prepareFrame(t*this.data.sr),this.currentFrameNum=t*this.data.sr,this.isVisible},BaseElement.prototype.globalToLocal=function(t){var e=[];e.push(this.finalTransform);for(var i=!0,n=this.comp;i;)n.finalTransform?(n.data.hasMask&&e.splice(0,0,n.finalTransform),n=n.comp):i=!1;var r,s,o=e.length;for(r=0;o>r;r+=1)s=e[r].mat.applyToPointArray(0,0,0),t=[t[0]-s[0],t[1]-s[1],0];return t},BaseElement.prototype.initExpressions=function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty&&(this.layerInterface.shapeInterface=ShapeExpressionInterface.createShapeInterface(this.shapesData,this.viewData,this.layerInterface))},BaseElement.prototype.setBlendMode=function(){var t="";switch(this.data.bm){case 1:t="multiply";break;case 2:t="screen";break;case 3:t="overlay";break;case 4:t="darken";break;case 5:t="lighten";break;case 6:t="color-dodge";break;case 7:t="color-burn";break;case 8:t="hard-light";break;case 9:t="soft-light";break;case 10:t="difference";break;case 11:t="exclusion";break;case 12:t="hue";break;case 13:t="saturation";break;case 14:t="color";break;case 15:t="luminosity"}this.layerElement.style["mix-blend-mode"]=t},BaseElement.prototype.init=function(){this.data.sr||(this.data.sr=1),this.dynamicProperties=[],this.data.ef&&(this.effects=new EffectsManager(this.data,this,this.dynamicProperties)),this.hidden=!1,this.firstFrame=!0,this.isVisible=!1,this.currentFrameNum=-99999,this.lastNum=-99999,this.data.ks&&(this.finalTransform={mProp:PropertyFactory.getProp(this,this.data.ks,2,null,this.dynamicProperties),matMdf:!1,opMdf:!1,mat:new Matrix,opacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.finalTransform.op=this.finalTransform.mProp.o,this.transform=this.finalTransform.mProp,11!==this.data.ty&&this.createElements(),this.data.hasMask&&this.addMasks(this.data)),this.elemMdf=!1},BaseElement.prototype.getType=function(){return this.type},BaseElement.prototype.resetHierarchy=function(){this.hierarchy?this.hierarchy.length=0:this.hierarchy=[]},BaseElement.prototype.getHierarchy=function(){return this.hierarchy||(this.hierarchy=[]),this.hierarchy},BaseElement.prototype.getLayerSize=function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}},BaseElement.prototype.hide=function(){},BaseElement.prototype.mHelper=new Matrix,createElement(BaseElement,SVGBaseElement),SVGBaseElement.prototype.createElements=function(){if(this.data.td){if(3==this.data.td)this.layerElement=document.createElementNS(svgNS,"mask"),this.layerElement.setAttribute("id",this.layerId),this.layerElement.setAttribute("mask-type","luminance"),this.globalData.defs.appendChild(this.layerElement);else if(2==this.data.td){var t=document.createElementNS(svgNS,"mask");t.setAttribute("id",this.layerId),t.setAttribute("mask-type","alpha");var e=document.createElementNS(svgNS,"g");t.appendChild(e),this.layerElement=document.createElementNS(svgNS,"g");var i=document.createElementNS(svgNS,"filter"),n=randomString(10);i.setAttribute("id",n),i.setAttribute("filterUnits","objectBoundingBox"),i.setAttribute("x","0%"),i.setAttribute("y","0%"),i.setAttribute("width","100%"),i.setAttribute("height","100%");var r=document.createElementNS(svgNS,"feComponentTransfer");r.setAttribute("in","SourceGraphic"),i.appendChild(r);var s=document.createElementNS(svgNS,"feFuncA");s.setAttribute("type","table"),s.setAttribute("tableValues","1.0 0.0"),r.appendChild(s),this.globalData.defs.appendChild(i);var o=document.createElementNS(svgNS,"rect");o.setAttribute("width",this.comp.data?this.comp.data.w:this.globalData.compSize.w),o.setAttribute("height",this.comp.data?this.comp.data.h:this.globalData.compSize.h),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("fill","#ffffff"),o.setAttribute("opacity","0"),e.setAttribute("filter","url(#"+n+")"),e.appendChild(o),e.appendChild(this.layerElement),this.globalData.defs.appendChild(t)}else{this.layerElement=document.createElementNS(svgNS,"g");var a=document.createElementNS(svgNS,"mask");a.setAttribute("id",this.layerId),a.setAttribute("mask-type","alpha"),a.appendChild(this.layerElement),this.globalData.defs.appendChild(a)}this.data.hasMask&&(this.maskedElement=this.layerElement)}else this.data.hasMask||this.data.tt?(this.layerElement=document.createElementNS(svgNS,"g"),this.data.tt?(this.matteElement=document.createElementNS(svgNS,"g"),this.matteElement.appendChild(this.layerElement),this.baseElement=this.matteElement):this.baseElement=this.layerElement,this.data.hasMask&&(this.maskedElement=this.layerElement)):(this.layerElement=document.createElementNS(svgNS,"g"),this.baseElement=this.layerElement);if(!this.data.ln&&!this.data.cl||4!==this.data.ty&&0!==this.data.ty||(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)),0===this.data.ty&&!this.checkMasks()){var h=document.createElementNS(svgNS,"clipPath"),l=document.createElementNS(svgNS,"path");l.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var c="cp_"+randomString(8);h.setAttribute("id",c),this.layerElement.setAttribute("clip-path","url(#"+c+")"),h.appendChild(l),this.globalData.defs.appendChild(h)}0!==this.data.bm&&this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.data.ef&&(this.effectsManager=new SVGEffects(this)),this.checkParenting()},SVGBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,SVGBaseElement.prototype.renderFrame=function(t){if(3===this.data.ty||this.data.hd)return!1;if(!this.isVisible)return this.isVisible;this.lastNum=this.currentFrameNum,this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v,this.firstFrame&&(this.finalTransform.opMdf=!0,this.finalTransform.matMdf=!0);var e,i=this.finalTransform.mat;if(this.hierarchy){var n,r=this.hierarchy.length;for(e=this.finalTransform.mProp.v.props,i.cloneFromProps(e),n=0;r>n;n+=1)this.finalTransform.matMdf=!!this.hierarchy[n].finalTransform.mProp.mdf||this.finalTransform.matMdf,e=this.hierarchy[n].finalTransform.mProp.v.props,i.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}else this.isVisible&&i.cloneFromProps(this.finalTransform.mProp.v.props);return t&&(e=t.mat.props,i.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.finalTransform.opacity*=t.opacity,this.finalTransform.opMdf=!!t.opMdf||this.finalTransform.opMdf,this.finalTransform.matMdf=!!t.matMdf||this.finalTransform.matMdf),this.finalTransform.matMdf&&this.layerElement&&this.layerElement.setAttribute("transform",i.to2dCSS()),this.finalTransform.opMdf&&this.layerElement&&this.layerElement.setAttribute("opacity",this.finalTransform.opacity),this.data.hasMask&&this.maskManager.renderFrame(i),this.effectsManager&&this.effectsManager.renderFrame(this.firstFrame),this.isVisible},SVGBaseElement.prototype.destroy=function(){this.layerElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&this.maskManager.destroy()},SVGBaseElement.prototype.getBaseElement=function(){return this.baseElement},SVGBaseElement.prototype.addMasks=function(t){this.maskManager=new MaskElement(t,this,this.globalData)},SVGBaseElement.prototype.setMatte=function(t){this.matteElement&&this.matteElement.setAttribute("mask","url(#"+t+")")},SVGBaseElement.prototype.setMatte=function(t){this.matteElement&&this.matteElement.setAttribute("mask","url(#"+t+")")},SVGBaseElement.prototype.hide=function(){},ITextElement.prototype.init=function(){this._parent.init.call(this),this.lettersChangedFlag=!1;var t=this.data;this.renderedLetters=Array.apply(null,{length:t.t.d.l?t.t.d.l.length:0}),this.viewData={m:{a:PropertyFactory.getProp(this,t.t.m.a,1,0,this.dynamicProperties)}};var e=this.data.t;if(e.a.length){this.viewData.a=Array.apply(null,{length:e.a.length});var i,n,r,s=e.a.length;for(i=0;s>i;i+=1)r=e.a[i],n={a:{},s:{}},"r"in r.a&&(n.a.r=PropertyFactory.getProp(this,r.a.r,0,degToRads,this.dynamicProperties)),"rx"in r.a&&(n.a.rx=PropertyFactory.getProp(this,r.a.rx,0,degToRads,this.dynamicProperties)),"ry"in r.a&&(n.a.ry=PropertyFactory.getProp(this,r.a.ry,0,degToRads,this.dynamicProperties)),"sk"in r.a&&(n.a.sk=PropertyFactory.getProp(this,r.a.sk,0,degToRads,this.dynamicProperties)),"sa"in r.a&&(n.a.sa=PropertyFactory.getProp(this,r.a.sa,0,degToRads,this.dynamicProperties)),"s"in r.a&&(n.a.s=PropertyFactory.getProp(this,r.a.s,1,.01,this.dynamicProperties)),"a"in r.a&&(n.a.a=PropertyFactory.getProp(this,r.a.a,1,0,this.dynamicProperties)),"o"in r.a&&(n.a.o=PropertyFactory.getProp(this,r.a.o,0,.01,this.dynamicProperties)),"p"in r.a&&(n.a.p=PropertyFactory.getProp(this,r.a.p,1,0,this.dynamicProperties)),"sw"in r.a&&(n.a.sw=PropertyFactory.getProp(this,r.a.sw,0,0,this.dynamicProperties)),"sc"in r.a&&(n.a.sc=PropertyFactory.getProp(this,r.a.sc,1,0,this.dynamicProperties)),"fc"in r.a&&(n.a.fc=PropertyFactory.getProp(this,r.a.fc,1,0,this.dynamicProperties)),"fh"in r.a&&(n.a.fh=PropertyFactory.getProp(this,r.a.fh,0,0,this.dynamicProperties)),"fs"in r.a&&(n.a.fs=PropertyFactory.getProp(this,r.a.fs,0,.01,this.dynamicProperties)),"fb"in r.a&&(n.a.fb=PropertyFactory.getProp(this,r.a.fb,0,.01,this.dynamicProperties)),"t"in r.a&&(n.a.t=PropertyFactory.getProp(this,r.a.t,0,0,this.dynamicProperties)),n.s=PropertyFactory.getTextSelectorProp(this,r.s,this.dynamicProperties),n.s.t=r.s.t,this.viewData.a[i]=n}else this.viewData.a=[];e.p&&"m"in e.p?(this.viewData.p={f:PropertyFactory.getProp(this,e.p.f,0,0,this.dynamicProperties),l:PropertyFactory.getProp(this,e.p.l,0,0,this.dynamicProperties),r:e.p.r,m:this.maskManager.getMaskProperty(e.p.m)},this.maskPath=!0):this.maskPath=!1},ITextElement.prototype.createPathShape=function(t,e){var i,n,r,s,o=e.length,a="";for(i=0;o>i;i+=1){for(r=e[i].ks.k.i.length,s=e[i].ks.k,n=1;r>n;n+=1)1==n&&(a+=" M"+t.applyToPointStringified(s.v[0][0],s.v[0][1])),a+=" C"+t.applyToPointStringified(s.o[n-1][0],s.o[n-1][1])+" "+t.applyToPointStringified(s.i[n][0],s.i[n][1])+" "+t.applyToPointStringified(s.v[n][0],s.v[n][1]);a+=" C"+t.applyToPointStringified(s.o[n-1][0],s.o[n-1][1])+" "+t.applyToPointStringified(s.i[0][0],s.i[0][1])+" "+t.applyToPointStringified(s.v[0][0],s.v[0][1]),a+="z"}return a},ITextElement.prototype.getMeasures=function(){var t,e,i,n,r=this.mHelper,s=this.renderType,o=this.data,a=o.t.d,h=a.l;if(this.maskPath){var l=this.viewData.p.m;if(!this.viewData.p.n||this.viewData.p.mdf){var c=l.v;this.viewData.p.r&&(c=reversePath(c,l.closed));var u={tLength:0,segments:[]};n=c.v.length-1;var p,f=0;for(i=0;n>i;i+=1)p={s:c.v[i],e:c.v[i+1],to:[c.o[i][0]-c.v[i][0],c.o[i][1]-c.v[i][1]],ti:[c.i[i+1][0]-c.v[i+1][0],c.i[i+1][1]-c.v[i+1][1]]},bez.buildBezierData(p),u.tLength+=p.bezierData.segmentLength,u.segments.push(p),f+=p.bezierData.segmentLength;i=n,l.closed&&(p={s:c.v[i],e:c.v[0],to:[c.o[i][0]-c.v[i][0],c.o[i][1]-c.v[i][1]],ti:[c.i[0][0]-c.v[0][0],c.i[0][1]-c.v[0][1]]},bez.buildBezierData(p),u.tLength+=p.bezierData.segmentLength,u.segments.push(p),f+=p.bezierData.segmentLength),this.viewData.p.pi=u}var d,m,y,u=this.viewData.p.pi,g=this.viewData.p.f.v,v=0,_=1,b=0,E=!0,T=u.segments;if(0>g&&l.closed)for(u.tLength<Math.abs(g)&&(g=-Math.abs(g)%u.tLength),v=T.length-1,y=T[v].bezierData.points,_=y.length-1;0>g;)g+=y[_].partialLength,_-=1,0>_&&(v-=1,y=T[v].bezierData.points,_=y.length-1);y=T[v].bezierData.points,m=y[_-1],d=y[_];var A,w,C=d.partialLength}n=h.length,t=0,e=0;var x,S,P,k,I,R=1.2*o.t.d.s*.714,N=!0,O=this.viewData,M=Array.apply(null,{length:n});this.lettersChangedFlag=!1,k=O.a.length;var D,L,B,F,j,V,H,z,G,U,q,W,Y,X,$,Z,Q=-1,J=g,K=v,tt=_,et=-1,it=0;for(i=0;n>i;i+=1)if(r.reset(),V=1,h[i].n)t=0,e+=a.yOffset,e+=N?1:0,g=J,N=!1,it=0,this.maskPath&&(v=K,_=tt,y=T[v].bezierData.points,m=y[_-1],d=y[_],C=d.partialLength,b=0),M[i]=this.emptyProp;else{if(this.maskPath){if(et!==h[i].line){switch(a.j){case 1:g+=f-a.lineWidths[h[i].line];break;case 2:g+=(f-a.lineWidths[h[i].line])/2}et=h[i].line}Q!==h[i].ind&&(h[Q]&&(g+=h[Q].extra),g+=h[i].an/2,Q=h[i].ind),g+=O.m.a.v[0]*h[i].an/200;var nt=0;for(P=0;k>P;P+=1)x=O.a[P].a,"p"in x&&(S=O.a[P].s,L=S.getMult(h[i].anIndexes[P],o.t.a[P].s.totalChars),nt+=L.length?x.p.v[0]*L[0]:x.p.v[0]*L);for(E=!0;E;)b+C>=g+nt||!y?(A=(g+nt-b)/d.partialLength,F=m.point[0]+(d.point[0]-m.point[0])*A,j=m.point[1]+(d.point[1]-m.point[1])*A,r.translate(0,-(O.m.a.v[1]*R/100)+e),E=!1):y&&(b+=d.partialLength,_+=1,_>=y.length&&(_=0,v+=1,T[v]?y=T[v].bezierData.points:l.closed?(_=0,v=0,y=T[v].bezierData.points):(b-=d.partialLength,y=null)),y&&(m=d,d=y[_],C=d.partialLength));B=h[i].an/2-h[i].add,r.translate(-B,0,0)}else B=h[i].an/2-h[i].add,r.translate(-B,0,0),r.translate(-O.m.a.v[0]*h[i].an/200,-O.m.a.v[1]*R/100,0);for(it+=h[i].l/2,P=0;k>P;P+=1)x=O.a[P].a,"t"in x&&(S=O.a[P].s,L=S.getMult(h[i].anIndexes[P],o.t.a[P].s.totalChars),this.maskPath?g+=L.length?x.t*L[0]:x.t*L:t+=L.length?x.t.v*L[0]:x.t.v*L);for(it+=h[i].l/2,a.strokeWidthAnim&&(z=o.t.d.sw||0),a.strokeColorAnim&&(H=o.t.d.sc?[o.t.d.sc[0],o.t.d.sc[1],o.t.d.sc[2]]:[0,0,0]),a.fillColorAnim&&(G=[o.t.d.fc[0],o.t.d.fc[1],o.t.d.fc[2]]),P=0;k>P;P+=1)x=O.a[P].a,"a"in x&&(S=O.a[P].s,L=S.getMult(h[i].anIndexes[P],o.t.a[P].s.totalChars),L.length?r.translate(-x.a.v[0]*L[0],-x.a.v[1]*L[1],x.a.v[2]*L[2]):r.translate(-x.a.v[0]*L,-x.a.v[1]*L,x.a.v[2]*L));for(P=0;k>P;P+=1)x=O.a[P].a,"s"in x&&(S=O.a[P].s,L=S.getMult(h[i].anIndexes[P],o.t.a[P].s.totalChars),L.length?r.scale(1+(x.s.v[0]-1)*L[0],1+(x.s.v[1]-1)*L[1],1):r.scale(1+(x.s.v[0]-1)*L,1+(x.s.v[1]-1)*L,1));for(P=0;k>P;P+=1){if(x=O.a[P].a,S=O.a[P].s,L=S.getMult(h[i].anIndexes[P],o.t.a[P].s.totalChars),"sk"in x&&(L.length?r.skewFromAxis(-x.sk.v*L[0],x.sa.v*L[1]):r.skewFromAxis(-x.sk.v*L,x.sa.v*L)),"r"in x&&r.rotateZ(L.length?-x.r.v*L[2]:-x.r.v*L),"ry"in x&&r.rotateY(L.length?x.ry.v*L[1]:x.ry.v*L),"rx"in x&&r.rotateX(L.length?x.rx.v*L[0]:x.rx.v*L),"o"in x&&(V+=L.length?(x.o.v*L[0]-V)*L[0]:(x.o.v*L-V)*L),a.strokeWidthAnim&&"sw"in x&&(z+=L.length?x.sw.v*L[0]:x.sw.v*L),a.strokeColorAnim&&"sc"in x)for(U=0;3>U;U+=1)H[U]=Math.round(L.length?255*(H[U]+(x.sc.v[U]-H[U])*L[0]):255*(H[U]+(x.sc.v[U]-H[U])*L));if(a.fillColorAnim){if("fc"in x)for(U=0;3>U;U+=1)G[U]=L.length?G[U]+(x.fc.v[U]-G[U])*L[0]:G[U]+(x.fc.v[U]-G[U])*L;"fh"in x&&(G=L.length?addHueToRGB(G,x.fh.v*L[0]):addHueToRGB(G,x.fh.v*L)),"fs"in x&&(G=L.length?addSaturationToRGB(G,x.fs.v*L[0]):addSaturationToRGB(G,x.fs.v*L)),"fb"in x&&(G=L.length?addBrightnessToRGB(G,x.fb.v*L[0]):addBrightnessToRGB(G,x.fb.v*L))}}for(P=0;k>P;P+=1)x=O.a[P].a,"p"in x&&(S=O.a[P].s,L=S.getMult(h[i].anIndexes[P],o.t.a[P].s.totalChars),this.maskPath?L.length?r.translate(0,x.p.v[1]*L[0],-x.p.v[2]*L[1]):r.translate(0,x.p.v[1]*L,-x.p.v[2]*L):L.length?r.translate(x.p.v[0]*L[0],x.p.v[1]*L[1],-x.p.v[2]*L[2]):r.translate(x.p.v[0]*L,x.p.v[1]*L,-x.p.v[2]*L));if(a.strokeWidthAnim&&(q=0>z?0:z),a.strokeColorAnim&&(W="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),a.fillColorAnim&&(Y="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),this.maskPath){if(o.t.p.p){w=(d.point[1]-m.point[1])/(d.point[0]-m.point[0]);var rt=180*Math.atan(w)/Math.PI;d.point[0]<m.point[0]&&(rt+=180),r.rotate(-rt*Math.PI/180)}r.translate(F,j,0),r.translate(O.m.a.v[0]*h[i].an/200,O.m.a.v[1]*R/100,0),g-=O.m.a.v[0]*h[i].an/200,h[i+1]&&Q!==h[i+1].ind&&(g+=h[i].an/2,g+=a.tr/1e3*o.t.d.s)}else{switch(r.translate(t,e,0),a.ps&&r.translate(a.ps[0],a.ps[1]+a.ascent,0),a.j){case 1:r.translate(a.justifyOffset+(a.boxWidth-a.lineWidths[h[i].line]),0,0);break;case 2:r.translate(a.justifyOffset+(a.boxWidth-a.lineWidths[h[i].line])/2,0,0)}r.translate(B,0,0),r.translate(O.m.a.v[0]*h[i].an/200,O.m.a.v[1]*R/100,0),t+=h[i].l+a.tr/1e3*o.t.d.s}"html"===s?X=r.toCSS():"svg"===s?X=r.to2dCSS():$=[r.props[0],r.props[1],r.props[2],r.props[3],r.props[4],r.props[5],r.props[6],r.props[7],r.props[8],r.props[9],r.props[10],r.props[11],r.props[12],r.props[13],r.props[14],r.props[15]],Z=V,D=this.renderedLetters[i],!D||D.o===Z&&D.sw===q&&D.sc===W&&D.fc===Y?"svg"!==s&&"html"!==s||D&&D.m===X?"canvas"!==s||D&&D.props[0]===$[0]&&D.props[1]===$[1]&&D.props[4]===$[4]&&D.props[5]===$[5]&&D.props[12]===$[12]&&D.props[13]===$[13]?I=D:(this.lettersChangedFlag=!0,I=new LetterProps(Z,q,W,Y,null,$)):(this.lettersChangedFlag=!0,I=new LetterProps(Z,q,W,Y,X)):(this.lettersChangedFlag=!0,I=new LetterProps(Z,q,W,Y,X,$)),this.renderedLetters[i]=I}},ITextElement.prototype.emptyProp=new LetterProps,createElement(SVGBaseElement,SVGTextElement),SVGTextElement.prototype.init=ITextElement.prototype.init,SVGTextElement.prototype.createPathShape=ITextElement.prototype.createPathShape,SVGTextElement.prototype.getMeasures=ITextElement.prototype.getMeasures,SVGTextElement.prototype.createElements=function(){this._parent.createElements.call(this);var t=this.data.t.d;t.fc?this.layerElement.setAttribute("fill","rgb("+Math.round(255*t.fc[0])+","+Math.round(255*t.fc[1])+","+Math.round(255*t.fc[2])+")"):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),t.sc&&(this.layerElement.setAttribute("stroke","rgb("+Math.round(255*t.sc[0])+","+Math.round(255*t.sc[1])+","+Math.round(255*t.sc[2])+")"),this.layerElement.setAttribute("stroke-width",t.sw)),this.layerElement.setAttribute("font-size",t.s);var e=this.globalData.fontManager.getFontByName(t.f);if(e.fClass)this.layerElement.setAttribute("class",e.fClass);else{this.layerElement.setAttribute("font-family",e.fFamily);var i=t.fWeight,n=t.fStyle;this.layerElement.setAttribute("font-style",n),this.layerElement.setAttribute("font-weight",i)}var r,s,o=t.l||[];if(s=o.length){var a,h,l=this.mHelper,c="",u=this.data.singleShape;if(u)var p=0,f=0,d=t.lineWidths,m=t.boxWidth,y=!0;for(r=0;s>r;r+=1){if(this.globalData.fontManager.chars?u&&0!==r||(a=document.createElementNS(svgNS,"path")):a=document.createElementNS(svgNS,"text"),a.setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4"),u&&o[r].n&&(p=0,f+=t.yOffset,f+=y?1:0,y=!1),l.reset(),this.globalData.fontManager.chars&&l.scale(t.s/100,t.s/100),u){switch(t.ps&&l.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:l.translate(t.justifyOffset+(m-d[o[r].line]),0,0);break;case 2:l.translate(t.justifyOffset+(m-d[o[r].line])/2,0,0)}l.translate(p,f,0)}if(this.globalData.fontManager.chars){var g,v=this.globalData.fontManager.getCharData(t.t.charAt(r),e.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);g=v?v.data:null,g&&g.shapes&&(h=g.shapes[0].it,u||(c=""),c+=this.createPathShape(l,h),u||a.setAttribute("d",c)),u||this.layerElement.appendChild(a)}else a.textContent=o[r].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.layerElement.appendChild(a),u&&a.setAttribute("transform",l.to2dCSS());u&&(p+=o[r].l),this.textSpans.push(a)}this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),u&&this.globalData.fontManager.chars&&(a.setAttribute("d",c),this.layerElement.appendChild(a))}},SVGTextElement.prototype.hide=function(){this.hidden||(this.layerElement.style.display="none",this.hidden=!0)},SVGTextElement.prototype.renderFrame=function(t){var e=this._parent.renderFrame.call(this,t);if(e===!1)return void this.hide();if(this.hidden&&(this.hidden=!1,this.layerElement.style.display="block"),!this.data.singleShape&&(this.getMeasures(),this.lettersChangedFlag)){var i,n,r=this.renderedLetters,s=this.data.t.d.l;n=s.length;var o;for(i=0;n>i;i+=1)s[i].n||(o=r[i],this.textSpans[i].setAttribute("transform",o.m),this.textSpans[i].setAttribute("opacity",o.o),o.sw&&this.textSpans[i].setAttribute("stroke-width",o.sw),o.sc&&this.textSpans[i].setAttribute("stroke",o.sc),o.fc&&this.textSpans[i].setAttribute("fill",o.fc));this.firstFrame&&(this.firstFrame=!1)}},SVGTextElement.prototype.destroy=function(){this._parent.destroy.call()},SVGEffects.prototype.renderFrame=function(t){var e,i=this.filters.length;for(e=0;i>e;e+=1)this.filters[e].renderFrame(t)},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;
this.matrixFilter.setAttribute("values",i[0]-e[0]+" 0 0 0 "+e[0]+" "+(i[1]-e[1])+" 0 0 0 "+e[1]+" "+(i[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+n+" 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager.mdf){var e=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+i+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t=this.elem.layerElement.children||this.elem.layerElement.childNodes,e=document.createElementNS(svgNS,"mask"),i="stms_"+randomString(10);e.setAttribute("id",i),e.setAttribute("mask-type","alpha");var n=document.createElementNS(svgNS,"path");n.setAttribute("fill","none"),n.setAttribute("stroke-linecap","round"),n.setAttribute("stroke-dashoffset",1),e.appendChild(n),this.elem.globalData.defs.appendChild(e);var r=document.createElementNS(svgNS,"g");r.setAttribute("mask","url(#"+i+")"),r.appendChild(t[0]),this.elem.layerElement.appendChild(r),this.initialized=!0,this.masker=e,this.pathMasker=n,n.setAttribute("stroke","#fff")},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e=this.elem.maskManager.viewData[Math.max(this.filterManager.effectElements[0].p.v,1)-1];if((t||this.filterManager.mdf||e.prop.mdf)&&this.pathMasker.setAttribute("d",e.lastPath),t||this.filterManager.effectElements[9].p.mdf||this.filterManager.effectElements[4].p.mdf||this.filterManager.effectElements[7].p.mdf||this.filterManager.effectElements[8].p.mdf||e.prop.mdf){var i;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var n=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,r=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,s=e.elem.getTotalLength();i="0 0 0 "+s*n+" ";var o,a=s*(r-n),h=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,l=Math.floor(a/h);for(o=0;l>o;o+=1)i+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";i+="0 "+10*s+" 0 0"}else i="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),this.pathMasker.setAttribute("stroke-dasharray",i)}(t||this.filterManager.effectElements[6].p.mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v)},createElement(SVGBaseElement,ICompElement),ICompElement.prototype.hide=function(){if(!this.hidden){var t,e=this.elements.length;for(t=0;e>t;t+=1)this.elements[t]&&this.elements[t].hide();this.hidden=!0}},ICompElement.prototype.prepareFrame=function(t){if(this._parent.prepareFrame.call(this,t),this.isVisible!==!1||this.data.xt){var e=t;this.tm&&(e=this.tm.v,e===this.data.op&&(e=this.data.op-1)),this.renderedFrame=e/this.data.sr;var i,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=0;n>i;i+=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(e/this.data.sr-this.layers[i].st)}},ICompElement.prototype.renderFrame=function(t){var e,i=this._parent.renderFrame.call(this,t),n=this.layers.length;if(i===!1)return void this.hide();for(this.hidden=!1,e=0;n>e;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();this.firstFrame&&(this.firstFrame=!1)},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroy=function(){this._parent.destroy.call();var t,e=this.layers.length;for(t=0;e>t;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.checkLayers=SVGRenderer.prototype.checkLayers,ICompElement.prototype.buildItem=SVGRenderer.prototype.buildItem,ICompElement.prototype.buildAllItems=SVGRenderer.prototype.buildAllItems,ICompElement.prototype.buildElementParenting=SVGRenderer.prototype.buildElementParenting,ICompElement.prototype.createItem=SVGRenderer.prototype.createItem,ICompElement.prototype.createImage=SVGRenderer.prototype.createImage,ICompElement.prototype.createComp=SVGRenderer.prototype.createComp,ICompElement.prototype.createSolid=SVGRenderer.prototype.createSolid,ICompElement.prototype.createShape=SVGRenderer.prototype.createShape,ICompElement.prototype.createText=SVGRenderer.prototype.createText,ICompElement.prototype.createBase=SVGRenderer.prototype.createBase,ICompElement.prototype.appendElementInPos=SVGRenderer.prototype.appendElementInPos,createElement(SVGBaseElement,IImageElement),IImageElement.prototype.createElements=function(){var t=this.globalData.getAssetsPath(this.assetData);this._parent.createElements.call(this),this.innerElem=document.createElementNS(svgNS,"image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio","xMidYMid slice"),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.maskedElement=this.innerElem,this.layerElement.appendChild(this.innerElem),this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.data.cl&&this.innerElem.setAttribute("class",this.data.cl)},IImageElement.prototype.hide=function(){this.hidden||(this.innerElem.style.display="none",this.hidden=!0)},IImageElement.prototype.renderFrame=function(t){var e=this._parent.renderFrame.call(this,t);return e===!1?void this.hide():(this.hidden&&(this.hidden=!1,this.innerElem.style.display="block"),void(this.firstFrame&&(this.firstFrame=!1)))},IImageElement.prototype.destroy=function(){this._parent.destroy.call(),this.innerElem=null},createElement(SVGBaseElement,IShapeElement),IShapeElement.prototype.lcEnum={1:"butt",2:"round",3:"butt"},IShapeElement.prototype.ljEnum={1:"miter",2:"round",3:"butt"},IShapeElement.prototype.buildExpressionInterface=function(){},IShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.viewData,this.layerElement,this.dynamicProperties,0),(!this.data.hd||this.data.td)&&styleUnselectableDiv(this.layerElement)},IShapeElement.prototype.setGradientData=function(t,e,i){var n,r="gr_"+randomString(10);n=1===e.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient"),n.setAttribute("id",r),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var s,o,a,h=[];for(a=4*e.g.p,o=0;a>o;o+=4)s=document.createElementNS(svgNS,"stop"),n.appendChild(s),h.push(s);t.setAttribute("gf"===e.ty?"fill":"stroke","url(#"+r+")"),this.globalData.defs.appendChild(n),i.gf=n,i.cst=h},IShapeElement.prototype.setGradientOpacity=function(t,e,i){if(t.g.k.k[0].s&&t.g.k.k[0].s.length>4*t.g.p||t.g.k.k.length>4*t.g.p){var n,r,s,o,a=document.createElementNS(svgNS,"mask"),h=document.createElementNS(svgNS,"path");a.appendChild(h);var l="op_"+randomString(10),c="mk_"+randomString(10);a.setAttribute("id",c),n=1===t.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient"),n.setAttribute("id",l),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse"),o=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var u=[];for(s=4*t.g.p;o>s;s+=2)r=document.createElementNS(svgNS,"stop"),r.setAttribute("stop-color","rgb(255,255,255)"),n.appendChild(r),u.push(r);return h.setAttribute("gf"===t.ty?"fill":"stroke","url(#"+l+")"),this.globalData.defs.appendChild(n),this.globalData.defs.appendChild(a),e.of=n,e.ost=u,i.msElem=h,c}},IShapeElement.prototype.searchShapes=function(t,e,i,n,r){var s,o,a,h,l,c=t.length-1,u=[],p=[];for(s=c;s>=0;s-=1)if("fl"==t[s].ty||"st"==t[s].ty||"gf"==t[s].ty||"gs"==t[s].ty){e[s]={},h={type:t[s].ty,d:"",ld:"",lvl:r,transformers:[],mdf:!1};var f=document.createElementNS(svgNS,"path");if(e[s].o=PropertyFactory.getProp(this,t[s].o,0,.01,n),("st"==t[s].ty||"gs"==t[s].ty)&&(f.setAttribute("stroke-linecap",this.lcEnum[t[s].lc]||"round"),f.setAttribute("stroke-linejoin",this.ljEnum[t[s].lj]||"round"),f.setAttribute("fill-opacity","0"),1==t[s].lj&&f.setAttribute("stroke-miterlimit",t[s].ml),e[s].w=PropertyFactory.getProp(this,t[s].w,0,null,n),t[s].d)){var d=PropertyFactory.getDashProp(this,t[s].d,"svg",n);d.k||(f.setAttribute("stroke-dasharray",d.dasharray),f.setAttribute("stroke-dashoffset",d.dashoffset)),e[s].d=d}if("fl"==t[s].ty||"st"==t[s].ty)e[s].c=PropertyFactory.getProp(this,t[s].c,1,255,n),i.appendChild(f);else{e[s].g=PropertyFactory.getGradientProp(this,t[s].g,n),2==t[s].t&&(e[s].h=PropertyFactory.getProp(this,t[s].h,1,.01,n),e[s].a=PropertyFactory.getProp(this,t[s].a,1,degToRads,n)),e[s].s=PropertyFactory.getProp(this,t[s].s,1,null,n),e[s].e=PropertyFactory.getProp(this,t[s].e,1,null,n),this.setGradientData(f,t[s],e[s],h);var m=this.setGradientOpacity(t[s],e[s],h);m&&f.setAttribute("mask","url(#"+m+")"),e[s].elem=f,i.appendChild(f)}t[s].ln&&f.setAttribute("id",t[s].ln),t[s].cl&&f.setAttribute("class",t[s].cl),h.pElem=f,this.stylesList.push(h),e[s].style=h,u.push(h)}else if("gr"==t[s].ty){e[s]={it:[]};var y=document.createElementNS(svgNS,"g");i.appendChild(y),e[s].gr=y,this.searchShapes(t[s].it,e[s].it,y,n,r+1)}else if("tr"==t[s].ty)for(e[s]={transform:{op:PropertyFactory.getProp(this,t[s].o,0,.01,n),mProps:PropertyFactory.getProp(this,t[s],2,null,n)},elements:[]},l=e[s].transform,a=this.stylesList.length,o=0;a>o;o+=1)this.stylesList[o].closed||this.stylesList[o].transformers.push(l);else if("sh"==t[s].ty||"rc"==t[s].ty||"el"==t[s].ty||"sr"==t[s].ty){e[s]={elements:[],caches:[],styles:[],lStr:""};var g=4;for("rc"==t[s].ty?g=5:"el"==t[s].ty?g=6:"sr"==t[s].ty&&(g=7),e[s].sh=ShapePropertyFactory.getShapeProp(this,t[s],g,n),e[s].lvl=r,this.shapes.push(e[s].sh),this.addShapeToModifiers(e[s].sh),a=this.stylesList.length,o=0;a>o;o+=1)this.stylesList[o].closed||e[s].elements.push({ty:this.stylesList[o].type,st:this.stylesList[o]})}else if("tm"==t[s].ty||"rd"==t[s].ty||"ms"==t[s].ty){var v=ShapeModifiers.getModifier(t[s].ty);v.init(this,t[s],n),this.shapeModifiers.push(v),p.push(v),e[s]=v}for(c=u.length,s=0;c>s;s+=1)u[s].closed=!0;for(c=p.length,s=0;c>s;s+=1)p[s].closed=!0},IShapeElement.prototype.addShapeToModifiers=function(t){var e,i=this.shapeModifiers.length;for(e=0;i>e;e+=1)this.shapeModifiers[e].addShape(t)},IShapeElement.prototype.renderModifiers=function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;e>t;t+=1)this.shapes[t].reset();for(e=this.shapeModifiers.length,t=e-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this.firstFrame)}},IShapeElement.prototype.renderFrame=function(t){var e=this._parent.renderFrame.call(this,t);return e===!1?void this.hide():(this.globalToLocal([0,0,0]),this.hidden=!1,this.renderModifiers(),void this.renderShape(null,null,!0,null))},IShapeElement.prototype.hide=function(){if(!this.hidden){var t,e=this.stylesList.length;for(t=e-1;t>=0;t-=1)"0"!==this.stylesList[t].ld&&(this.stylesList[t].ld="0",this.stylesList[t].pElem.style.display="none",this.stylesList[t].pElem.parentNode&&(this.stylesList[t].parent=this.stylesList[t].pElem.parentNode));this.hidden=!0}},IShapeElement.prototype.renderShape=function(t,e,i,n){var r,s;if(!t)for(t=this.shapesData,s=this.stylesList.length,r=0;s>r;r+=1)this.stylesList[r].d="",this.stylesList[r].mdf=!1;e||(e=this.viewData),s=t.length-1;var o;for(r=s;r>=0;r-=1)o=t[r].ty,"tr"==o?((this.firstFrame||e[r].transform.op.mdf&&n)&&n.setAttribute("opacity",e[r].transform.op.v),(this.firstFrame||e[r].transform.mProps.mdf&&n)&&n.setAttribute("transform",e[r].transform.mProps.v.to2dCSS())):"sh"==o||"el"==o||"rc"==o||"sr"==o?this.renderPath(t[r],e[r]):"fl"==o?this.renderFill(t[r],e[r]):"gf"==o?this.renderGradient(t[r],e[r]):"gs"==o?(this.renderGradient(t[r],e[r]),this.renderStroke(t[r],e[r])):"st"==o?this.renderStroke(t[r],e[r]):"gr"==o&&this.renderShape(t[r].it,e[r].it,!1,e[r].gr);if(i){for(s=this.stylesList.length,r=0;s>r;r+=1)"0"===this.stylesList[r].ld&&(this.stylesList[r].ld="1",this.stylesList[r].pElem.style.display="block"),(this.stylesList[r].mdf||this.firstFrame)&&(this.stylesList[r].pElem.setAttribute("d",this.stylesList[r].d),this.stylesList[r].msElem&&this.stylesList[r].msElem.setAttribute("d",this.stylesList[r].d));this.firstFrame&&(this.firstFrame=!1)}},IShapeElement.prototype.renderPath=function(t,e){var i,n,r,s,o,a,h,l,c=e.elements.length,u=e.lvl;for(l=0;c>l;l+=1){a=e.sh.mdf||this.firstFrame,o="";var p=e.sh.paths;if(s=p.length,e.elements[l].st.lvl<u){var f,d,m=this.mHelper.reset(),y=e.elements[l].st.lvl;for(d=u-1;d>=y;d-=1)a=e.elements[l].st.transformers[d-y].mProps.mdf||a,f=e.elements[l].st.transformers[d-y].mProps.v.props,m.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]);if(a){for(r=0;s>r;r+=1)if(h=p[r],h&&h.v){for(i=h.v.length,n=1;i>n;n+=1)1==n&&(o+=" M"+m.applyToPointStringified(h.v[0][0],h.v[0][1])),o+=" C"+m.applyToPointStringified(h.o[n-1][0],h.o[n-1][1])+" "+m.applyToPointStringified(h.i[n][0],h.i[n][1])+" "+m.applyToPointStringified(h.v[n][0],h.v[n][1]);1==i&&(o+=" M"+m.applyToPointStringified(h.v[0][0],h.v[0][1])),h.c&&(o+=" C"+m.applyToPointStringified(h.o[n-1][0],h.o[n-1][1])+" "+m.applyToPointStringified(h.i[0][0],h.i[0][1])+" "+m.applyToPointStringified(h.v[0][0],h.v[0][1]),o+="z")}e.caches[l]=o}else o=e.caches[l]}else if(a){for(r=0;s>r;r+=1)if(h=p[r],h&&h.v){for(i=h.v.length,n=1;i>n;n+=1)1==n&&(o+=" M"+h.v[0].join(",")),o+=" C"+h.o[n-1].join(",")+" "+h.i[n].join(",")+" "+h.v[n].join(",");1==i&&(o+=" M"+h.v[0].join(",")),h.c&&(o+=" C"+h.o[n-1].join(",")+" "+h.i[0].join(",")+" "+h.v[0].join(","),o+="z")}e.caches[l]=o}else o=e.caches[l];e.elements[l].st.d+=o,e.elements[l].st.mdf=a||e.elements[l].st.mdf}},IShapeElement.prototype.renderFill=function(t,e){var i=e.style;(e.c.mdf||this.firstFrame)&&i.pElem.setAttribute("fill","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||this.firstFrame)&&i.pElem.setAttribute("fill-opacity",e.o.v)},IShapeElement.prototype.renderGradient=function(t,e){var i=e.gf,n=e.of,r=e.s.v,s=e.e.v;if(e.o.mdf||this.firstFrame){var o="gf"===t.ty?"fill-opacity":"stroke-opacity";e.elem.setAttribute(o,e.o.v)}if(e.s.mdf||this.firstFrame){var a=1===t.t?"x1":"cx",h="x1"===a?"y1":"cy";i.setAttribute(a,r[0]),i.setAttribute(h,r[1]),n&&(n.setAttribute(a,r[0]),n.setAttribute(h,r[1]))}var l,c,u,p;if(e.g.cmdf||this.firstFrame){l=e.cst;var f=e.g.c;for(u=l.length,c=0;u>c;c+=1)p=l[c],p.setAttribute("offset",f[4*c]+"%"),p.setAttribute("stop-color","rgb("+f[4*c+1]+","+f[4*c+2]+","+f[4*c+3]+")")}if(n&&(e.g.omdf||this.firstFrame)){l=e.ost;var d=e.g.o;for(u=l.length,c=0;u>c;c+=1)p=l[c],p.setAttribute("offset",d[2*c]+"%"),p.setAttribute("stop-opacity",d[2*c+1])}if(1===t.t)(e.e.mdf||this.firstFrame)&&(i.setAttribute("x2",s[0]),i.setAttribute("y2",s[1]),n&&(n.setAttribute("x2",s[0]),n.setAttribute("y2",s[1])));else{var m;if((e.s.mdf||e.e.mdf||this.firstFrame)&&(m=Math.sqrt(Math.pow(r[0]-s[0],2)+Math.pow(r[1]-s[1],2)),i.setAttribute("r",m),n&&n.setAttribute("r",m)),e.e.mdf||e.h.mdf||e.a.mdf||this.firstFrame){m||(m=Math.sqrt(Math.pow(r[0]-s[0],2)+Math.pow(r[1]-s[1],2)));var y=Math.atan2(s[1]-r[1],s[0]-r[0]),g=e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v,v=m*g,_=Math.cos(y+e.a.v)*v+r[0],b=Math.sin(y+e.a.v)*v+r[1];i.setAttribute("fx",_),i.setAttribute("fy",b),n&&(n.setAttribute("fx",_),n.setAttribute("fy",b))}}},IShapeElement.prototype.renderStroke=function(t,e){var i=e.style,n=e.d;n&&n.k&&(n.mdf||this.firstFrame)&&(i.pElem.setAttribute("stroke-dasharray",n.dasharray),i.pElem.setAttribute("stroke-dashoffset",n.dashoffset)),e.c&&(e.c.mdf||this.firstFrame)&&i.pElem.setAttribute("stroke","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||this.firstFrame)&&i.pElem.setAttribute("stroke-opacity",e.o.v),(e.w.mdf||this.firstFrame)&&(i.pElem.setAttribute("stroke-width",e.w.v),i.msElem&&i.msElem.setAttribute("stroke-width",e.w.v))},IShapeElement.prototype.destroy=function(){this._parent.destroy.call(),this.shapeData=null,this.viewData=null,this.parentContainer=null,this.placeholder=null},createElement(SVGBaseElement,ISolidElement),ISolidElement.prototype.createElements=function(){this._parent.createElements.call(this);var t=document.createElementNS(svgNS,"rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t),this.innerElem=t,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.data.cl&&this.innerElem.setAttribute("class",this.data.cl)},ISolidElement.prototype.hide=IImageElement.prototype.hide,ISolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,ISolidElement.prototype.destroy=IImageElement.prototype.destroy,createElement(BaseElement,CVBaseElement),CVBaseElement.prototype.createElements=function(){this.checkParenting()},CVBaseElement.prototype.checkBlendMode=function(t){if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e="";switch(this.data.bm){case 0:e="normal";break;case 1:e="multiply";break;case 2:e="screen";break;case 3:e="overlay";break;case 4:e="darken";break;case 5:e="lighten";break;case 6:e="color-dodge";break;case 7:e="color-burn";break;case 8:e="hard-light";break;case 9:e="soft-light";break;case 10:e="difference";break;case 11:e="exclusion";break;case 12:e="hue";break;case 13:e="saturation";break;case 14:e="color";break;case 15:e="luminosity"}t.canvasContext.globalCompositeOperation=e}},CVBaseElement.prototype.renderFrame=function(t){if(3===this.data.ty)return!1;if(this.checkBlendMode(0===this.data.ty?this.parentGlobalData:this.globalData),!this.isVisible)return this.isVisible;this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v;var e,i=this.finalTransform.mat;if(this.hierarchy){var n,r=this.hierarchy.length;for(e=this.finalTransform.mProp.v.props,i.cloneFromProps(e),n=0;r>n;n+=1)this.finalTransform.matMdf=!!this.hierarchy[n].finalTransform.mProp.mdf||this.finalTransform.matMdf,e=this.hierarchy[n].finalTransform.mProp.v.props,i.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}else t?(e=this.finalTransform.mProp.v.props,i.cloneFromProps(e)):i.cloneFromProps(this.finalTransform.mProp.v.props);return t&&(e=t.mat.props,i.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.finalTransform.opacity*=t.opacity,this.finalTransform.opMdf=!!t.opMdf||this.finalTransform.opMdf,this.finalTransform.matMdf=!!t.matMdf||this.finalTransform.matMdf),this.data.hasMask&&(this.globalData.renderer.save(!0),this.maskManager.renderFrame(0===this.data.ty?null:i)),this.data.hd&&(this.isVisible=!1),this.isVisible},CVBaseElement.prototype.addMasks=function(t){this.maskManager=new CVMaskElement(t,this,this.globalData)},CVBaseElement.prototype.destroy=function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager&&this.maskManager.destroy()},CVBaseElement.prototype.mHelper=new Matrix,createElement(CVBaseElement,CVCompElement),CVCompElement.prototype.ctxTransform=CanvasRenderer.prototype.ctxTransform,CVCompElement.prototype.ctxOpacity=CanvasRenderer.prototype.ctxOpacity,CVCompElement.prototype.save=CanvasRenderer.prototype.save,CVCompElement.prototype.restore=CanvasRenderer.prototype.restore,CVCompElement.prototype.reset=function(){this.contextData.cArrPos=0,this.contextData.cTr.reset(),this.contextData.cO=1},CVCompElement.prototype.resize=function(t){var e=Math.max(t.sx,t.sy);this.canvas.width=this.data.w*e,this.canvas.height=this.data.h*e,this.transformCanvas={sc:e,w:this.data.w*e,h:this.data.h*e,props:[e,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1]};var i,n=this.elements.length;for(i=0;n>i;i+=1)this.elements[i]&&0===this.elements[i].data.ty&&this.elements[i].resize(t)},CVCompElement.prototype.prepareFrame=function(t){if(this.globalData.frameId=this.parentGlobalData.frameId,this.globalData.mdf=!1,this._parent.prepareFrame.call(this,t),this.isVisible!==!1||this.data.xt){var e=t;this.tm&&(e=this.tm.v,e===this.data.op&&(e=this.data.op-1)),this.renderedFrame=e/this.data.sr;var i,n=this.elements.length;for(this.completeLayers||this.checkLayers(t),i=0;n>i;i+=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(e/this.data.sr-this.layers[i].st),0===this.elements[i].data.ty&&this.elements[i].globalData.mdf&&(this.globalData.mdf=!0));this.globalData.mdf&&!this.data.xt&&(this.canvasContext.clearRect(0,0,this.data.w,this.data.h),this.ctxTransform(this.transformCanvas.props))}},CVCompElement.prototype.renderFrame=function(t){if(this._parent.renderFrame.call(this,t)!==!1){if(this.globalData.mdf){var e,i=this.layers.length;for(e=i-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}this.data.hasMask&&this.globalData.renderer.restore(!0),this.firstFrame&&(this.firstFrame=!1),this.parentGlobalData.renderer.save(),this.parentGlobalData.renderer.ctxTransform(this.finalTransform.mat.props),this.parentGlobalData.renderer.ctxOpacity(this.finalTransform.opacity),this.parentGlobalData.renderer.canvasContext.drawImage(this.canvas,0,0,this.data.w,this.data.h),this.parentGlobalData.renderer.restore(),this.globalData.mdf&&this.reset()}},CVCompElement.prototype.setElements=function(t){this.elements=t},CVCompElement.prototype.getElements=function(){return this.elements},CVCompElement.prototype.destroy=function(){var t,e=this.layers.length;for(t=e-1;t>=0;t-=1)this.elements[t].destroy();this.layers=null,this.elements=null,this._parent.destroy.call()},CVCompElement.prototype.checkLayers=CanvasRenderer.prototype.checkLayers,CVCompElement.prototype.buildItem=CanvasRenderer.prototype.buildItem,CVCompElement.prototype.buildAllItems=CanvasRenderer.prototype.buildAllItems,CVCompElement.prototype.createItem=CanvasRenderer.prototype.createItem,CVCompElement.prototype.createImage=CanvasRenderer.prototype.createImage,CVCompElement.prototype.createComp=CanvasRenderer.prototype.createComp,CVCompElement.prototype.createSolid=CanvasRenderer.prototype.createSolid,CVCompElement.prototype.createShape=CanvasRenderer.prototype.createShape,CVCompElement.prototype.createText=CanvasRenderer.prototype.createText,CVCompElement.prototype.createBase=CanvasRenderer.prototype.createBase,CVCompElement.prototype.buildElementParenting=CanvasRenderer.prototype.buildElementParenting,createElement(CVBaseElement,CVImageElement),CVImageElement.prototype.createElements=function(){var t=function(){if(this.globalData.elementLoaded(),this.assetData.w!==this.img.width||this.assetData.h!==this.img.height){var t=document.createElement("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,i,n=t.getContext("2d"),r=this.img.width,s=this.img.height,o=r/s,a=this.assetData.w/this.assetData.h;o>a?(i=s,e=i*a):(e=r,i=e/a),n.drawImage(this.img,(r-e)/2,(s-i)/2,e,i,0,0,this.assetData.w,this.assetData.h),this.img=t}}.bind(this),e=function(){this.failed=!0,this.globalData.elementLoaded()}.bind(this);this.img=new Image,this.img.addEventListener("load",t,!1),this.img.addEventListener("error",e,!1);var i=this.globalData.getAssetsPath(this.assetData);this.img.src=i,this._parent.createElements.call(this)},CVImageElement.prototype.renderFrame=function(t){if(!this.failed&&this._parent.renderFrame.call(this,t)!==!1){var e=this.canvasContext;this.globalData.renderer.save();var i=this.finalTransform.mat.props;this.globalData.renderer.ctxTransform(i),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),e.drawImage(this.img,0,0),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},CVImageElement.prototype.destroy=function(){this.img=null,this._parent.destroy.call()},CVMaskElement.prototype.getMaskProperty=function(t){return this.viewData[t]},CVMaskElement.prototype.prepareFrame=function(t){var e,i=this.dynamicProperties.length;for(e=0;i>e;e+=1)this.dynamicProperties[e].getValue(t),this.dynamicProperties[e].mdf&&(this.element.globalData.mdf=!0)},CVMaskElement.prototype.renderFrame=function(t){var e,i,n,r,s,o=this.element.canvasContext,a=this.data.masksProperties.length,h=!1;for(e=0;a>e;e++)if("n"!==this.masksProperties[e].mode){h===!1&&(o.beginPath(),h=!0),this.masksProperties[e].inv&&(o.moveTo(0,0),o.lineTo(this.element.globalData.compWidth,0),o.lineTo(this.element.globalData.compWidth,this.element.globalData.compHeight),o.lineTo(0,this.element.globalData.compHeight),o.lineTo(0,0)),s=this.viewData[e].v,i=t?t.applyToPointArray(s.v[0][0],s.v[0][1],0):s.v[0],o.moveTo(i[0],i[1]);var l,c=s.v.length;for(l=1;c>l;l++)i=t?t.applyToPointArray(s.o[l-1][0],s.o[l-1][1],0):s.o[l-1],n=t?t.applyToPointArray(s.i[l][0],s.i[l][1],0):s.i[l],r=t?t.applyToPointArray(s.v[l][0],s.v[l][1],0):s.v[l],o.bezierCurveTo(i[0],i[1],n[0],n[1],r[0],r[1]);i=t?t.applyToPointArray(s.o[l-1][0],s.o[l-1][1],0):s.o[l-1],n=t?t.applyToPointArray(s.i[0][0],s.i[0][1],0):s.i[0],r=t?t.applyToPointArray(s.v[0][0],s.v[0][1],0):s.v[0],o.bezierCurveTo(i[0],i[1],n[0],n[1],r[0],r[1])}h&&o.clip()},CVMaskElement.prototype.getMask=function(t){for(var e=0,i=this.masksProperties.length;i>e;){if(this.masksProperties[e].nm===t)return{maskPath:this.viewData[e].pv};e+=1}},CVMaskElement.prototype.destroy=function(){this.element=null},createElement(CVBaseElement,CVShapeElement),CVShapeElement.prototype.lcEnum={1:"butt",2:"round",3:"butt"},CVShapeElement.prototype.ljEnum={1:"miter",2:"round",3:"butt"},CVShapeElement.prototype.transformHelper={opacity:1,mat:new Matrix,matMdf:!1,opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.viewData,this.dynamicProperties)},CVShapeElement.prototype.searchShapes=function(t,e,i){var n,r,s,o,a=t.length-1,h=[],l=[];for(n=a;n>=0;n-=1)if("fl"==t[n].ty||"st"==t[n].ty){if(o={type:t[n].ty,elements:[]},e[n]={},("fl"==t[n].ty||"st"==t[n].ty)&&(e[n].c=PropertyFactory.getProp(this,t[n].c,1,255,i),e[n].c.k||(o.co="rgb("+bm_floor(e[n].c.v[0])+","+bm_floor(e[n].c.v[1])+","+bm_floor(e[n].c.v[2])+")")),e[n].o=PropertyFactory.getProp(this,t[n].o,0,.01,i),"st"==t[n].ty&&(o.lc=this.lcEnum[t[n].lc]||"round",o.lj=this.ljEnum[t[n].lj]||"round",1==t[n].lj&&(o.ml=t[n].ml),e[n].w=PropertyFactory.getProp(this,t[n].w,0,null,i),e[n].w.k||(o.wi=e[n].w.v),t[n].d)){var c=PropertyFactory.getDashProp(this,t[n].d,"canvas",i);e[n].d=c,e[n].d.k||(o.da=e[n].d.dasharray,o["do"]=e[n].d.dashoffset)}this.stylesList.push(o),e[n].style=o,h.push(e[n].style)}else if("gr"==t[n].ty)e[n]={it:[]},this.searchShapes(t[n].it,e[n].it,i);else if("tr"==t[n].ty)e[n]={transform:{mat:new Matrix,opacity:1,matMdf:!1,opMdf:!1,op:PropertyFactory.getProp(this,t[n].o,0,.01,i),mProps:PropertyFactory.getProp(this,t[n],2,null,i)},elements:[]};else if("sh"==t[n].ty||"rc"==t[n].ty||"el"==t[n].ty||"sr"==t[n].ty){e[n]={nodes:[],trNodes:[],tr:[0,0,0,0,0,0]};var u=4;"rc"==t[n].ty?u=5:"el"==t[n].ty?u=6:"sr"==t[n].ty&&(u=7),e[n].sh=ShapePropertyFactory.getShapeProp(this,t[n],u,i),this.shapes.push(e[n].sh),this.addShapeToModifiers(e[n].sh),s=this.stylesList.length;var p=!1,f=!1;for(r=0;s>r;r+=1)this.stylesList[r].closed||(this.stylesList[r].elements.push(e[n]),"st"===this.stylesList[r].type?p=!0:f=!0);e[n].st=p,e[n].fl=f}else if("tm"==t[n].ty||"rd"==t[n].ty){var d=ShapeModifiers.getModifier(t[n].ty);d.init(this,t[n],i),this.shapeModifiers.push(d),l.push(d),e[n]=d}for(a=h.length,n=0;a>n;n+=1)h[n].closed=!0;for(a=l.length,n=0;a>n;n+=1)l[n].closed=!0},CVShapeElement.prototype.addShapeToModifiers=IShapeElement.prototype.addShapeToModifiers,CVShapeElement.prototype.renderModifiers=IShapeElement.prototype.renderModifiers,CVShapeElement.prototype.renderFrame=function(t){this._parent.renderFrame.call(this,t)!==!1&&(this.transformHelper.mat.reset(),this.transformHelper.opacity=this.finalTransform.opacity,this.transformHelper.matMdf=!1,this.transformHelper.opMdf=this.finalTransform.opMdf,this.renderModifiers(),this.renderShape(this.transformHelper,null,null,!0),this.data.hasMask&&this.globalData.renderer.restore(!0))},CVShapeElement.prototype.renderShape=function(t,e,i,n){var r,s;if(!e)for(e=this.shapesData,s=this.stylesList.length,r=0;s>r;r+=1)this.stylesList[r].d="",this.stylesList[r].mdf=!1;i||(i=this.viewData),s=e.length-1;var o,a;for(o=t,r=s;r>=0;r-=1)if("tr"==e[r].ty){o=i[r].transform;var h=i[r].transform.mProps.v.props;if(o.matMdf=o.mProps.mdf,o.opMdf=o.op.mdf,a=o.mat,a.cloneFromProps(h),t){var l=t.mat.props;o.opacity=t.opacity,o.opacity*=i[r].transform.op.v,o.matMdf=!!t.matMdf||o.matMdf,o.opMdf=!!t.opMdf||o.opMdf,a.transform(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15])}else o.opacity=o.op.o}else"sh"==e[r].ty||"el"==e[r].ty||"rc"==e[r].ty||"sr"==e[r].ty?this.renderPath(e[r],i[r],o):"fl"==e[r].ty?this.renderFill(e[r],i[r],o):"st"==e[r].ty?this.renderStroke(e[r],i[r],o):"gr"==e[r].ty?this.renderShape(o,e[r].it,i[r].it):"tm"==e[r].ty;if(n){s=this.stylesList.length;var c,u,p,f,d,m,y,g=this.globalData.renderer,v=this.globalData.canvasContext;for(g.save(),g.ctxTransform(this.finalTransform.mat.props),r=0;s>r;r+=1)if(y=this.stylesList[r].type,"st"!==y||0!==this.stylesList[r].wi){for(g.save(),d=this.stylesList[r].elements,"st"===y?(v.strokeStyle=this.stylesList[r].co,v.lineWidth=this.stylesList[r].wi,v.lineCap=this.stylesList[r].lc,v.lineJoin=this.stylesList[r].lj,v.miterLimit=this.stylesList[r].ml||0):v.fillStyle=this.stylesList[r].co,g.ctxOpacity(this.stylesList[r].coOp),"st"!==y&&v.beginPath(),u=d.length,c=0;u>c;c+=1){for("st"===y&&(v.beginPath(),this.stylesList[r].da?(v.setLineDash(this.stylesList[r].da),v.lineDashOffset=this.stylesList[r]["do"],this.globalData.isDashed=!0):this.globalData.isDashed&&(v.setLineDash(this.dashResetter),this.globalData.isDashed=!1)),m=d[c].trNodes,f=m.length,p=0;f>p;p+=1)"m"==m[p].t?v.moveTo(m[p].p[0],m[p].p[1]):"c"==m[p].t?v.bezierCurveTo(m[p].p1[0],m[p].p1[1],m[p].p2[0],m[p].p2[1],m[p].p3[0],m[p].p3[1]):v.closePath();"st"===y&&v.stroke()}"st"!==y&&v.fill(),g.restore()}g.restore(),this.firstFrame&&(this.firstFrame=!1)}},CVShapeElement.prototype.renderPath=function(t,e,i){var n,r,s,o,a=i.matMdf||e.sh.mdf||this.firstFrame;if(a){var h=e.sh.paths;o=h.length;var l=e.trNodes;for(l.length=0,s=0;o>s;s+=1){var c=h[s];if(c&&c.v){for(n=c.v.length,r=1;n>r;r+=1)1==r&&l.push({t:"m",p:i.mat.applyToPointArray(c.v[0][0],c.v[0][1],0)}),l.push({t:"c",p1:i.mat.applyToPointArray(c.o[r-1][0],c.o[r-1][1],0),p2:i.mat.applyToPointArray(c.i[r][0],c.i[r][1],0),p3:i.mat.applyToPointArray(c.v[r][0],c.v[r][1],0)});1==n&&l.push({t:"m",p:i.mat.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&(l.push({t:"c",p1:i.mat.applyToPointArray(c.o[r-1][0],c.o[r-1][1],0),p2:i.mat.applyToPointArray(c.i[0][0],c.i[0][1],0),p3:i.mat.applyToPointArray(c.v[0][0],c.v[0][1],0)}),l.push({t:"z"})),e.lStr=l}}if(e.st)for(r=0;16>r;r+=1)e.tr[r]=i.mat.props[r];e.trNodes=l}},CVShapeElement.prototype.renderFill=function(t,e,i){var n=e.style;(e.c.mdf||this.firstFrame)&&(n.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||i.opMdf||this.firstFrame)&&(n.coOp=e.o.v*i.opacity)},CVShapeElement.prototype.renderStroke=function(t,e,i){var n=e.style,r=e.d;r&&(r.mdf||this.firstFrame)&&(n.da=r.dasharray,n["do"]=r.dashoffset),(e.c.mdf||this.firstFrame)&&(n.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o.mdf||i.opMdf||this.firstFrame)&&(n.coOp=e.o.v*i.opacity),(e.w.mdf||this.firstFrame)&&(n.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.viewData.length=0,this._parent.destroy.call()},createElement(CVBaseElement,CVSolidElement),CVSolidElement.prototype.renderFrame=function(t){if(this._parent.renderFrame.call(this,t)!==!1){var e=this.canvasContext;
this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(CVBaseElement,CVTextElement),CVTextElement.prototype.init=ITextElement.prototype.init,CVTextElement.prototype.getMeasures=ITextElement.prototype.getMeasures,CVTextElement.prototype.getMult=ITextElement.prototype.getMult,CVTextElement.prototype.tHelper=document.createElement("canvas").getContext("2d"),CVTextElement.prototype.createElements=function(){this._parent.createElements.call(this);var t=this.data.t.d,e=!1;t.fc?(e=!0,this.values.fill="rgb("+Math.round(255*t.fc[0])+","+Math.round(255*t.fc[1])+","+Math.round(255*t.fc[2])+")"):this.values.fill="rgba(0,0,0,0)",this.fill=e;var i=!1;t.sc&&(i=!0,this.values.stroke="rgb("+Math.round(255*t.sc[0])+","+Math.round(255*t.sc[1])+","+Math.round(255*t.sc[2])+")",this.values.sWidth=t.sw);var n,r,s=this.globalData.fontManager.getFontByName(t.f),o=t.l,a=this.mHelper;this.stroke=i,this.values.fValue=t.s+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,r=t.t.length,this.tHelper.font=this.values.fValue;var h,l,c,u,p,f,d,m,y,g,v=this.data.singleShape;if(v)var _=0,b=0,E=t.lineWidths,T=t.boxWidth,A=!0;for(n=0;r>n;n+=1){h=this.globalData.fontManager.getCharData(t.t.charAt(n),s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);var l;if(l=h?h.data:null,a.reset(),v&&o[n].n&&(_=0,b+=t.yOffset,b+=A?1:0,A=!1),l&&l.shapes){if(p=l.shapes[0].it,d=p.length,a.scale(t.s/100,t.s/100),v){switch(t.ps&&a.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:a.translate(t.justifyOffset+(T-E[o[n].line]),0,0);break;case 2:a.translate(t.justifyOffset+(T-E[o[n].line])/2,0,0)}a.translate(_,b,0)}for(y=new Array(d),f=0;d>f;f+=1){for(u=p[f].ks.k.i.length,m=p[f].ks.k,g=[],c=1;u>c;c+=1)1==c&&g.push(a.applyToX(m.v[0][0],m.v[0][1],0),a.applyToY(m.v[0][0],m.v[0][1],0)),g.push(a.applyToX(m.o[c-1][0],m.o[c-1][1],0),a.applyToY(m.o[c-1][0],m.o[c-1][1],0),a.applyToX(m.i[c][0],m.i[c][1],0),a.applyToY(m.i[c][0],m.i[c][1],0),a.applyToX(m.v[c][0],m.v[c][1],0),a.applyToY(m.v[c][0],m.v[c][1],0));g.push(a.applyToX(m.o[c-1][0],m.o[c-1][1],0),a.applyToY(m.o[c-1][0],m.o[c-1][1],0),a.applyToX(m.i[0][0],m.i[0][1],0),a.applyToY(m.i[0][0],m.i[0][1],0),a.applyToX(m.v[0][0],m.v[0][1],0),a.applyToY(m.v[0][0],m.v[0][1],0)),y[f]=g}}else y=[];v&&(_+=o[n].l),this.textSpans.push({elem:y})}},CVTextElement.prototype.renderFrame=function(t){if(this._parent.renderFrame.call(this,t)!==!1){var e=this.canvasContext,i=this.finalTransform.mat.props;this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(i),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),e.font=this.values.fValue,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,this.data.singleShape||this.getMeasures();var n,r,s,o,a,h,l=this.renderedLetters,c=this.data.t.d.l;r=c.length;var u,p,f,d=null,m=null,y=null;for(n=0;r>n;n+=1)if(!c[n].n){if(u=l[n],u&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(u.props),this.globalData.renderer.ctxOpacity(u.o)),this.fill){for(u&&u.fc?d!==u.fc&&(d=u.fc,e.fillStyle=u.fc):d!==this.values.fill&&(d=this.values.fill,e.fillStyle=this.values.fill),p=this.textSpans[n].elem,o=p.length,this.globalData.canvasContext.beginPath(),s=0;o>s;s+=1)for(f=p[s],h=f.length,this.globalData.canvasContext.moveTo(f[0],f[1]),a=2;h>a;a+=6)this.globalData.canvasContext.bezierCurveTo(f[a],f[a+1],f[a+2],f[a+3],f[a+4],f[a+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(u&&u.sw?y!==u.sw&&(y=u.sw,e.lineWidth=u.sw):y!==this.values.sWidth&&(y=this.values.sWidth,e.lineWidth=this.values.sWidth),u&&u.sc?m!==u.sc&&(m=u.sc,e.strokeStyle=u.sc):m!==this.values.stroke&&(m=this.values.stroke,e.strokeStyle=this.values.stroke),p=this.textSpans[n].elem,o=p.length,this.globalData.canvasContext.beginPath(),s=0;o>s;s+=1)for(f=p[s],h=f.length,this.globalData.canvasContext.moveTo(f[0],f[1]),a=2;h>a;a+=6)this.globalData.canvasContext.bezierCurveTo(f[a],f[a+1],f[a+2],f[a+3],f[a+4],f[a+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}u&&this.globalData.renderer.restore()}this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(BaseElement,HBaseElement),HBaseElement.prototype.checkBlendMode=function(){},HBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,HBaseElement.prototype.getBaseElement=function(){return this.baseElement},HBaseElement.prototype.createElements=function(){this.data.hasMask?(this.layerElement=document.createElementNS(svgNS,"svg"),this.baseElement=this.layerElement,this.maskedElement=this.layerElement):this.layerElement=this.parentContainer,!this.data.ln||4!==this.data.ty&&0!==this.data.ty||(this.layerElement===this.parentContainer&&(this.layerElement=document.createElementNS(svgNS,"g"),this.baseElement=this.layerElement),this.layerElement.setAttribute("id",this.data.ln)),this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.checkParenting()},HBaseElement.prototype.renderFrame=function(t){if(3===this.data.ty)return!1;if(this.currentFrameNum===this.lastNum||!this.isVisible)return this.isVisible;this.lastNum=this.currentFrameNum,this.data.hasMask&&this.maskManager.renderFrame(),this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v,this.firstFrame&&(this.finalTransform.opMdf=!0,this.finalTransform.matMdf=!0);var e,i=this.finalTransform.mat;if(this.hierarchy){var n,r=this.hierarchy.length;for(e=this.finalTransform.mProp.v.props,i.cloneFromProps(e),n=0;r>n;n+=1)this.finalTransform.matMdf=!!this.hierarchy[n].finalTransform.mProp.mdf||this.finalTransform.matMdf,e=this.hierarchy[n].finalTransform.mProp.v.props,i.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}else this.isVisible&&this.finalTransform.matMdf&&(t?(e=this.finalTransform.mProp.v.props,i.cloneFromProps(e)):i.cloneFromProps(this.finalTransform.mProp.v.props));return t&&(e=t.mat.props,i.cloneFromProps(e),this.finalTransform.opacity*=t.opacity,this.finalTransform.opMdf=!!t.opMdf||this.finalTransform.opMdf,this.finalTransform.matMdf=!!t.matMdf||this.finalTransform.matMdf),this.finalTransform.matMdf&&(this.layerElement.style.transform=this.layerElement.style.webkitTransform=i.toCSS(),this.finalMat=i),this.finalTransform.opMdf&&(this.layerElement.style.opacity=this.finalTransform.opacity),this.isVisible},HBaseElement.prototype.destroy=function(){this.layerElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},HBaseElement.prototype.getDomElement=function(){return this.layerElement},HBaseElement.prototype.addMasks=function(t){this.maskManager=new MaskElement(t,this,this.globalData)},HBaseElement.prototype.hide=function(){},HBaseElement.prototype.setMatte=function(){},HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,createElement(HBaseElement,HSolidElement),HSolidElement.prototype.createElements=function(){var t=document.createElement("div");styleDiv(t);var e=document.createElementNS(svgNS,"svg");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),t.appendChild(e),this.layerElement=t,this.baseElement=t,this.innerElem=t,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),0!==this.data.bm&&this.setBlendMode();var i=document.createElementNS(svgNS,"rect");i.setAttribute("width",this.data.sw),i.setAttribute("height",this.data.sh),i.setAttribute("fill",this.data.sc),e.appendChild(i),this.data.hasMask&&(this.maskedElement=i),this.checkParenting()},HSolidElement.prototype.hide=IImageElement.prototype.hide,HSolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,HSolidElement.prototype.destroy=IImageElement.prototype.destroy,createElement(HBaseElement,HCompElement),HCompElement.prototype.createElements=function(){var t=document.createElement("div");if(styleDiv(t),this.data.ln&&t.setAttribute("id",this.data.ln),t.style.clip="rect(0px, "+this.data.w+"px, "+this.data.h+"px, 0px)",this.data.hasMask){var e=document.createElementNS(svgNS,"svg");e.setAttribute("width",this.data.w),e.setAttribute("height",this.data.h);var i=document.createElementNS(svgNS,"g");e.appendChild(i),t.appendChild(e),this.maskedElement=i,this.baseElement=t,this.layerElement=i}else this.layerElement=t,this.baseElement=this.layerElement;this.checkParenting()},HCompElement.prototype.hide=ICompElement.prototype.hide,HCompElement.prototype.prepareFrame=ICompElement.prototype.prepareFrame,HCompElement.prototype.setElements=ICompElement.prototype.setElements,HCompElement.prototype.getElements=ICompElement.prototype.getElements,HCompElement.prototype.destroy=ICompElement.prototype.destroy,HCompElement.prototype.renderFrame=function(t){var e,i=this._parent.renderFrame.call(this,t),n=this.layers.length;if(i===!1)return void this.hide();for(this.hidden=!1,e=0;n>e;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();this.firstFrame&&(this.firstFrame=!1)},HCompElement.prototype.checkLayers=BaseRenderer.prototype.checkLayers,HCompElement.prototype.buildItem=HybridRenderer.prototype.buildItem,HCompElement.prototype.buildAllItems=BaseRenderer.prototype.buildAllItems,HCompElement.prototype.createItem=HybridRenderer.prototype.createItem,HCompElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,HCompElement.prototype.createImage=HybridRenderer.prototype.createImage,HCompElement.prototype.createComp=HybridRenderer.prototype.createComp,HCompElement.prototype.createSolid=HybridRenderer.prototype.createSolid,HCompElement.prototype.createShape=HybridRenderer.prototype.createShape,HCompElement.prototype.createText=HybridRenderer.prototype.createText,HCompElement.prototype.createBase=HybridRenderer.prototype.createBase,HCompElement.prototype.appendElementInPos=HybridRenderer.prototype.appendElementInPos,createElement(HBaseElement,HShapeElement);var parent=HShapeElement.prototype._parent;extendPrototype(IShapeElement,HShapeElement),HShapeElement.prototype._parent=parent,HShapeElement.prototype.createElements=function(){var t=document.createElement("div");styleDiv(t);var e=document.createElementNS(svgNS,"svg"),i=this.comp.data?this.comp.data:this.globalData.compSize;if(e.setAttribute("width",i.w),e.setAttribute("height",i.h),this.data.hasMask){var n=document.createElementNS(svgNS,"g");t.appendChild(e),e.appendChild(n),this.maskedElement=n,this.layerElement=n,this.shapesContainer=n}else t.appendChild(e),this.layerElement=e,this.shapesContainer=document.createElementNS(svgNS,"g"),this.layerElement.appendChild(this.shapesContainer);this.data.hd||(this.baseElement=t),this.innerElem=t,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.searchShapes(this.shapesData,this.viewData,this.layerElement,this.dynamicProperties,0),this.buildExpressionInterface(),this.layerElement=t,this.shapeCont=e,0!==this.data.bm&&this.setBlendMode(),this.checkParenting()},HShapeElement.prototype.renderFrame=function(t){var e=this._parent.renderFrame.call(this,t);if(e===!1)return void this.hide();if(this.hidden=!1,this.renderModifiers(),this.addedTransforms.mdf=this.finalTransform.matMdf,this.addedTransforms.mats.length=1,this.addedTransforms.mats[0]=this.finalTransform.mat,this.renderShape(null,null,!0,null),this.isVisible&&(this.elemMdf||this.firstFrame)){var i=this.shapeCont.getBBox();this.currentBBox.w!==i.width&&(this.currentBBox.w=i.width,this.shapeCont.setAttribute("width",i.width)),this.currentBBox.h!==i.height&&(this.currentBBox.h=i.height,this.shapeCont.setAttribute("height",i.height)),(this.currentBBox.w!==i.width||this.currentBBox.h!==i.height||this.currentBBox.x!==i.x||this.currentBBox.y!==i.y)&&(this.currentBBox.w=i.width,this.currentBBox.h=i.height,this.currentBBox.x=i.x,this.currentBBox.y=i.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},createElement(HBaseElement,HTextElement),HTextElement.prototype.init=ITextElement.prototype.init,HTextElement.prototype.getMeasures=ITextElement.prototype.getMeasures,HTextElement.prototype.createPathShape=ITextElement.prototype.createPathShape,HTextElement.prototype.createElements=function(){this.isMasked=this.checkMasks();var t=this.data.t.d,e=document.createElement("div");if(styleDiv(e),this.layerElement=e,this.isMasked){this.renderType="svg";var i=document.createElementNS(svgNS,"svg");this.cont=i,this.compW=this.comp.data?this.comp.data.w:this.globalData.compSize.w,this.compH=this.comp.data?this.comp.data.h:this.globalData.compSize.h,i.setAttribute("width",this.compW),i.setAttribute("height",this.compH);var n=document.createElementNS(svgNS,"g");i.appendChild(n),e.appendChild(i),this.maskedElement=n,this.innerElem=n}else this.renderType="html",this.innerElem=e;this.baseElement=e,this.innerElem.style.color=this.innerElem.style.fill=t.fc?"rgb("+Math.round(255*t.fc[0])+","+Math.round(255*t.fc[1])+","+Math.round(255*t.fc[2])+")":"rgba(0,0,0,0)",t.sc&&(this.innerElem.style.stroke="rgb("+Math.round(255*t.sc[0])+","+Math.round(255*t.sc[1])+","+Math.round(255*t.sc[2])+")",this.innerElem.style.strokeWidth=t.sw+"px");var r=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(this.innerElem.style.fontSize=t.s+"px",this.innerElem.style.lineHeight=t.s+"px",r.fClass)this.innerElem.className=r.fClass;else{this.innerElem.style.fontFamily=r.fFamily;var s=t.fWeight,o=t.fStyle;this.innerElem.style.fontStyle=o,this.innerElem.style.fontWeight=s}var a,h,l=t.l;h=l.length;var c,u,p,f,d=this.mHelper,m="";for(a=0;h>a;a+=1){if(this.globalData.fontManager.chars?(c=document.createElementNS(svgNS,"path"),this.isMasked||(u=document.createElement("div"),p=document.createElementNS(svgNS,"svg"),p.appendChild(c),styleDiv(u)),c.setAttribute("stroke-linecap","butt"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit","4")):this.isMasked?c=document.createElementNS(svgNS,"text"):(u=document.createElement("span"),styleDiv(u),c=document.createElement("span"),styleDiv(c),u.appendChild(c)),this.globalData.fontManager.chars){var y,g=this.globalData.fontManager.getCharData(t.t.charAt(a),r.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(y=g?g.data:null,d.reset(),y&&y.shapes&&(f=y.shapes[0].it,d.scale(t.s/100,t.s/100),m=this.createPathShape(d,f),c.setAttribute("d",m)),this.isMasked)this.innerElem.appendChild(c);else if(this.innerElem.appendChild(u),y&&y.shapes){document.body.appendChild(p);var v=p.getBBox();p.setAttribute("width",v.width),p.setAttribute("height",v.height),p.setAttribute("viewBox",v.x+" "+v.y+" "+v.width+" "+v.height),p.style.transform=p.style.webkitTransform="translate("+v.x+"px,"+v.y+"px)",l[a].yOffset=v.y,u.appendChild(p)}else p.setAttribute("width",1),p.setAttribute("height",1)}else c.textContent=l[a].val,c.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(c):(this.innerElem.appendChild(u),c.style.transform=c.style.webkitTransform="translate3d(0,"+-t.s/1.2+"px,0)");this.textSpans.push(this.isMasked?c:u),this.textPaths.push(c)}},HTextElement.prototype.hide=SVGTextElement.prototype.hide,HTextElement.prototype.renderFrame=function(t){var e=this._parent.renderFrame.call(this,t);if(e===!1)return void this.hide();if(this.hidden&&(this.hidden=!1,this.innerElem.style.display="block"),this.data.singleShape){if(!this.firstFrame)return;this.isMasked&&this.finalTransform.matMdf&&(this.cont.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.cont.style.transform=this.cont.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.getMeasures(),this.lettersChangedFlag){var i,n,r=this.renderedLetters,s=this.data.t.d.l;n=s.length;var o;for(i=0;n>i;i+=1)s[i].n||(o=r[i],this.isMasked?this.textSpans[i].setAttribute("transform",o.m):this.textSpans[i].style.transform=this.textSpans[i].style.webkitTransform=o.m,this.textSpans[i].style.opacity=o.o,o.sw&&this.textPaths[i].setAttribute("stroke-width",o.sw),o.sc&&this.textPaths[i].setAttribute("stroke",o.sc),o.fc&&(this.textPaths[i].setAttribute("fill",o.fc),this.textPaths[i].style.color=o.fc));if(this.isVisible&&(this.elemMdf||this.firstFrame)&&this.innerElem.getBBox){var a=this.innerElem.getBBox();this.currentBBox.w!==a.width&&(this.currentBBox.w=a.width,this.cont.setAttribute("width",a.width)),this.currentBBox.h!==a.height&&(this.currentBBox.h=a.height,this.cont.setAttribute("height",a.height)),(this.currentBBox.w!==a.width||this.currentBBox.h!==a.height||this.currentBBox.x!==a.x||this.currentBBox.y!==a.y)&&(this.currentBBox.w=a.width,this.currentBBox.h=a.height,this.currentBBox.x=a.x,this.currentBBox.y=a.y,this.cont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.cont.style.transform=this.cont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}this.firstFrame&&(this.firstFrame=!1)}},HTextElement.prototype.destroy=SVGTextElement.prototype.destroy,createElement(HBaseElement,HImageElement),HImageElement.prototype.createElements=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;if(this.data.hasMask){var i=document.createElement("div");styleDiv(i);var n=document.createElementNS(svgNS,"svg");n.setAttribute("width",this.assetData.w),n.setAttribute("height",this.assetData.h),i.appendChild(n),this.imageElem=document.createElementNS(svgNS,"image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),n.appendChild(this.imageElem),this.layerElement=i,this.baseElement=i,this.innerElem=i,this.maskedElement=this.imageElem}else styleDiv(e),this.layerElement=e,this.baseElement=e,this.innerElem=e;e.src=t,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.checkParenting()},HImageElement.prototype.hide=HSolidElement.prototype.hide,HImageElement.prototype.renderFrame=HSolidElement.prototype.renderFrame,HImageElement.prototype.destroy=HSolidElement.prototype.destroy,createElement(HBaseElement,HCameraElement),HCameraElement.prototype.setup=function(){var t,e,i=this.comp.threeDElements.length;for(t=0;i>t;t+=1)e=this.comp.threeDElements[t],e.perspectiveElem.style.perspective=e.perspectiveElem.style.webkitPerspective=this.pe.v+"px",e.container.style.transformOrigin=e.container.style.mozTransformOrigin=e.container.style.webkitTransformOrigin="0px 0px 0px",e.perspectiveElem.style.transform=e.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,i=this.firstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;e>t;t+=1)i=!!this.hierarchy[t].finalTransform.mProp.mdf||i;if(i||this.p&&this.p.mdf||this.px&&(this.px.mdf||this.py.mdf||this.pz.mdf)||this.rx.mdf||this.ry.mdf||this.rz.mdf||this.or.mdf||this.a&&this.a.mdf){if(this.mat.reset(),this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var n=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]],r=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)),s=[n[0]/r,n[1]/r,n[2]/r],o=Math.sqrt(s[2]*s[2]+s[0]*s[0]),a=Math.atan2(s[1],o),h=Math.atan2(s[0],-s[2]);this.mat.rotateY(h).rotateX(-a)}if(this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v),this.hierarchy){var l;for(e=this.hierarchy.length,t=0;e>t;t+=1)l=this.hierarchy[t].finalTransform.mProp.iv.props,this.mat.transform(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],-l[12],-l[13],l[14],l[15])}e=this.comp.threeDElements.length;var c;for(t=0;e>t;t+=1)c=this.comp.threeDElements[t],c.container.style.transform=c.container.style.webkitTransform=this.mat.toCSS()}this.firstFrame=!1},HCameraElement.prototype.destroy=function(){};var animationManager=function(){function t(e){var i=0,n=e.target;for(n.removeEventListener("destroy",t);E>i;)v[i].animation===n&&(v.splice(i,1),i-=1,E-=1),i+=1}function e(e,i){if(!e)return null;for(var n=0;E>n;){if(v[n].elem==e&&null!==v[n].elem)return v[n].animation;n+=1}var r=new AnimationItem;return r.setData(e,i),r.addEventListener("destroy",t),v.push({elem:e,animation:r}),E+=1,r}function i(e){var i=new AnimationItem;return i.setParams(e),i.addEventListener("destroy",t),v.push({elem:null,animation:i}),E+=1,i}function n(t,e){var i;for(i=0;E>i;i+=1)v[i].animation.setSpeed(t,e)}function r(t,e){var i;for(i=0;E>i;i+=1)v[i].animation.setDirection(t,e)}function s(t){var e;for(e=0;E>e;e+=1)v[e].animation.play(t)}function o(t,e){b=!1,_=Date.now();var i;for(i=0;E>i;i+=1)v[i].animation.moveFrame(t,e)}function a(t){var e,i=t-_;for(e=0;E>e;e+=1)v[e].animation.advanceTime(i);_=t,requestAnimationFrame(a)}function h(t){_=t,requestAnimationFrame(a)}function l(t){var e;for(e=0;E>e;e+=1)v[e].animation.pause(t)}function c(t,e,i){var n;for(n=0;E>n;n+=1)v[n].animation.goToAndStop(t,e,i)}function u(t){var e;for(e=0;E>e;e+=1)v[e].animation.stop(t)}function p(t){var e;for(e=0;E>e;e+=1)v[e].animation.togglePause(t)}function f(t){var e;for(e=0;E>e;e+=1)v[e].animation.destroy(t)}function d(t,i,n){var r,s=document.getElementsByClassName("bodymovin"),o=s.length;for(r=0;o>r;r+=1)n&&s[r].setAttribute("data-bm-type",n),e(s[r],t);if(i&&0===o){n||(n="svg");var a=document.getElementsByTagName("body")[0];a.innerHTML="";var h=document.createElement("div");h.style.width="100%",h.style.height="100%",h.setAttribute("data-bm-type",n),a.appendChild(h),e(h,t)}}function m(){var t;for(t=0;E>t;t+=1)v[t].animation.resize()}function y(){requestAnimationFrame(h)}var g={},v=[],_=0,b=!0,E=0;return setTimeout(y,0),g.registerAnimation=e,g.loadAnimation=i,g.setSpeed=n,g.setDirection=r,g.play=s,g.moveFrame=o,g.pause=l,g.stop=u,g.togglePause=p,g.searchAnimations=d,g.resize=m,g.start=y,g.goToAndStop=c,g.destroy=f,g}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.pendingElements=0,this.playCount=0,this.prerenderFramesFlag=!0,this.animationData={},this.layers=[],this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=randomString(10),this.scaleMode="fit",this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this.pendingSegment=!1,this.projectInterface=ProjectInterface()};AnimationItem.prototype.setParams=function(t){var e=this;t.context&&(this.context=t.context),(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var i=t.animType?t.animType:t.renderer?t.renderer:"svg";switch(i){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;case"hybrid":case"html":default:this.renderer=new HybridRenderer(this,t.rendererSettings)}if(this.renderer.setProjectInterface(this.projectInterface),this.animType=i,""===t.loop||null===t.loop||(this.loop=t.loop!==!1&&(t.loop===!0||parseInt(t.loop))),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.prerenderFramesFlag=!("prerender"in t)||t.prerender,this.autoloadSegments=!t.hasOwnProperty("autoloadSegments")||t.autoloadSegments,t.animationData)e.configAnimation(t.animationData);else if(t.path){"json"!=t.path.substr(-4)&&("/"!=t.path.substr(-1,1)&&(t.path+="/"),t.path+="data.json");var n=new XMLHttpRequest;this.path=-1!=t.path.lastIndexOf("\\")?t.path.substr(0,t.path.lastIndexOf("\\")+1):t.path.substr(0,t.path.lastIndexOf("/")+1),this.assetsPath=t.assetsPath,this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),n.open("GET",t.path,!0),n.send(),n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status)e.configAnimation(JSON.parse(n.responseText));else try{var t=JSON.parse(n.responseText);e.configAnimation(t)}catch(i){}}}},AnimationItem.prototype.setData=function(t,e){var i={wrapper:t,animationData:e?"object"==typeof e?e:JSON.parse(e):null},n=t.attributes;i.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",i.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:"canvas";var r=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";""===r||(i.loop="false"!==r&&("true"===r||parseInt(r)));var s=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;i.autoplay="false"!==s,i.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"";var o=n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"";"false"===o&&(i.prerender=!1),this.setParams(i)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip),this.animationData.tf=this.totalFrames);var e,i,n=this.animationData.layers,r=n.length,s=t.layers,o=s.length;for(i=0;o>i;i+=1)for(e=0;r>e;){if(n[e].id==s[i].id){n[e]=s[i];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(r=t.assets.length,e=0;r>e;e+=1)this.animationData.assets.push(t.assets[e]);dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.renderFrame(null),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.animationData.tf);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var i=new XMLHttpRequest,n=this,r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,i.open("GET",r,!0),i.send(),i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status)n.includeLayers(JSON.parse(i.responseText));else try{var t=JSON.parse(i.responseText);n.includeLayers(t)}catch(e){}}},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.animationData.tf),this.loadNextSegment()},AnimationItem.prototype.configAnimation=function(t){this.animationData=t,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.animationData.tf=this.totalFrames,this.renderer.configAnimation(t),t.assets||(t.assets=[]),t.comps&&(t.assets=t.assets.concat(t.comps),t.comps=null),this.renderer.searchExtraCompositions(t.assets),this.layers=this.animationData.layers,this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.trigger("config_ready"),this.imagePreloader=new ImagePreloader,this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(t.assets),this.loadSegments(),this.updaFrameModifier(),this.renderer.globalData.fontManager?this.waitForFontsLoaded():(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded())},AnimationItem.prototype.waitForFontsLoaded=function(){function t(){this.renderer.globalData.fontManager.loaded?(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()):setTimeout(t.bind(this),20)}return function(){t.bind(this)()}}(),AnimationItem.prototype.addPendingElement=function(){this.pendingElements+=1},AnimationItem.prototype.elementLoaded=function(){this.pendingElements--,this.checkLoaded()},AnimationItem.prototype.checkLoaded=function(){0===this.pendingElements&&(expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.isLoaded=!0,this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.subframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:Math.floor(this.currentRawFrame),this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){this.isLoaded!==!1&&this.renderer.renderFrame(this.currentFrame+this.firstFrame)},AnimationItem.prototype.play=function(t){t&&this.name!=t||this.isPaused===!0&&(this.isPaused=!1)},AnimationItem.prototype.pause=function(t){t&&this.name!=t||this.isPaused===!1&&(this.isPaused=!0)},AnimationItem.prototype.togglePause=function(t){t&&this.name!=t||(this.isPaused===!0?(this.isPaused=!1,this.play()):(this.isPaused=!0,this.pause()))},AnimationItem.prototype.stop=function(t){t&&this.name!=t||(this.isPaused=!0,this.currentFrame=this.currentRawFrame=0,this.playCount=0,this.gotoFrame())},AnimationItem.prototype.goToAndStop=function(t,e,i){i&&this.name!=i||(this.setCurrentRawFrameValue(e?t:t*this.frameModifier),this.isPaused=!0)},AnimationItem.prototype.goToAndPlay=function(t,e,i){this.goToAndStop(t,e,i),this.play()},AnimationItem.prototype.advanceTime=function(t){return this.pendingSegment?(this.pendingSegment=!1,this.adjustSegment(this.segments.shift()),void(this.isPaused&&this.play())):void(this.isPaused!==!0&&this.isLoaded!==!1&&this.setCurrentRawFrameValue(this.currentRawFrame+t*this.frameModifier))},AnimationItem.prototype.updateAnimation=function(t){this.setCurrentRawFrameValue(this.totalFrames*t)},AnimationItem.prototype.moveFrame=function(t,e){e&&this.name!=e||this.setCurrentRawFrameValue(this.currentRawFrame+t)},AnimationItem.prototype.adjustSegment=function(t){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),
this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.01)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameValue(0)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?i=t:this.currentRawFrame+this.firstFrame>e&&(i=e-t-.01)),this.firstFrame=t,this.totalFrames=e-t,-1!==i&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(t,e){if("object"==typeof t[0]){var i,n=t.length;for(i=0;n>i;i+=1)this.segments.push(t[i])}else this.segments.push(t);e&&this.adjustSegment(this.segments.shift()),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op-this.animationData.ip+this.animationData.ip*this.frameRate)]),t&&this.adjustSegment(this.segments.shift())},AnimationItem.prototype.checkSegments=function(){this.segments.length&&(this.pendingSegment=!0)},AnimationItem.prototype.remove=function(t){t&&this.name!=t||this.renderer.destroy()},AnimationItem.prototype.destroy=function(t){t&&this.name!=t||this.renderer&&this.renderer.destroyed||(this.renderer.destroy(),this.trigger("destroy"),this._cbs=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){if(this.currentRawFrame=t,this.currentRawFrame>=this.totalFrames){if(this.checkSegments(),this.loop===!1)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),void this.trigger("complete");if(this.trigger("loopComplete"),this.playCount+=1,this.loop!==!0&&this.playCount==this.loop||this.pendingSegment)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),void this.trigger("complete");this.currentRawFrame=this.currentRawFrame%this.totalFrames}else if(this.currentRawFrame<0)return this.checkSegments(),this.playCount-=1,this.playCount<0&&(this.playCount=0),this.loop===!1||this.pendingSegment?(this.currentRawFrame=0,this.gotoFrame(),this.pause(),void this.trigger("complete")):(this.trigger("loopComplete"),this.currentRawFrame=(this.totalFrames+this.currentRawFrame)%this.totalFrames,void this.gotoFrame());this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=0>t?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(this.assetsPath){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),e=this.assetsPath+i}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,i=this.assets.length;i>e;){if(t==this.assets[e].id)return this.assets[e];e+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getAssets=function(){return this.assets},AnimationItem.prototype.trigger=function(t){if(this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.addEventListener=_addEventListener,AnimationItem.prototype.removeEventListener=_removeEventListener,AnimationItem.prototype.triggerEvent=_triggerEvent;var Expressions=function(){function t(t){t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer)}var e={};return e.initExpressions=t,e}();expressionsPlugin=Expressions,function(){function t(){return this.pv}function e(t,e){var i,n,r=0,s=this.keyframes.length-1,o=1,a=!0;e=this.offsetTime||0;for(var h="object"==typeof this.pv?[this.pv.length]:0;a;){if(i=this.keyframes[r],n=this.keyframes[r+1],r==s-1&&t>=n.t-e){i.h&&(i=n);break}if(n.t-e>t)break;s-1>r?r+=o:a=!1}var l,c,u,p,f,d=0;if(i.to){i.bezierData||bez.buildBezierData(i);var m=i.bezierData;if(t>=n.t-e||t<i.t-e){var y=t>=n.t-e?m.points.length-1:0;for(c=m.points[y].point.length,l=0;c>l;l+=1)h[l]=m.points[y].point[l]}else{i.__fnct?f=i.__fnct:(f=BezierFactory.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y,i.n).get,i.__fnct=f),u=f((t-(i.t-e))/(n.t-e-(i.t-e)));var g,v=m.segmentLength*u,_=0;for(o=1,a=!0,p=m.points.length;a;){if(_+=m.points[d].partialLength*o,0===v||0===u||d==m.points.length-1){for(c=m.points[d].point.length,l=0;c>l;l+=1)h[l]=m.points[d].point[l];break}if(v>=_&&v<_+m.points[d+1].partialLength){for(g=(v-_)/m.points[d+1].partialLength,c=m.points[d].point.length,l=0;c>l;l+=1)h[l]=m.points[d].point[l]+(m.points[d+1].point[l]-m.points[d].point[l])*g;break}p-1>d&&1==o||d>0&&-1==o?d+=o:a=!1}}}else{var b,E,T,A,w,C=!1;for(s=i.s.length,r=0;s>r;r+=1){if(1!==i.h&&(i.o.x instanceof Array?(C=!0,i.__fnct||(i.__fnct=[]),i.__fnct[r]||(b=i.o.x[r]||i.o.x[0],E=i.o.y[r]||i.o.y[0],T=i.i.x[r]||i.i.x[0],A=i.i.y[r]||i.i.y[0])):(C=!1,i.__fnct||(b=i.o.x,E=i.o.y,T=i.i.x,A=i.i.y)),C?i.__fnct[r]?f=i.__fnct[r]:(f=BezierFactory.getBezierEasing(b,E,T,A).get,i.__fnct[r]=f):i.__fnct?f=i.__fnct:(f=BezierFactory.getBezierEasing(b,E,T,A).get,i.__fnct=f),u=t>=n.t-e?1:t<i.t-e?0:f((t-(i.t-e))/(n.t-e-(i.t-e)))),this.sh&&1!==i.h){var x=i.s[r],S=i.e[r];-180>x-S?x+=360:x-S>180&&(x-=360),w=x+(S-x)*u}else w=1===i.h?i.s[r]:i.s[r]+(i.e[r]-i.s[r])*u;1===s?h=w:h[r]=w}}return h}function i(t){if(void 0!==this.vel)return this.vel;var e=.01;t*=this.elem.globalData.frameRate;var i,n=this.getValueAtTime(t),r=this.getValueAtTime(t+e);if(n.length){i=Array.apply(null,{length:n.length});var s;for(s=0;s<n.length;s+=1)i[s]=this.elem.globalData.frameRate*((r[s]-n[s])/e)}else i=(r-n)/e;return i}function n(t){this.propertyGroup=t}function r(t,e,i){e.x&&(i.k=!0,i.x=!0,i.getValue&&(i.getPreValue=i.getValue),i.getValue=ExpressionManager.initiateExpression.bind(i)(t,e,i))}var s=function(){function s(t,e){return this.textIndex=t+1,this.textTotal=e,this.getValue(),this.v}return function(o,a){this.pv=1,this.comp=o.comp,this.elem=o,this.mult=.01,this.type="textSelector",this.textTotal=a.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],r.bind(this)(o,a,this),this.getMult=s,this.getVelocityAtTime=i,this.getValueAtTime=this.kf?e:t,this.setGroupProperty=n}}(),o=PropertyFactory.getProp;PropertyFactory.getProp=function(s,a,h,l,c){var u=o(s,a,h,l,c);u.getVelocityAtTime=i,u.getValueAtTime=u.kf?e:t,u.setGroupProperty=n;var p=u.k;return void 0!==a.ix&&Object.defineProperty(u,"propertyIndex",{get:function(){return a.ix}}),r(s,a,u),!p&&u.x&&c.push(u),u};var a=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,i,r,s){var o=a(t,e,i,r,s),h="tm"===o.ty?o.prop:o;return h.setGroupProperty=n,void 0!==e.ix&&Object.defineProperty(h,"propertyIndex",{get:function(){return e.ix}}),o};var h=PropertyFactory.getTextSelectorProp;PropertyFactory.getTextSelectorProp=function(t,e,i){return 1===e.t?new s(t,e,i):h(t,e,i)}}();var ExpressionManager=function(){function duplicatePropertyValue(t){if("number"==typeof t)return t;if(t.i)return JSON.parse(JSON.stringify(t));var e,i=Array.apply(null,{length:t.length}),n=t.length;for(e=0;n>e;e+=1)i[e]=t[e];return i}function $bm_neg(t){var e=typeof t;if("number"===e||"boolean"===e)return-t;if("object"===e){var i,n=t.length,r=[];for(i=0;n>i;i+=1)r[i]=-t[i];return r}}function sum(t,e){var i=typeof t,n=typeof e;if("string"===i||"string"===n)return t+e;if(!("number"!==i&&"boolean"!==i||"number"!==n&&"boolean"!==n))return t+e;if("object"===i&&("number"===n||"boolean"===n))return t[0]=t[0]+e,t;if(("number"===i||"boolean"===i)&&"object"===n)return e[0]=t+e[0],e;if("object"===i&&"object"===n){for(var r=0,s=t.length,o=e.length,a=[];s>r||o>r;)a[r]="number"==typeof t[r]&&"number"==typeof e[r]?t[r]+e[r]:void 0==e[r]?t[r]:t[r]||e[r],r+=1;return a}return 0}function sub(t,e){var i=typeof t,n=typeof e;if(!("number"!==i&&"boolean"!==i||"number"!==n&&"boolean"!==n))return t-e;if("object"===i&&("number"===n||"boolean"===n))return t[0]=t[0]-e,t;if(("number"===i||"boolean"===i)&&"object"===n)return e[0]=t-e[0],e;if("object"===i&&"object"===n){for(var r=0,s=t.length,o=e.length,a=[];s>r||o>r;)a[r]="number"==typeof t[r]&&"number"==typeof e[r]?t[r]-e[r]:void 0==e[r]?t[r]:t[r]||e[r],r+=1;return a}return 0}function mul(t,e){var i=typeof t,n=typeof e;if(!("number"!==i&&"boolean"!==i||"number"!==n&&"boolean"!==n))return t*e;var r,s;if("object"===i&&("number"===n||"boolean"===n)){for(s=t.length,arr=Array.apply(null,{length:s}),r=0;s>r;r+=1)arr[r]=t[r]*e;return arr}if(("number"===i||"boolean"===i)&&"object"===n){for(s=e.length,arr=Array.apply(null,{length:s}),r=0;s>r;r+=1)arr[r]=t*e[r];return arr}return 0}function div(t,e){var i=typeof t,n=typeof e;if(!("number"!==i&&"boolean"!==i||"number"!==n&&"boolean"!==n))return t/e;var r,s;if("object"===i&&("number"===n||"boolean"===n)){for(s=t.length,arr=Array.apply(null,{length:s}),r=0;s>r;r+=1)arr[r]=t[r]/e;return arr}if(("number"===i||"boolean"===i)&&"object"===n){for(s=e.length,arr=Array.apply(null,{length:s}),r=0;s>r;r+=1)arr[r]=t/e[r];return arr}return 0}function clamp(t,e,i){if(e>i){var n=i;i=e,e=n}return Math.min(Math.max(t,e),i)}function radiansToDegrees(t){return t/degToRads}function degreesToRadians(t){return t*degToRads}function length(t,e){e||(e=helperLengthArray);var i,n=Math.min(t.length,e.length),r=0;for(i=0;n>i;i+=1)r+=Math.pow(e[i]-t[i],2);return Math.sqrt(r)}function rgbToHsl(t){var e,i,n=t[0],r=t[1],s=t[2],o=Math.max(n,r,s),a=Math.min(n,r,s),h=(o+a)/2;if(o==a)e=i=0;else{var l=o-a;switch(i=h>.5?l/(2-o-a):l/(o+a),o){case n:e=(r-s)/l+(s>r?6:0);break;case r:e=(s-n)/l+2;break;case s:e=(n-r)/l+4}e/=6}return[e,i,h,t[3]]}function hslToRgb(t){function e(t,e,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?t+6*(e-t)*i:.5>i?e:2/3>i?t+(e-t)*(2/3-i)*6:t}var i,n,r,s=t[0],o=t[1],a=t[2];if(0==o)i=n=r=a;else{var h=.5>a?a*(1+o):a+o-a*o,l=2*a-h;i=e(l,h,s+1/3),n=e(l,h,s),r=e(l,h,s-1/3)}return[i,n,r,t[3]]}function linear(t,e,i,n,r){if(void 0===n||void 0===r)return linear(t,0,1,e,i);if(e>=t)return n;if(t>=i)return r;var s=i===e?0:t/(i-e);if(!n.length)return n+(r-n)*s;var o,a=n.length,h=Array.apply(null,{length:a});for(o=0;a>o;o+=1)h[o]=n[o]+(r[o]-n[o])*s;return h}function seedRandom(t){BMMath.seedrandom(t)}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var i,n=e.length;t||(t=Array.apply(null,{length:n}));var r=Array.apply(null,{length:n}),s=BMMath.random();for(i=0;n>i;i+=1)r[i]=t[i]+s*(e[i]-t[i]);return r}void 0===t&&(t=0);var o=BMMath.random();return t+o*(e-t)}function initiateExpression(elem,data,property){function lookAt(t,e){var i=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],n=Math.atan2(i[0],Math.sqrt(i[1]*i[1]+i[2]*i[2]))/degToRads,r=-Math.atan2(i[1],i[2])/degToRads;return[r,n,0]}function easeOut(t,e,i){return-(i-e)*t*(t-2)+e}function nearestKey(t){var e,i,n,r=data.k.length;if(data.k.length&&"number"!=typeof data.k[0]){for(i=-1,t*=elem.comp.globalData.frameRate,e=0;r-1>e;e+=1){if(t===data.k[e].t){i=e+1,n=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(i=e+2,n=data.k[e+1].t):(i=e+1,n=data.k[e].t);break}}-1===i&&(i=e+1,n=data.k[e].t)}else i=0,n=0;var s={};return s.index=i,s.time=n/elem.comp.globalData.frameRate,s}function key(t){if(!data.k.length||"number"==typeof data.k[0])return{time:0};t-=1;var e,i={time:data.k[t].t/elem.comp.globalData.frameRate};e=t===data.k.length-1?data.k[t-1].e:data.k[t].s;var n,r=e.length;for(n=0;r>n;n+=1)i[n]=e[n];return i}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function execute(){if(this.frameExpressionId!==elem.globalData.frameId||"textSelector"===this.type){if(this.lock)return this.v=duplicatePropertyValue(this.pv),!0;"textSelector"===this.type&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),transform||(transform=elem.transform),thisLayer||(thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!(!elem.hierarchy||!elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[elem.hierarchy.length-1].layerInterface),this.lock=!0,this.getPreValue&&this.getPreValue(),value=this.pv,time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),bindedFn(),this.frameExpressionId=elem.globalData.frameId;var t,e;if(this.mult)if("number"==typeof this.v)this.v*=this.mult;else for(e=this.v.length,value===this.v&&(this.v=2===e?[value[0],value[1]]:[value[0],value[1],value[2]]),t=0;e>t;t+=1)this.v[t]*=this.mult;if("number"==typeof this.v)this.lastValue!==this.v&&(this.lastValue=this.v,this.mdf=!0);else if(this.v.i)this.mdf=!0;else for(e=this.v.length,t=0;e>t;t+=1)this.v[t]!==this.lastValue[t]&&(this.lastValue[t]=this.v[t],this.mdf=!0);this.lock=!1}}var val=data.x,needsVelocity=-1!==val.indexOf("velocity"),elemType=elem.data.ty,transform,content,effect,thisComp=elem.comp,thisProperty=property;elem.comp.frameDuration=1/elem.comp.globalData.frameRate;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,thisLayer,thisComp,fnStr="var fn = function(){"+val+";this.v = $bm_rt;}";eval(fnStr);var bindedFn=fn.bind(this),numKeys=data.k?data.k.length:0,wiggle=function(t,e){var i,n,r=this.pv.length?this.pv.length:1,s=Array.apply(null,{len:r});for(n=0;r>n;n+=1)s[n]=0;t=5;var o=Math.floor(time*t);for(i=0,n=0;o>i;){for(n=0;r>n;n+=1)s[n]+=-e+2*e*BMMath.random();i+=1}var a=time*t,h=a-Math.floor(a),l=Array.apply({length:r});for(n=0;r>n;n+=1)l[n]=this.pv[n]+s[n]+(-e+2*e*BMMath.random())*h;return l}.bind(this),loopIn=function(t,e,i){if(!this.k)return this.pv;var n=time*elem.comp.globalData.frameRate,r=this.keyframes,s=r[0].t;if(n>=s)return this.pv;var o,a;i?(o=e?Math.abs(elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-s),a=s+o):((!e||e>r.length-1)&&(e=r.length-1),a=r[e].t,o=a-s);var h,l,c;if("pingpong"===t){var u=Math.floor((s-n)/o);if(u%2===0)return this.getValueAtTime((s-n)%o+s)}else{if("offset"===t){var p=this.getValueAtTime(s),f=this.getValueAtTime(a),d=this.getValueAtTime(o-(s-n)%o+s),m=Math.floor((s-n)/o)+1;if(this.pv.length){for(c=new Array(p.length),l=c.length,h=0;l>h;h+=1)c[h]=d[h]-(f[h]-p[h])*m;return c}return d-(f-p)*m}if("continue"===t){var y=this.getValueAtTime(s),g=this.getValueAtTime(s+.001);if(this.pv.length){for(c=new Array(y.length),l=c.length,h=0;l>h;h+=1)c[h]=y[h]+(y[h]-g[h])*(s-n)/5e-4;return c}return y+(y-g)*(s-n)/5e-4}}return this.getValueAtTime(o-(s-n)%o+s)}.bind(this),loopInDuration=function(t,e){return loopIn(t,e,!0)}.bind(this),loopOut=function(t,e,i){if(!this.k)return this.pv;var n=time*elem.comp.globalData.frameRate,r=this.keyframes,s=r[r.length-1].t;if(s>=n)return this.pv;var o,a;i?(o=e?Math.abs(s-elem.comp.globalData.frameRate*e):Math.max(0,s-this.elem.data.ip),a=s-o):((!e||e>r.length-1)&&(e=r.length-1),a=r[r.length-1-e].t,o=s-a);var h,l,c;if("pingpong"===t){var u=Math.floor((n-a)/o);if(u%2!==0)return this.getValueAtTime(o-(n-a)%o+a)}else{if("offset"===t){var p=this.getValueAtTime(a),f=this.getValueAtTime(s),d=this.getValueAtTime((n-a)%o+a),m=Math.floor((n-a)/o);if(this.pv.length){for(c=new Array(p.length),l=c.length,h=0;l>h;h+=1)c[h]=(f[h]-p[h])*m+d[h];return c}return(f-p)*m+d}if("continue"===t){var y=this.getValueAtTime(s),g=this.getValueAtTime(s-.001);if(this.pv.length){for(c=new Array(y.length),l=c.length,h=0;l>h;h+=1)c[h]=y[h]+(y[h]-g[h])*(n-s)/5e-4;return c}return y+(y-g)*(n-s)/5e-4}}return this.getValueAtTime((n-a)%o+a)}.bind(this),loop_out=loopOut,loopOutDuration=function(t,e){return loopOut(t,e,!0)}.bind(this),valueAtTime=function(t){return this.getValueAtTime(t*elem.comp.globalData.frameRate)}.bind(this),velocityAtTime=function(t){return this.getVelocityAtTime(t)}.bind(this),comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,textIndex,textTotal,selectorValue,index=elem.data.ind+1,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent;return execute}var ob={},Math=BMMath,radians_to_degrees=radiansToDegrees,degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];return ob.initiateExpression=initiateExpression,ob}(),ShapeExpressionInterface=function(){function t(t,e,i){return u(t,e,i)}function e(t,e,i){return f(t,e,i)}function i(t,e,i){return d(t,e,i)}function n(t,e,i){return m(t,e,i)}function r(t,e,i){return y(t,e,i)}function s(t,e,i){return g(t,e,i)}function o(t,e,i){return v(t,e,i)}function a(t,e,i){return _(t,e,i)}function h(t,e,i){return b(t,e,i)}function l(t,e,i){var n,r=[],s=t?t.length:0;for(n=0;s>n;n+=1)"gr"==t[n].ty?r.push(ShapeExpressionInterface.createGroupInterface(t[n],e[n],i)):"fl"==t[n].ty?r.push(ShapeExpressionInterface.createFillInterface(t[n],e[n],i)):"st"==t[n].ty?r.push(ShapeExpressionInterface.createStrokeInterface(t[n],e[n],i)):"tm"==t[n].ty?r.push(ShapeExpressionInterface.createTrimInterface(t[n],e[n],i)):"tr"==t[n].ty||("el"==t[n].ty?r.push(ShapeExpressionInterface.createEllipseInterface(t[n],e[n],i)):"sr"==t[n].ty?r.push(ShapeExpressionInterface.createStarInterface(t[n],e[n],i)):"sh"==t[n].ty&&r.push(ShapeExpressionInterface.createPathInterface(t[n],e[n],i)));return r}var c={createShapeInterface:t,createGroupInterface:e,createTrimInterface:r,createStrokeInterface:n,createTransformInterface:s,createEllipseInterface:o,createStarInterface:a,createPathInterface:h,createFillInterface:i},u=function(){return function(t,e,i){function n(t){if("number"==typeof t)return r[t-1];for(var e=0,i=r.length;i>e;){if(r[e]._name===t)return r[e];e+=1}}var r;return n.propertyGroup=i,r=l(t,e,n),n}}(),p=function(){return function(t,e,i){var n,r=function(t){if("number"==typeof t)return n[t-1];for(var e=0,i=n.length;i>e;){if(n[e]._name===t)return n[e];e+=1}};return r.propertyGroup=function(t){return 1===t?r:i(t-1)},n=l(t.it,e.it,r.propertyGroup),r}}(),f=function(){return function(t,e,i){var n=function(t){switch(t){case"ADBE Vectors Group":case 2:return n.content;case"ADBE Vector Transform Group":case 3:default:return n.transform}};n.propertyGroup=function(t){return 1===t?n:i(t-1)};var r=p(t,e,n.propertyGroup),s=ShapeExpressionInterface.createTransformInterface(t.it[t.it.length-1],e.it[e.it.length-1],n.propertyGroup);return n.content=r,n.transform=s,Object.defineProperty(n,"_name",{get:function(){return t.nm}}),n.nm=t.nm,n}}(),d=function(){return function(t,e,i){e.c.setGroupProperty(i),e.o.setGroupProperty(i);var n={get color(){return e.c.k&&e.c.getValue(),[e.c.v[0]/e.c.mult,e.c.v[1]/e.c.mult,e.c.v[2]/e.c.mult,1]},get opacity(){return e.o.k&&e.o.getValue(),e.o.v},_name:t.nm};return n}}(),m=function(){return function(t,e,i){function n(t){return 1===t?r:i(t-1)}e.c.setGroupProperty(n),e.o.setGroupProperty(n),e.w.setGroupProperty(n);var r={get color(){return e.c.k&&e.c.getValue(),[e.c.v[0]/e.c.mult,e.c.v[1]/e.c.mult,e.c.v[2]/e.c.mult,1]},get opacity(){return e.o.k&&e.o.getValue(),e.o.v},get strokeWidth(){return e.w.k&&e.w.getValue(),e.w.v},dashOb:{},get dash(){var n,r=e.d,s=t.d,o=s.length;for(n=0;o>n;n+=1)r.dataProps[n].p.k&&r.dataProps[n].p.getValue(),r.dataProps[n].p.setGroupProperty(i),this.dashOb[s[n].nm]=r.dataProps[n].p.v;return this.dashOb},_name:t.nm};return r}}(),y=function(){return function(t,e,i){function n(t){return 1==t?r:i(--t)}function r(e){return e===t.e.ix?r.end:e===t.s.ix?r.start:e===t.o.ix?r.offset:void 0}return n.propertyIndex=t.ix,e.s.setGroupProperty(n),e.e.setGroupProperty(n),e.o.setGroupProperty(n),r.propertyIndex=t.ix,Object.defineProperty(r,"start",{get:function(){return e.s.k&&e.s.getValue(),e.s.v/e.s.mult}}),Object.defineProperty(r,"end",{get:function(){return e.e.k&&e.e.getValue(),e.e.v/e.e.mult}}),Object.defineProperty(r,"offset",{get:function(){return e.o.k&&e.o.getValue(),e.o.v}}),Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r}}(),g=function(){return function(t,e,i){function n(t){return 1==t?r:i(--t)}function r(e){return t.a.ix===e?r.anchorPoint:t.o.ix===e?r.opacity:t.p.ix===e?r.position:t.r.ix===e?r.rotation:t.s.ix===e?r.scale:t.sk&&t.sk.ix===e?r.skew:t.sa&&t.sa.ix===e?r.skewAxis:void 0}e.transform.mProps.o.setGroupProperty(n),e.transform.mProps.p.setGroupProperty(n),e.transform.mProps.a.setGroupProperty(n),e.transform.mProps.s.setGroupProperty(n),e.transform.mProps.r.setGroupProperty(n),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(n),e.transform.mProps.sa.setGroupProperty(n)),e.transform.op.setGroupProperty(n),Object.defineProperty(r,"opacity",{get:function(){return e.transform.mProps.o.k&&e.transform.mProps.o.getValue(),e.transform.mProps.o.v/e.transform.mProps.o.mult}}),Object.defineProperty(r,"position",{get:function(){return e.transform.mProps.p.k&&e.transform.mProps.p.getValue(),[e.transform.mProps.p.v[0],e.transform.mProps.p.v[1]]}}),Object.defineProperty(r,"anchorPoint",{get:function(){return e.transform.mProps.a.k&&e.transform.mProps.a.getValue(),[e.transform.mProps.a.v[0],e.transform.mProps.a.v[1]]}});var s=[];return Object.defineProperty(r,"scale",{get:function(){return e.transform.mProps.s.k&&e.transform.mProps.s.getValue(),s[0]=e.transform.mProps.s.v[0]/e.transform.mProps.s.mult,s[1]=e.transform.mProps.s.v[1]/e.transform.mProps.s.mult,s}}),Object.defineProperty(r,"rotation",{get:function(){return e.transform.mProps.r.k&&e.transform.mProps.r.getValue(),e.transform.mProps.r.v/e.transform.mProps.r.mult}}),Object.defineProperty(r,"skew",{get:function(){return e.transform.mProps.sk.k&&e.transform.mProps.sk.getValue(),e.transform.mProps.sk.v}}),Object.defineProperty(r,"skewAxis",{get:function(){return e.transform.mProps.sa.k&&e.transform.mProps.sa.getValue(),e.transform.mProps.sa.v}}),Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.ty="tr",r}}(),v=function(){return function(t,e,i){function n(t){return 1==t?n:i(--t)}function r(e){return t.p.ix===e?r.position:t.s.ix===e?r.size:void 0}n.propertyIndex=t.ix;var s="tm"===e.sh.ty?e.sh.prop:e.sh;return s.s.setGroupProperty(n),s.p.setGroupProperty(n),Object.defineProperty(r,"size",{get:function(){return s.s.k&&s.s.getValue(),[s.s.v[0],s.s.v[1]]}}),Object.defineProperty(r,"position",{get:function(){return s.p.k&&s.p.getValue(),[s.p.v[0],s.p.v[1]]}}),Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r}}(),_=function(){return function(t,e,i){function n(t){return 1==t?n:i(--t)}function r(e){return t.p.ix===e?r.position:t.r.ix===e?r.rotation:t.pt.ix===e?r.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?r.outerRadius:t.os.ix===e?r.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?r.innerRoundness:void 0:r.innerRadius}var s="tm"===e.sh.ty?e.sh.prop:e.sh;return n.propertyIndex=t.ix,s.or.setGroupProperty(n),s.os.setGroupProperty(n),s.pt.setGroupProperty(n),s.p.setGroupProperty(n),s.r.setGroupProperty(n),t.ir&&(s.ir.setGroupProperty(n),s.is.setGroupProperty(n)),Object.defineProperty(r,"position",{get:function(){return s.p.k&&s.p.getValue(),s.p.v}}),Object.defineProperty(r,"rotation",{get:function(){return s.r.k&&s.r.getValue(),s.r.v/s.r.mult}}),Object.defineProperty(r,"points",{get:function(){return s.pt.k&&s.pt.getValue(),s.pt.v}}),Object.defineProperty(r,"outerRadius",{get:function(){return s.or.k&&s.or.getValue(),s.or.v}}),Object.defineProperty(r,"outerRoundness",{get:function(){return s.os.k&&s.os.getValue(),s.os.v/s.os.mult}}),Object.defineProperty(r,"innerRadius",{get:function(){return s.ir?(s.ir.k&&s.ir.getValue(),s.ir.v):0}}),Object.defineProperty(r,"innerRoundness",{get:function(){return s.is?(s.is.k&&s.is.getValue(),s.is.v/s.is.mult):0}}),Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r}}(),b=function(){return function(t,e,i){var n="tm"===e.sh.ty?e.sh.prop:e.sh;n.setGroupProperty(i);var r={get shape(){return n.k&&n.getValue(),n.v},get path(){return n.k&&n.getValue(),n.v},_name:t.nm};return r}}();return c}(),LayerExpressionInterface=function(){function t(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;n>i;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(e);return e.applyToPointArray(t[0],t[1],t[2]||0)}return e.applyToPointArray(t[0],t[1],t[2]||0)}return function(e){function i(t){r.mask=t.getMask.bind(t)}function n(t){r.effect=t}function r(t){switch(t){case"ADBE Root Vectors Group":case 2:return r.shapeInterface;case"Transform":case"transform":case"ADBE Transform Group":return s;case 4:return r.effect}}var s=TransformExpressionInterface(e.transform);return r.toWorld=t,r.toComp=t,r._elem=e,Object.defineProperty(r,"hasParent",{get:function(){return!!e.hierarchy}}),Object.defineProperty(r,"parent",{get:function(){return e.hierarchy[0].layerInterface}}),Object.defineProperty(r,"rotation",{get:function(){return s.rotation}}),Object.defineProperty(r,"scale",{get:function(){return s.scale}}),Object.defineProperty(r,"position",{get:function(){return s.position}}),Object.defineProperty(r,"anchorPoint",{get:function(){return s.anchorPoint}}),Object.defineProperty(r,"transform",{get:function(){return s}}),Object.defineProperty(r,"_name",{value:e.data.nm}),Object.defineProperty(r,"content",{get:function(){return r.shapeInterface}}),r.active=!0,r.registerMaskInterface=i,r.registerEffectsInterface=n,r}}(),CompExpressionInterface=function(){return function(t){function e(e){for(var i=0,n=t.layers.length;n>i;){if(t.layers[i].nm===e)return t.elements[i].layerInterface;i+=1}}return e.layer=e,e.pixelAspect=1,e.height=t.globalData.compSize.h,e.width=t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e}}(),TransformExpressionInterface=function(){return function(t){function e(i){switch(i){case"scale":case"Scale":case"ADBE Scale":return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":return e.rotation;case"position":case"Position":case"ADBE Position":return t.position;case"anchorPoint":case"AnchorPoint":case"ADBE AnchorPoint":return e.anchorPoint}}return Object.defineProperty(e,"rotation",{get:function(){return t.rotation}}),Object.defineProperty(e,"scale",{get:function(){var e,i=t.scale,n=i.length,r=Array.apply(null,{length:n});for(e=0;n>e;e+=1)r[e]=100*i[e];return r}}),Object.defineProperty(e,"position",{get:function(){return t.position}}),Object.defineProperty(e,"anchorPoint",{get:function(){return t.anchorPoint}}),e}}(),ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,i=this.compositions.length;i>e;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(t,i){if(t.effects){var n,r=[],s=t.data.ef,o=t.effects.effectElements.length;for(n=0;o>n;n+=1)r.push(e(s[n],t.effects.effectElements[n],i));return function(e){for(var i=t.data.ef,n=0,s=i.length;s>n;){if(e===i[n].nm||e===i[n].ix)return r[n];n+=1}}}}function e(t,n,r){var s,o=[],a=t.ef.length;for(s=0;a>s;s+=1)o.push(5===t.ef.ty?e(t.ef[s],n.effectElements[s],r):i(n.effectElements[s]));return function(e){for(var i=t.ef,n=0,r=i.length;r>n;){if(e===i[n].nm||e===i[n].mn||e===i[n].ix)return 5===i[n].ty?o[n]:o[n]();n+=1}return o[0]()}}function i(t){return function(){if(t.p.k&&t.p.getValue(),"number"==typeof t.p.v)return t.p.v;var e,i=t.p.v.length,n=Array.apply(null,{length:i});for(e=0;i>e;e+=1)n[e]=t.p.v[e];return n}}var n={createEffectsInterface:t};return n}();GroupEffect.prototype.getValue=function(){this.mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;e>t;t+=1)this.dynamicProperties[t].getValue(),this.mdf=!!this.dynamicProperties[t].mdf||this.mdf},GroupEffect.prototype.init=function(t,e,i){this.data=t,this.mdf=!1,this.effectElements=[];var n,r,s=this.data.ef.length,o=this.data.ef;for(n=0;s>n;n+=1)switch(o[n].ty){case 0:r=new SliderEffect(o[n],e,i),this.effectElements.push(r);break;case 1:r=new AngleEffect(o[n],e,i),this.effectElements.push(r);break;case 2:r=new ColorEffect(o[n],e,i),this.effectElements.push(r);break;case 3:r=new PointEffect(o[n],e,i),this.effectElements.push(r);break;case 4:case 7:r=new CheckboxEffect(o[n],e,i),this.effectElements.push(r);break;case 5:r=new EffectsManager(o[n],e,i),this.effectElements.push(r);break;case 6:r=new NoValueEffect(o[n],e,i),this.effectElements.push(r)}};var bodymovinjs={};bodymovinjs.play=play,bodymovinjs.pause=pause,bodymovinjs.togglePause=togglePause,bodymovinjs.setSpeed=setSpeed,bodymovinjs.setDirection=setDirection,bodymovinjs.stop=stop,bodymovinjs.moveFrame=moveFrame,bodymovinjs.searchAnimations=searchAnimations,bodymovinjs.registerAnimation=registerAnimation,bodymovinjs.loadAnimation=loadAnimation,bodymovinjs.setSubframeRendering=setSubframeRendering,bodymovinjs.resize=resize,bodymovinjs.start=start,bodymovinjs.goToAndStop=goToAndStop,bodymovinjs.destroy=destroy,bodymovinjs.setQuality=setQuality,bodymovinjs.installPlugin=installPlugin,bodymovinjs.__getFactory=getFactory,bodymovinjs.version="4.4.14";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index],queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return bodymovinjs})},function(t,e,i){"use strict";var n,r,s,o,a,h,l,c=i(65),u=i(78),p=Function.prototype.apply,f=Function.prototype.call,d=Object.create,m=Object.defineProperty,y=Object.defineProperties,g=Object.prototype.hasOwnProperty,v={configurable:!0,enumerable:!1,writable:!0};n=function(t,e){var i;return u(e),g.call(this,"__ee__")?i=this.__ee__:(i=v.value=d(null),m(this,"__ee__",v),v.value=null),i[t]?"object"==typeof i[t]?i[t].push(e):i[t]=[i[t],e]:i[t]=e,this},r=function(t,e){var i,r;return u(e),r=this,n.call(this,t,i=function(){s.call(r,t,i),p.call(e,this,arguments)}),i.__eeOnceListener__=e,this},s=function(t,e){var i,n,r,s;if(u(e),!g.call(this,"__ee__"))return this;if(i=this.__ee__,!i[t])return this;if(n=i[t],"object"==typeof n)for(s=0;r=n[s];++s)r!==e&&r.__eeOnceListener__!==e||(2===n.length?i[t]=n[s?0:1]:n.splice(s,1));else n!==e&&n.__eeOnceListener__!==e||delete i[t];return this},o=function(t){var e,i,n,r,s;if(g.call(this,"__ee__")&&(r=this.__ee__[t]))if("object"==typeof r){for(i=arguments.length,s=new Array(i-1),e=1;e<i;++e)s[e-1]=arguments[e];for(r=r.slice(),e=0;n=r[e];++e)p.call(n,this,s)}else switch(arguments.length){case 1:f.call(r,this);break;case 2:f.call(r,this,arguments[1]);break;case 3:f.call(r,this,arguments[1],arguments[2]);
break;default:for(i=arguments.length,s=new Array(i-1),e=1;e<i;++e)s[e-1]=arguments[e];p.call(r,this,s)}},a={on:n,once:r,off:s,emit:o},h={on:c(n),once:c(r),off:c(s),emit:c(o)},l=y({},h),t.exports=e=function(t){return null==t?d(l):y(Object(t),h)},e.methods=a},function(t,e,i){"use strict";var n,r=i(66),s=i(73),o=i(74),a=i(75);n=t.exports=function(t,e){var i,n,o,h,l;return arguments.length<2||"string"!=typeof t?(h=e,e=t,t=null):h=arguments[2],null==t?(i=o=!0,n=!1):(i=a.call(t,"c"),n=a.call(t,"e"),o=a.call(t,"w")),l={value:e,configurable:i,enumerable:n,writable:o},h?r(s(h),l):l},n.gs=function(t,e,i){var n,h,l,c;return"string"!=typeof t?(l=i,i=e,e=t,t=null):l=arguments[3],null==e?e=void 0:o(e)?null==i?i=void 0:o(i)||(l=i,i=void 0):(l=e,e=i=void 0),null==t?(n=!0,h=!1):(n=a.call(t,"c"),h=a.call(t,"e")),c={get:e,set:i,configurable:n,enumerable:h},l?r(s(l),c):c}},function(t,e,i){"use strict";t.exports=i(67)()?Object.assign:i(68)},function(t,e){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,i){"use strict";var n=i(69),r=i(72),s=Math.max;t.exports=function(t,e){var i,o,a,h=s(arguments.length,2);for(t=Object(r(t)),a=function(n){try{t[n]=e[n]}catch(r){i||(i=r)}},o=1;o<h;++o)e=arguments[o],n(e).forEach(a);if(void 0!==i)throw i;return t}},function(t,e,i){"use strict";t.exports=i(70)()?Object.keys:i(71)},function(t,e){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e){"use strict";var i=Object.keys;t.exports=function(t){return i(null==t?t:Object(t))}},function(t,e){"use strict";t.exports=function(t){if(null==t)throw new TypeError("Cannot use null or undefined");return t}},function(t,e){"use strict";var i=Array.prototype.forEach,n=Object.create,r=function(t,e){var i;for(i in t)e[i]=t[i]};t.exports=function(t){var e=n(null);return i.call(arguments,function(t){null!=t&&r(Object(t),e)}),e}},function(t,e){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e,i){"use strict";t.exports=i(76)()?String.prototype.contains:i(77)},function(t,e){"use strict";var i="razdwatrzy";t.exports=function(){return"function"==typeof i.contains&&(i.contains("dwa")===!0&&i.contains("foo")===!1)}},function(t,e){"use strict";var i=String.prototype.indexOf;t.exports=function(t){return i.call(this,t,arguments[1])>-1}},function(t,e){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e){function i(t,e,i){var n=document.createElement("source");n.src=i,n.type="video/"+e,t.appendChild(n)}var n={Android:/Android/gi.test(navigator.userAgent),iOS:/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)},r={WebM:"data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=",MP4:"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAG21kYXQAAAGzABAHAAABthADAowdbb9/AAAC6W1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIVdHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAIAAAACAAAAAABsW1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAAA+gAAAAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAVxtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEcc3RibAAAALhzdHNkAAAAAAAAAAEAAACobXA0dgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAIAAgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAFJlc2RzAAAAAANEAAEABDwgEQAAAAADDUAAAAAABS0AAAGwAQAAAbWJEwAAAQAAAAEgAMSNiB9FAEQBFGMAAAGyTGF2YzUyLjg3LjQGAQIAAAAYc3R0cwAAAAAAAAABAAAAAQAAAAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAAEwAAAAEAAAAUc3RjbwAAAAAAAAABAAAALAAAAGB1ZHRhAAAAWG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAK2lsc3QAAAAjqXRvbwAAABtkYXRhAAAAAQAAAABMYXZmNTIuNzguMw=="},s=function(){return n.iOS?this.noSleepTimer=null:n.Android&&(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("loop",""),i(this.noSleepVideo,"webm",r.WebM),i(this.noSleepVideo,"mp4",r.MP4)),this};s.prototype.enable=function(t){n.iOS?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location.href="/",window.setTimeout(window.stop,0)},t||15e3)):n.Android&&this.noSleepVideo.play()},s.prototype.disable=function(){n.iOS?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):n.Android&&this.noSleepVideo.pause()},t.exports=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(81),a=n(o),h=i(27),l=n(h),c=i(5),u=i(16),p=n(u),f=function(){function t(e){r(this,t),this.emitter=e,this.callbacks={},this.opponentConnected=!1,this.latency=100,this.conn=null,this.isHost=void 0,this.pingNumber=0,this.pingInterval=null,this.availableServers=["138.68.98.41:6020","52.57.135.84:6020"],this.pings={},this.roundTripTimes=[]}return s(t,[{key:"setCallbacks",value:function(t){this.callbacks=t}},{key:"pingServer",value:function(t){var e=this;return new Promise(function(i,n){var r=(0,a["default"])(e.availableServers[t]);r.on("error",function(t){}),r.on("connectionStateChanged",function(e){r.close(),i(t)}),setTimeout(5e3,function(){n("timeout")})})}},{key:"chooseClosestServer",value:function(){var t=this;return new Promise(function(e,i){Promise.race(t.availableServers.map(function(e,i){return t.pingServer(i)})).then(function(e){return t.chosenServer=e,console.log("fastest response from: "+t.availableServers[e]),t.connectToServer(t.availableServers[e])}).then(function(){(0,p["default"])(".opponent-connected").text("Waiting for opponent"),e()})["catch"](function(t){i(t)})})}},{key:"connectToServer",value:function(t){var e=this;return new Promise(function(i,n){e.client=(0,a["default"])(t,{mergeStrategy:a["default"].MERGE_STRATEGIES.REMOTE_WINS}),e.client.login(),e.client.on("connectionStateChanged",function(t){t===a["default"].CONSTANTS.CONNECTION_STATE.OPEN&&i(),t===a["default"].CONSTANTS.CONNECTION_STATE.ERROR&&n("error")}),setTimeout(2e3,function(){n("timeout")})})}},{key:"tryConnecting",value:function(t){var e=this;return new Promise(function(i,n){var r=parseInt(t[0]);e.connectToServer(e.availableServers[r]).then(function(){e.GAME_ID=t,e.isHost=!1,e.setRecords(),e.startListening(),e.statusRecord.set("player-2",{action:c.ACTION.CONNECT}),setTimeout(e.sendPings.bind(e),1e3),i()})["catch"](function(t){n(t)})})}},{key:"openRoom",value:function(){return this.isHost=!0,this.GAME_ID=this.chosenServer+l["default"].generate({length:3,capitalization:"uppercase",readable:!0}),this.setRecords(),this.startListening(),this.GAME_ID}},{key:"setRecords",value:function(){this.statusRecord=this.client.record.getRecord(this.GAME_ID+"-status"),this.paddle1Record=this.client.record.getRecord(this.GAME_ID+"-paddle1"),this.paddle2Record=this.client.record.getRecord(this.GAME_ID+"-paddle2"),this.hitRecord=this.client.record.getRecord(this.GAME_ID+"-hit"),this.missRecord=this.client.record.getRecord(this.GAME_ID+"-miss"),this.pingRecord=this.client.record.getRecord(this.GAME_ID+"-ping")}},{key:"sendPings",value:function(){var t=this;this.pingInterval=setInterval(function(){t.pings[t.pingNumber]=Date.now(),t.pingRecord.set("player-"+(t.isHost?1:2)+"-ping-"+t.pingNumber,{index:t.pingNumber,ping:!0}),t.pingNumber++,t.pingNumber>=20&&clearInterval(t.pingInterval)},1e3)}},{key:"receivedPong",value:function(t){var e=Date.now()-this.pings[t.index];this.roundTripTimes.push(e),this.roundTripTimes.sort(function(t,e){return t-e}),this.latency=this.roundTripTimes[Math.floor(this.roundTripTimes.length/2)]/2}},{key:"startListening",value:function(){var t=this;this.statusRecord.subscribe("player-"+(this.isHost?2:1),function(e){switch(e.action){case c.ACTION.CONNECT:setTimeout(t.sendPings.bind(t),1e3),t.emitter.emit(c.EVENT.OPPONENT_CONNECTED);break;case c.ACTION.DISCONNECT:t.emitter.emit(c.EVENT.OPPONENT_DISCONNECTED);break;case c.ACTION.REQUEST_COUNTDOWN:t.callbacks.requestCountdown();break;case c.ACTION.RESTART_GAME:t.callbacks.restartGame()}}),this.isHost?this.paddle2Record.subscribe("position",function(e){t.callbacks.move(e)}):this.paddle1Record.subscribe("position",function(e){t.callbacks.move(e)}),this.hitRecord.subscribe("player-"+(this.isHost?2:1),function(e){t.callbacks.hit(e)}),this.missRecord.subscribe("player-"+(this.isHost?2:1),function(e){t.callbacks.miss(e)});for(var e=0;e<20;e++)this.pingRecord.subscribe("player-"+(this.isHost?2:1)+"-ping-"+e,function(e){e.ping?t.pingRecord.set("player-"+(t.isHost?1:2)+"-ping-"+e.index,{index:e.index,pong:!0}):t.receivedPong(e)})}},{key:"sendMove",value:function(t,e){this.isHost?this.paddle1Record.set("position",{position:t,rotation:e}):this.paddle2Record.set("position",{position:t,rotation:e})}},{key:"sendHit",value:function(t,e){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];this.hitRecord.set("player-"+(this.isHost?1:2),{point:t,velocity:e,addBall:i})}},{key:"sendMiss",value:function(t,e,i){this.missRecord.set("player-"+(this.isHost?1:2),{point:t,velocity:e,ballHasHitEnemyTable:i})}},{key:"sendRestartGame",value:function(){this.statusRecord.set("player-"+(this.isHost?1:2),{action:c.ACTION.RESTART_GAME})}},{key:"sendRequestCountdown",value:function(){this.statusRecord.set("player-"+(this.isHost?1:2),{action:c.ACTION.REQUEST_COUNTDOWN})}}]),t}();e["default"]=f},function(t,e,i){function n(t,e){return new f(t,e)}var r=i(82),s=i(83),o=i(84),a=i(85),h=i(128),l=i(132),c=i(135),u=i(141),p=i(144),f=function(t,e){this._url=t,this._options=this._getOptions(e||{}),this._connection=new a(this,this._url,this._options),this.event=new h(this._options,this._connection,this),this.rpc=new l(this._options,this._connection,this),this.record=new c(this._options,this._connection,this),this.webrtc=new u(this._options,this._connection,this),this._messageCallbacks={},this._messageCallbacks[r.TOPIC.WEBRTC]=this.webrtc._$handle.bind(this.webrtc),this._messageCallbacks[r.TOPIC.EVENT]=this.event._$handle.bind(this.event),this._messageCallbacks[r.TOPIC.RPC]=this.rpc._$handle.bind(this.rpc),this._messageCallbacks[r.TOPIC.RECORD]=this.record._$handle.bind(this.record),this._messageCallbacks[r.TOPIC.ERROR]=this._onErrorMessage.bind(this)};o(f.prototype),f.prototype.login=function(t,e){return this._connection.authenticate(t||{},e),this},f.prototype.close=function(){this._connection.close()},f.prototype.getConnectionState=function(){return this._connection.getState()},f.prototype.getUid=function(){var t=(new Date).getTime().toString(36),e=(1e16*Math.random()).toString(36).replace(".","");return t+"-"+e},f.prototype._$onMessage=function(t){this._messageCallbacks[t.topic]?this._messageCallbacks[t.topic](t):(t.processedError=!0,this._$onError(t.topic,r.EVENT.MESSAGE_PARSE_ERROR,"Received message for unknown topic "+t.topic)),t.action!==r.ACTIONS.ERROR||t.processedError||this._$onError(t.topic,t.data[0],t.data.slice(0))},f.prototype._$onError=function(t,e,i){var n;if(e!==r.EVENT.ACK_TIMEOUT&&e!==r.EVENT.RESPONSE_TIMEOUT||this.getConnectionState()===r.CONNECTION_STATE.AWAITING_AUTHENTICATION&&(n="Your message timed out because you're not authenticated. Have you called login()?",setTimeout(this._$onError.bind(this,r.EVENT.NOT_AUTHENTICATED,r.TOPIC.ERROR,n),1)),!this.hasListeners("error"))throw console.log("--- You can catch all deepstream errors by subscribing to the error event ---"),n=e+": "+i,t&&(n+=" ("+t+")"),new Error(n);this.emit("error",i,e,t),this.emit(e,t,i)},f.prototype._onErrorMessage=function(t){this._$onError(t.topic,t.data[0],t.data[1])},f.prototype._getOptions=function(t){var e,i={};for(e in p)"undefined"==typeof t[e]?i[e]=p[e]:i[e]=t[e];return i},f.prototype.CONSTANTS=r,n.CONSTANTS=r,f.prototype.MERGE_STRATEGIES=s,n.MERGE_STRATEGIES=s,t.exports=n},function(t,e){e.CONNECTION_STATE={},e.CONNECTION_STATE.CLOSED="CLOSED",e.CONNECTION_STATE.AWAITING_CONNECTION="AWAITING_CONNECTION",e.CONNECTION_STATE.CHALLENGING="CHALLENGING",e.CONNECTION_STATE.AWAITING_AUTHENTICATION="AWAITING_AUTHENTICATION",e.CONNECTION_STATE.AUTHENTICATING="AUTHENTICATING",e.CONNECTION_STATE.OPEN="OPEN",e.CONNECTION_STATE.ERROR="ERROR",e.CONNECTION_STATE.RECONNECTING="RECONNECTING",e.MESSAGE_SEPERATOR=String.fromCharCode(30),e.MESSAGE_PART_SEPERATOR=String.fromCharCode(31),e.TYPES={},e.TYPES.STRING="S",e.TYPES.OBJECT="O",e.TYPES.NUMBER="N",e.TYPES.NULL="L",e.TYPES.TRUE="T",e.TYPES.FALSE="F",e.TYPES.UNDEFINED="U",e.TOPIC={},e.TOPIC.CONNECTION="C",e.TOPIC.AUTH="A",e.TOPIC.ERROR="X",e.TOPIC.EVENT="E",e.TOPIC.RECORD="R",e.TOPIC.RPC="P",e.TOPIC.WEBRTC="W",e.TOPIC.PRIVATE="PRIVATE/",e.EVENT={},e.EVENT.CONNECTION_ERROR="connectionError",e.EVENT.CONNECTION_STATE_CHANGED="connectionStateChanged",e.EVENT.MAX_RECONNECTION_ATTEMPTS_REACHED="MAX_RECONNECTION_ATTEMPTS_REACHED",e.EVENT.CONNECTION_AUTHENTICATION_TIMEOUT="CONNECTION_AUTHENTICATION_TIMEOUT",e.EVENT.ACK_TIMEOUT="ACK_TIMEOUT",e.EVENT.NO_RPC_PROVIDER="NO_RPC_PROVIDER",e.EVENT.RESPONSE_TIMEOUT="RESPONSE_TIMEOUT",e.EVENT.DELETE_TIMEOUT="DELETE_TIMEOUT",e.EVENT.UNSOLICITED_MESSAGE="UNSOLICITED_MESSAGE",e.EVENT.MESSAGE_DENIED="MESSAGE_DENIED",e.EVENT.MESSAGE_PARSE_ERROR="MESSAGE_PARSE_ERROR",e.EVENT.VERSION_EXISTS="VERSION_EXISTS",e.EVENT.NOT_AUTHENTICATED="NOT_AUTHENTICATED",e.EVENT.MESSAGE_PERMISSION_ERROR="MESSAGE_PERMISSION_ERROR",e.EVENT.LISTENER_EXISTS="LISTENER_EXISTS",e.EVENT.NOT_LISTENING="NOT_LISTENING",e.EVENT.TOO_MANY_AUTH_ATTEMPTS="TOO_MANY_AUTH_ATTEMPTS",e.EVENT.IS_CLOSED="IS_CLOSED",e.EVENT.UNKNOWN_CALLEE="UNKNOWN_CALLEE",e.EVENT.RECORD_NOT_FOUND="RECORD_NOT_FOUND",e.EVENT.NOT_SUBSCRIBED="NOT_SUBSCRIBED",e.ACTIONS={},e.ACTIONS.ACK="A",e.ACTIONS.REDIRECT="RED",e.ACTIONS.CHALLENGE="CH",e.ACTIONS.CHALLENGE_RESPONSE="CHR",e.ACTIONS.READ="R",e.ACTIONS.CREATE="C",e.ACTIONS.UPDATE="U",e.ACTIONS.PATCH="P",e.ACTIONS.DELETE="D",e.ACTIONS.SUBSCRIBE="S",e.ACTIONS.UNSUBSCRIBE="US",e.ACTIONS.HAS="H",e.ACTIONS.SNAPSHOT="SN",e.ACTIONS.INVOKE="I",e.ACTIONS.SUBSCRIPTION_FOR_PATTERN_FOUND="SP",e.ACTIONS.SUBSCRIPTION_FOR_PATTERN_REMOVED="SR",e.ACTIONS.SUBSCRIPTION_HAS_PROVIDER="SH",e.ACTIONS.LISTEN="L",e.ACTIONS.UNLISTEN="UL",e.ACTIONS.LISTEN_ACCEPT="LA",e.ACTIONS.LISTEN_REJECT="LR",e.ACTIONS.PROVIDER_UPDATE="PU",e.ACTIONS.QUERY="Q",e.ACTIONS.CREATEORREAD="CR",e.ACTIONS.EVENT="EVT",e.ACTIONS.ERROR="E",e.ACTIONS.REQUEST="REQ",e.ACTIONS.RESPONSE="RES",e.ACTIONS.REJECTION="REJ",e.ACTIONS.WEBRTC_REGISTER_CALLEE="RC",e.ACTIONS.WEBRTC_UNREGISTER_CALLEE="URC",e.ACTIONS.WEBRTC_OFFER="OF",e.ACTIONS.WEBRTC_ANSWER="AN",e.ACTIONS.WEBRTC_ICE_CANDIDATE="IC",e.ACTIONS.WEBRTC_CALL_DECLINED="CD",e.ACTIONS.WEBRTC_CALL_ENDED="CE",e.ACTIONS.WEBRTC_LISTEN_FOR_CALLEES="LC",e.ACTIONS.WEBRTC_UNLISTEN_FOR_CALLEES="ULC",e.ACTIONS.WEBRTC_ALL_CALLEES="WAC",e.ACTIONS.WEBRTC_CALLEE_ADDED="WCA",e.ACTIONS.WEBRTC_CALLEE_REMOVED="WCR",e.ACTIONS.WEBRTC_IS_ALIVE="WIA",e.CALL_STATE={},e.CALL_STATE.INITIAL="INITIAL",e.CALL_STATE.CONNECTING="CONNECTING",e.CALL_STATE.ESTABLISHED="ESTABLISHED",e.CALL_STATE.ACCEPTED="ACCEPTED",e.CALL_STATE.DECLINED="DECLINED",e.CALL_STATE.ENDED="ENDED",e.CALL_STATE.ERROR="ERROR"},function(t,e){t.exports={REMOTE_WINS:function(t,e,i,n){n(null,e)},LOCAL_WINS:function(t,e,i,n){n(null,t.get())}}},function(t,e){function i(t){if(t)return n(t)}function n(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function i(){n.off(t,i),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,r=0;r<i.length;r++)if(n=i[r],n===e||n.fn===e){i.splice(r,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var n=0,r=i.length;n<r;++n)i[n].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,i){var n=i(86),r=i(117),s=i(118),o=i(119),a=i(127),h=i(82),l=function(t,e,i){this._client=t,this._originalUrl=e,this._url=e,this._options=i,this._authParams=null,this._authCallback=null,this._deliberateClose=!1,this._redirecting=!1,this._tooManyAuthAttempts=!1,this._connectionAuthenticationTimeout=!1,this._challengeDenied=!1,this._queuedMessages=[],this._reconnectTimeout=null,this._reconnectionAttempt=0,this._currentPacketMessageCount=0,this._sendNextPacketTimeout=null,this._currentMessageResetTimeout=null,this._endpoint=null,this._state=h.CONNECTION_STATE.CLOSED,this._createEndpoint()};l.prototype.getState=function(){return this._state},l.prototype.authenticate=function(t,e){return this._authParams=t,this._authCallback=e,this._tooManyAuthAttempts||this._challengeDenied||this._connectionAuthenticationTimeout?void this._client._$onError(h.TOPIC.ERROR,h.EVENT.IS_CLOSED,"this client's connection was closed"):this._deliberateClose===!0&&this._state===h.CONNECTION_STATE.CLOSED?(this._createEndpoint(),void(this._deliberateClose=!1)):void(this._state===h.CONNECTION_STATE.AWAITING_AUTHENTICATION&&this._sendAuthParams())},l.prototype.sendMsg=function(t,e,i){this.send(s.getMsg(t,e,i))},l.prototype.send=function(t){this._queuedMessages.push(t),this._currentPacketMessageCount++,null===this._currentMessageResetTimeout&&(this._currentMessageResetTimeout=a.nextTick(this._resetCurrentMessageCount.bind(this))),this._state===h.CONNECTION_STATE.OPEN&&this._queuedMessages.length<this._options.maxMessagesPerPacket&&this._currentPacketMessageCount<this._options.maxMessagesPerPacket?this._sendQueuedMessages():null===this._sendNextPacketTimeout&&this._queueNextPacket()},l.prototype.close=function(){this._deliberateClose=!0,this._endpoint.close()},l.prototype._createEndpoint=function(){a.isNode?this._endpoint=new o(this._url):this._endpoint=n(this._url,this._options),this._endpoint.on("open",this._onOpen.bind(this)),this._endpoint.on("error",this._onError.bind(this)),this._endpoint.on("close",this._onClose.bind(this)),this._endpoint.on("message",this._onMessage.bind(this))},l.prototype._resetCurrentMessageCount=function(){this._currentPacketMessageCount=0,this._currentMessageResetTimeout=null},l.prototype._sendQueuedMessages=function(){if(this._state===h.CONNECTION_STATE.OPEN){if(0===this._queuedMessages.length)return void(this._sendNextPacketTimeout=null);var t=this._queuedMessages.splice(0,this._options.maxMessagesPerPacket).join("");0!==this._queuedMessages.length?this._queueNextPacket():this._sendNextPacketTimeout=null,this._endpoint.send(t)}},l.prototype._queueNextPacket=function(){var t=this._sendQueuedMessages.bind(this),e=this._options.timeBetweenSendingQueuedPackages;this._sendNextPacketTimeout=setTimeout(t,e)},l.prototype._sendAuthParams=function(){this._setState(h.CONNECTION_STATE.AUTHENTICATING);var t=s.getMsg(h.TOPIC.AUTH,h.ACTIONS.REQUEST,[this._authParams]);this._endpoint.send(t)},l.prototype._onOpen=function(){this._clearReconnect(),this._setState(h.CONNECTION_STATE.AWAITING_CONNECTION)},l.prototype._onError=function(t){this._setState(h.CONNECTION_STATE.ERROR),setTimeout(function(){this._client._$onError(h.TOPIC.CONNECTION,h.EVENT.CONNECTION_ERROR,t.toString())}.bind(this),1)},l.prototype._onClose=function(){this._redirecting===!0?(this._redirecting=!1,this._createEndpoint()):this._deliberateClose===!0?this._setState(h.CONNECTION_STATE.CLOSED):(this._originalUrl!==this._url&&(this._url=this._originalUrl,this._createEndpoint()),this._tryReconnect())},l.prototype._onMessage=function(t){var e,i=r.parse(t,this._client);for(e=0;e<i.length;e++)null!==i[e]&&(i[e].topic===h.TOPIC.CONNECTION?this._handleConnectionResponse(i[e]):i[e].topic===h.TOPIC.AUTH?this._handleAuthResponse(i[e]):this._client._$onMessage(i[e]))},l.prototype._handleConnectionResponse=function(t){t.action===h.ACTIONS.ACK?(this._setState(h.CONNECTION_STATE.AWAITING_AUTHENTICATION),this._authParams&&this._sendAuthParams()):t.action===h.ACTIONS.CHALLENGE?(this._setState(h.CONNECTION_STATE.CHALLENGING),this._endpoint.send(s.getMsg(h.TOPIC.CONNECTION,h.ACTIONS.CHALLENGE_RESPONSE,[this._originalUrl]))):t.action===h.ACTIONS.REJECTION?(this._challengeDenied=!0,this.close()):t.action===h.ACTIONS.REDIRECT?(this._url=t.data[0],this._redirecting=!0,this._endpoint.close()):t.action===h.ACTIONS.ERROR&&t.data[0]===h.EVENT.CONNECTION_AUTHENTICATION_TIMEOUT&&(this._deliberateClose=!0,this._connectionAuthenticationTimeout=!0,this._client._$onError(h.TOPIC.CONNECTION,t.data[0],t.data[1]))},l.prototype._handleAuthResponse=function(t){t.action===h.ACTIONS.ERROR?(t.data[0]===h.EVENT.TOO_MANY_AUTH_ATTEMPTS?(this._deliberateClose=!0,this._tooManyAuthAttempts=!0):this._setState(h.CONNECTION_STATE.AWAITING_AUTHENTICATION),this._authCallback&&this._authCallback(!1,this._getAuthData(t.data[1]))):t.action===h.ACTIONS.ACK&&(this._setState(h.CONNECTION_STATE.OPEN),this._authCallback&&this._authCallback(!0,this._getAuthData(t.data[0])),this._sendQueuedMessages())},l.prototype._getAuthData=function(t){return void 0===t?null:r.convertTyped(t,this._client)},l.prototype._setState=function(t){this._state=t,this._client.emit(h.EVENT.CONNECTION_STATE_CHANGED,t)},l.prototype._tryReconnect=function(){null===this._reconnectTimeout&&(this._reconnectionAttempt<this._options.maxReconnectAttempts?(this._setState(h.CONNECTION_STATE.RECONNECTING),this._reconnectTimeout=setTimeout(this._tryOpen.bind(this),Math.min(this._options.maxReconnectInterval,this._options.reconnectIntervalIncrement*this._reconnectionAttempt)),this._reconnectionAttempt++):(this._clearReconnect(),this.close(),this._client.emit(h.MAX_RECONNECTION_ATTEMPTS_REACHED,this._reconnectionAttempt)))},l.prototype._tryOpen=function(){this._endpoint.open(),this._reconnectTimeout=null},l.prototype._clearReconnect=function(){clearTimeout(this._reconnectTimeout),this._reconnectTimeout=null,this._reconnectionAttempt=0},t.exports=l},function(t,e,i){t.exports=i(87)},function(t,e,i){t.exports=i(88),t.exports.parser=i(95)},function(t,e,i){(function(e){function n(t,i){if(!(this instanceof n))return new n(t,i);i=i||{},t&&"object"==typeof t&&(i=t,t=null),t?(t=c(t),i.hostname=t.host,i.secure="https"===t.protocol||"wss"===t.protocol,i.port=t.port,t.query&&(i.query=t.query)):i.host&&(i.hostname=c(i.host).host),this.secure=null!=i.secure?i.secure:e.location&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.agent=i.agent||!1,this.hostname=i.hostname||(e.location?location.hostname:"localhost"),this.port=i.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=i.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==i.upgrade,this.path=(i.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!i.forceJSONP,this.jsonp=!1!==i.jsonp,this.forceBase64=!!i.forceBase64,this.enablesXDR=!!i.enablesXDR,this.timestampParam=i.timestampParam||"t",this.timestampRequests=i.timestampRequests,this.transports=i.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=i.policyPort||843,this.rememberUpgrade=i.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=i.onlyBinaryUpgrades,this.perMessageDeflate=!1!==i.perMessageDeflate&&(i.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=i.pfx||null,this.key=i.key||null,this.passphrase=i.passphrase||null,this.cert=i.cert||null,this.ca=i.ca||null,this.ciphers=i.ciphers||null,this.rejectUnauthorized=void 0===i.rejectUnauthorized?null:i.rejectUnauthorized;var r="object"==typeof e&&e;r.global===r&&i.extraHeaders&&Object.keys(i.extraHeaders).length>0&&(this.extraHeaders=i.extraHeaders),this.open()}function r(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}var s=i(89),o=i(84),a=i(108)("engine.io-client:socket"),h=i(114),l=i(95),c=i(115),u=i(116),p=i(105);t.exports=n,n.priorWebsocketSuccess=!1,o(n.prototype),n.protocol=l.protocol,n.Socket=n,n.Transport=i(94),n.transports=i(89),n.parser=i(95),n.prototype.createTransport=function(t){a('creating transport "%s"',t);var e=r(this.query);e.EIO=l.protocol,e.transport=t,this.id&&(e.sid=this.id);var i=new s[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return i},n.prototype.open=function(){var t;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(i){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},n.prototype.setTransport=function(t){a("setting transport %s",t.name);var e=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},n.prototype.probe=function(t){function e(){if(p.onlyBinaryUpgrades){var e=!this.supportsBinary&&p.transport.supportsBinary;u=u||e}u||(a('probe transport "%s" opened',t),c.send([{type:"ping",data:"probe"}]),c.once("packet",function(e){if(!u)if("pong"===e.type&&"probe"===e.data){if(a('probe transport "%s" pong',t),p.upgrading=!0,p.emit("upgrading",c),!c)return;n.priorWebsocketSuccess="websocket"===c.name,a('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){u||"closed"!==p.readyState&&(a("changing transport and sending upgrade packet"),l(),p.setTransport(c),c.send([{type:"upgrade"}]),p.emit("upgrade",c),c=null,p.upgrading=!1,p.flush())})}else{a('probe transport "%s" failed',t);var i=new Error("probe error");i.transport=c.name,p.emit("upgradeError",i)}}))}function i(){u||(u=!0,l(),c.close(),c=null)}function r(e){var n=new Error("probe error: "+e);n.transport=c.name,i(),a('probe transport "%s" failed because of error: %s',t,e),p.emit("upgradeError",n)}function s(){r("transport closed")}function o(){r("socket closed")}function h(t){c&&t.name!==c.name&&(a('"%s" works - aborting "%s"',t.name,c.name),i())}function l(){c.removeListener("open",e),c.removeListener("error",r),c.removeListener("close",s),p.removeListener("close",o),p.removeListener("upgrading",h)}a('probing transport "%s"',t);var c=this.createTransport(t,{probe:1}),u=!1,p=this;n.priorWebsocketSuccess=!1,c.once("open",e),c.once("error",r),c.once("close",s),this.once("close",o),this.once("upgrading",h),c.open()},n.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},n.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState)switch(a('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(u(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else a('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},n.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},n.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(t,e,i){return this.sendPacket("message",t,e,i),this},n.prototype.sendPacket=function(t,e,i,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof i&&(n=i,i=null),"closing"!==this.readyState&&"closed"!==this.readyState){i=i||{},i.compress=!1!==i.compress;var r={type:t,data:e,options:i};this.emit("packetCreate",r),this.writeBuffer.push(r),n&&this.once("flush",n),this.flush()}},n.prototype.close=function(){function t(){n.onClose("forced close"),a("socket closing - telling transport to close"),n.transport.close()}function e(){n.removeListener("upgrade",e),n.removeListener("upgradeError",e),t()}function i(){n.once("upgrade",e),n.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():t()}):this.upgrading?i():t()}return this},n.prototype.onError=function(t){a("socket error %j",t),n.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},n.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',t);var i=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),i.writeBuffer=[],i.prevBufferLen=0}},n.prototype.filterUpgrades=function(t){for(var e=[],i=0,n=t.length;i<n;i++)~h(this.transports,t[i])&&e.push(t[i]);
return e}}).call(e,function(){return this}())},function(t,e,i){(function(t){function n(e){var i,n=!1,a=!1,h=!1!==e.jsonp;if(t.location){var l="https:"===location.protocol,c=location.port;c||(c=l?443:80),n=e.hostname!==location.hostname||c!==e.port,a=e.secure!==l}if(e.xdomain=n,e.xscheme=a,i=new r(e),"open"in i&&!e.forceJSONP)return new s(e);if(!h)throw new Error("JSONP disabled");return new o(e)}var r=i(90),s=i(92),o=i(111),a=i(112);e.polling=n,e.websocket=a}).call(e,function(){return this}())},function(t,e,i){var n=i(91);t.exports=function(t){var e=t.xdomain,i=t.xscheme,r=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||n))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!i&&r)return new XDomainRequest}catch(s){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(s){}}},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(i){t.exports=!1}},function(t,e,i){(function(e){function n(){}function r(t){if(h.call(this,t),e.location){var i="https:"===location.protocol,n=location.port;n||(n=i?443:80),this.xd=t.hostname!==e.location.hostname||n!==t.port,this.xs=t.secure!==i}else this.extraHeaders=t.extraHeaders}function s(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function o(){for(var t in s.requests)s.requests.hasOwnProperty(t)&&s.requests[t].abort()}var a=i(90),h=i(93),l=i(84),c=i(106),u=i(108)("engine.io-client:polling-xhr");t.exports=r,t.exports.Request=s,c(r,h),r.prototype.supportsBinary=!0,r.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.extraHeaders=this.extraHeaders,new s(t)},r.prototype.doWrite=function(t,e){var i="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:i}),r=this;n.on("success",e),n.on("error",function(t){r.onError("xhr post error",t)}),this.sendXhr=n},r.prototype.doPoll=function(){u("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},l(s.prototype),s.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var i=this.xhr=new a(t),n=this;try{u("xhr open %s: %s",this.method,this.uri),i.open(this.method,this.uri,this.async);try{if(this.extraHeaders){i.setDisableHeaderCheck(!0);for(var r in this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this.extraHeaders[r])}}catch(o){}if(this.supportsBinary&&(i.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?i.setRequestHeader("Content-type","application/octet-stream"):i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}"withCredentials"in i&&(i.withCredentials=!0),this.hasXDR()?(i.onload=function(){n.onLoad()},i.onerror=function(){n.onError(i.responseText)}):i.onreadystatechange=function(){4===i.readyState&&(200===i.status||1223===i.status?n.onLoad():setTimeout(function(){n.onError(i.status)},0))},u("xhr data %s",this.data),i.send(this.data)}catch(o){return void setTimeout(function(){n.onError(o)},0)}e.document&&(this.index=s.requestsCount++,s.requests[this.index]=this)},s.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},s.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},s.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},s.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,t)try{this.xhr.abort()}catch(i){}e.document&&delete s.requests[this.index],this.xhr=null}},s.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(i){}if("application/octet-stream"===e)t=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(i){for(var n=new Uint8Array(this.xhr.response),r=[],s=0,o=n.length;s<o;s++)r.push(n[s]);t=String.fromCharCode.apply(null,r)}else t=this.xhr.responseText}catch(i){this.onError(i)}null!=t&&this.onData(t)},s.prototype.hasXDR=function(){return"undefined"!=typeof e.XDomainRequest&&!this.xs&&this.enablesXDR},s.prototype.abort=function(){this.cleanup()},e.document&&(s.requestsCount=0,s.requests={},e.attachEvent?e.attachEvent("onunload",o):e.addEventListener&&e.addEventListener("beforeunload",o,!1))}).call(e,function(){return this}())},function(t,e,i){function n(t){var e=t&&t.forceBase64;c&&!e||(this.supportsBinary=!1),r.call(this,t)}var r=i(94),s=i(105),o=i(95),a=i(106),h=i(107),l=i(108)("engine.io-client:polling");t.exports=n;var c=function(){var t=i(90),e=new t({xdomain:!1});return null!=e.responseType}();a(n,r),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(t){function e(){l("paused"),i.readyState="paused",t()}var i=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(l("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){l("pre-pause polling complete"),--n||e()})),this.writable||(l("we are currently writing - waiting to pause"),n++,this.once("drain",function(){l("pre-pause writing complete"),--n||e()}))}else e()},n.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(t){var e=this;l("polling got data %s",t);var i=function(t,i,n){return"opening"===e.readyState&&e.onOpen(),"close"===t.type?(e.onClose(),!1):void e.onPacket(t)};o.decodePayload(t,this.socket.binaryType,i),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function t(){l("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(l("transport open - closing"),t()):(l("transport not open - deferring close"),this.once("open",t))},n.prototype.write=function(t){var e=this;this.writable=!1;var i=function(){e.writable=!0,e.emit("drain")};o.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,i)})},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",i="";!1!==this.timestampRequests&&(t[this.timestampParam]=h()),this.supportsBinary||t.sid||(t.b64=1),t=s.encode(t),this.port&&("https"===e&&443!==this.port||"http"===e&&80!==this.port)&&(i=":"+this.port),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+i+this.path+t}},function(t,e,i){function n(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders}var r=i(95),s=i(84);t.exports=n,s(n.prototype),n.prototype.onError=function(t,e){var i=new Error(t);return i.type="TransportError",i.description=e,this.emit("error",i),this},n.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},n.prototype.onPacket=function(t){this.emit("packet",t)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,i){(function(t){function n(t,i){var n="b"+e.packets[t.type]+t.data.data;return i(n)}function r(t,i,n){if(!i)return e.encodeBase64Packet(t,n);var r=t.data,s=new Uint8Array(r),o=new Uint8Array(1+r.byteLength);o[0]=v[t.type];for(var a=0;a<s.length;a++)o[a+1]=s[a];return n(o.buffer)}function s(t,i,n){if(!i)return e.encodeBase64Packet(t,n);var r=new FileReader;return r.onload=function(){t.data=r.result,e.encodePacket(t,i,!0,n)},r.readAsArrayBuffer(t.data)}function o(t,i,n){if(!i)return e.encodeBase64Packet(t,n);if(g)return s(t,i,n);var r=new Uint8Array(1);r[0]=v[t.type];var o=new E([r.buffer,t.data]);return n(o)}function a(t){try{t=d.decode(t)}catch(e){return!1}return t}function h(t,e,i){for(var n=new Array(t.length),r=f(t.length,i),s=function(t,i,r){e(i,function(e,i){n[t]=i,r(e,n)})},o=0;o<t.length;o++)s(o,t[o],r)}var l,c=i(96),u=i(97),p=i(99),f=i(100),d=i(101);t.ArrayBuffer&&(l=i(103));var m="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),y="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),g=m||y;e.protocol=3;var v=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},_=c(v),b={type:"error",data:"parser error"},E=i(104);e.encodePacket=function(e,i,s,a){"function"==typeof i&&(a=i,i=!1),"function"==typeof s&&(a=s,s=null);var h=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&h instanceof ArrayBuffer)return r(e,i,a);if(E&&h instanceof t.Blob)return o(e,i,a);if(h&&h.base64)return n(e,a);var l=v[e.type];return void 0!==e.data&&(l+=s?d.encode(String(e.data)):String(e.data)),a(""+l)},e.encodeBase64Packet=function(i,n){var r="b"+e.packets[i.type];if(E&&i.data instanceof t.Blob){var s=new FileReader;return s.onload=function(){var t=s.result.split(",")[1];n(r+t)},s.readAsDataURL(i.data)}var o;try{o=String.fromCharCode.apply(null,new Uint8Array(i.data))}catch(a){for(var h=new Uint8Array(i.data),l=new Array(h.length),c=0;c<h.length;c++)l[c]=h[c];o=String.fromCharCode.apply(null,l)}return r+=t.btoa(o),n(r)},e.decodePacket=function(t,i,n){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return e.decodeBase64Packet(t.substr(1),i);if(n&&(t=a(t),t===!1))return b;var r=t.charAt(0);return Number(r)==r&&_[r]?t.length>1?{type:_[r],data:t.substring(1)}:{type:_[r]}:b}var s=new Uint8Array(t),r=s[0],o=p(t,1);return E&&"blob"===i&&(o=new E([o])),{type:_[r],data:o}},e.decodeBase64Packet=function(t,e){var i=_[t.charAt(0)];if(!l)return{type:i,data:{base64:!0,data:t.substr(1)}};var n=l.decode(t.substr(1));return"blob"===e&&E&&(n=new E([n])),{type:i,data:n}},e.encodePayload=function(t,i,n){function r(t){return t.length+":"+t}function s(t,n){e.encodePacket(t,!!o&&i,!0,function(t){n(null,r(t))})}"function"==typeof i&&(n=i,i=null);var o=u(t);return i&&o?E&&!g?e.encodePayloadAsBlob(t,n):e.encodePayloadAsArrayBuffer(t,n):t.length?void h(t,s,function(t,e){return n(e.join(""))}):n("0:")},e.decodePayload=function(t,i,n){if("string"!=typeof t)return e.decodePayloadAsBinary(t,i,n);"function"==typeof i&&(n=i,i=null);var r;if(""==t)return n(b,0,1);for(var s,o,a="",h=0,l=t.length;h<l;h++){var c=t.charAt(h);if(":"!=c)a+=c;else{if(""==a||a!=(s=Number(a)))return n(b,0,1);if(o=t.substr(h+1,s),a!=o.length)return n(b,0,1);if(o.length){if(r=e.decodePacket(o,i,!0),b.type==r.type&&b.data==r.data)return n(b,0,1);var u=n(r,h+s,l);if(!1===u)return}h+=s,a=""}}return""!=a?n(b,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,i){function n(t,i){e.encodePacket(t,!0,!0,function(t){return i(null,t)})}return t.length?void h(t,n,function(t,e){var n=e.reduce(function(t,e){var i;return i="string"==typeof e?e.length:e.byteLength,t+i.toString().length+i+2},0),r=new Uint8Array(n),s=0;return e.forEach(function(t){var e="string"==typeof t,i=t;if(e){for(var n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);i=n.buffer}e?r[s++]=0:r[s++]=1;for(var a=i.byteLength.toString(),o=0;o<a.length;o++)r[s++]=parseInt(a[o]);r[s++]=255;for(var n=new Uint8Array(i),o=0;o<n.length;o++)r[s++]=n[o]}),i(r.buffer)}):i(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,i){function n(t,i){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);t=n.buffer,e[0]=0}for(var s=t instanceof ArrayBuffer?t.byteLength:t.size,o=s.toString(),a=new Uint8Array(o.length+1),r=0;r<o.length;r++)a[r]=parseInt(o[r]);if(a[o.length]=255,E){var h=new E([e.buffer,a.buffer,t]);i(null,h)}})}h(t,n,function(t,e){return i(new E(e))})},e.decodePayloadAsBinary=function(t,i,n){"function"==typeof i&&(n=i,i=null);for(var r=t,s=[],o=!1;r.byteLength>0;){for(var a=new Uint8Array(r),h=0===a[0],l="",c=1;255!=a[c];c++){if(l.length>310){o=!0;break}l+=a[c]}if(o)return n(b,0,1);r=p(r,2+l.length),l=parseInt(l);var u=p(r,0,l);if(h)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(f){var d=new Uint8Array(u);u="";for(var c=0;c<d.length;c++)u+=String.fromCharCode(d[c])}s.push(u),r=p(r,l)}var m=s.length;s.forEach(function(t,r){n(e.decodePacket(t,i,!0),r,m)})}}).call(e,function(){return this}())},function(t,e){t.exports=Object.keys||function(t){var e=[],i=Object.prototype.hasOwnProperty;for(var n in t)i.call(t,n)&&e.push(n);return e}},function(t,e,i){(function(e){function n(t){function i(t){if(!t)return!1;if(e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer||e.Blob&&t instanceof Blob||e.File&&t instanceof File)return!0;if(r(t)){for(var n=0;n<t.length;n++)if(i(t[n]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&i(t[s]))return!0}return!1}return i(t)}var r=i(98);t.exports=n}).call(e,function(){return this}())},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e){t.exports=function(t,e,i){var n=t.byteLength;if(e=e||0,i=i||n,t.slice)return t.slice(e,i);if(e<0&&(e+=n),i<0&&(i+=n),i>n&&(i=n),e>=n||e>=i||0===n)return new ArrayBuffer(0);for(var r=new Uint8Array(t),s=new Uint8Array(i-e),o=e,a=0;o<i;o++,a++)s[a]=r[o];return s.buffer}},function(t,e){function i(t,e,i){function r(t,n){if(r.count<=0)throw new Error("after called too many times");--r.count,t?(s=!0,e(t),e=i):0!==r.count||s||e(null,n)}var s=!1;return i=i||n,r.count=t,0===t?e():r}function n(){}t.exports=i},function(t,e,i){var n;(function(t,r){!function(s){function o(t){for(var e,i,n=[],r=0,s=t.length;r<s;)e=t.charCodeAt(r++),e>=55296&&e<=56319&&r<s?(i=t.charCodeAt(r++),56320==(64512&i)?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),r--)):n.push(e);return n}function a(t){for(var e,i=t.length,n=-1,r="";++n<i;)e=t[n],e>65535&&(e-=65536,r+=_(e>>>10&1023|55296),e=56320|1023&e),r+=_(e);return r}function h(t,e){return _(t>>e&63|128)}function l(t){if(0==(4294967168&t))return _(t);var e="";return 0==(4294965248&t)?e=_(t>>6&31|192):0==(4294901760&t)?(e=_(t>>12&15|224),e+=h(t,6)):0==(4292870144&t)&&(e=_(t>>18&7|240),e+=h(t,12),e+=h(t,6)),e+=_(63&t|128)}function c(t){for(var e,i=o(t),n=i.length,r=-1,s="";++r<n;)e=i[r],s+=l(e);return s}function u(){if(v>=g)throw Error("Invalid byte index");var t=255&y[v];if(v++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function p(){var t,e,i,n,r;if(v>g)throw Error("Invalid byte index");if(v==g)return!1;if(t=255&y[v],v++,0==(128&t))return t;if(192==(224&t)){var e=u();if(r=(31&t)<<6|e,r>=128)return r;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=u(),i=u(),r=(15&t)<<12|e<<6|i,r>=2048)return r;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=u(),i=u(),n=u(),r=(15&t)<<18|e<<12|i<<6|n,r>=65536&&r<=1114111))return r;throw Error("Invalid WTF-8 detected")}function f(t){y=o(t),g=y.length,v=0;for(var e,i=[];(e=p())!==!1;)i.push(e);return a(i)}var d="object"==typeof e&&e,m=("object"==typeof t&&t&&t.exports==d&&t,"object"==typeof r&&r);m.global!==m&&m.window!==m||(s=m);var y,g,v,_=String.fromCharCode,b={version:"1.0.0",encode:c,decode:f};n=function(){return b}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(this)}).call(e,i(102)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),n=0;n<t.length;n++)i[t.charCodeAt(n)]=n;e.encode=function(e){var i,n=new Uint8Array(e),r=n.length,s="";for(i=0;i<r;i+=3)s+=t[n[i]>>2],s+=t[(3&n[i])<<4|n[i+1]>>4],s+=t[(15&n[i+1])<<2|n[i+2]>>6],s+=t[63&n[i+2]];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s},e.decode=function(t){var e,n,r,s,o,a=.75*t.length,h=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(e=0;e<h;e+=4)n=i[t.charCodeAt(e)],r=i[t.charCodeAt(e+1)],s=i[t.charCodeAt(e+2)],o=i[t.charCodeAt(e+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|s>>2,u[l++]=(3&s)<<6|63&o;return c}}()},function(t,e){(function(e){function i(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.buffer instanceof ArrayBuffer){var n=i.buffer;if(i.byteLength!==n.byteLength){var r=new Uint8Array(i.byteLength);r.set(new Uint8Array(n,i.byteOffset,i.byteLength)),n=r.buffer}t[e]=n}}}function n(t,e){e=e||{};var n=new s;i(t);for(var r=0;r<t.length;r++)n.append(t[r]);return e.type?n.getBlob(e.type):n.getBlob()}function r(t,e){return i(t),new Blob(t,e||{})}var s=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,o=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(e){return!1}}(),a=o&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(e){return!1}}(),h=s&&s.prototype.append&&s.prototype.getBlob;t.exports=function(){return o?a?e.Blob:r:h?n:void 0}()}).call(e,function(){return this}())},function(t,e){e.encode=function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e.length&&(e+="&"),e+=encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e},e.decode=function(t){for(var e={},i=t.split("&"),n=0,r=i.length;n<r;n++){var s=i[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}},function(t,e){t.exports=function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},function(t,e){"use strict";function i(t){var e="";do e=o[t%a]+e,t=Math.floor(t/a);while(t>0);return e}function n(t){var e=0;for(c=0;c<t.length;c++)e=e*a+h[t.charAt(c)];return e}function r(){var t=i(+new Date);return t!==s?(l=0,s=t):t+"."+i(l++)}for(var s,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,h={},l=0,c=0;c<a;c++)h[o[c]]=c;r.encode=i,r.decode=n,t.exports=r},function(t,e,i){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var t=arguments,i=this.useColors;if(t[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+t[0]+(i?"%c ":" ")+"+"+e.humanize(this.diff),!i)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var r=0,s=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(s=r))}),t.splice(s,0,n),t}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(i){}}function a(){var t;try{t=e.storage.debug}catch(i){}return t}function h(){try{return window.localStorage}catch(t){}}e=t.exports=i(109),e.log=s,e.formatArgs=r,e.save=o,e.load=a,e.useColors=n,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:h(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){return JSON.stringify(t)},e.enable(a())},function(t,e,i){function n(){return e.colors[c++%e.colors.length]}function r(t){function i(){}function r(){var t=r,i=+new Date,s=i-(l||i);t.diff=s,t.prev=l,t.curr=i,l=i,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=n());var o=Array.prototype.slice.call(arguments);o[0]=e.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var a=0;o[0]=o[0].replace(/%([a-z%])/g,function(i,n){if("%%"===i)return i;a++;var r=e.formatters[n];if("function"==typeof r){var s=o[a];i=r.call(t,s),o.splice(a,1),a--}return i}),"function"==typeof e.formatArgs&&(o=e.formatArgs.apply(t,o));var h=r.log||e.log||console.log.bind(console);h.apply(t,o)}i.enabled=!1,r.enabled=!0;var s=e.enabled(t)?r:i;return s.namespace=t,s}function s(t){e.save(t);for(var i=(t||"").split(/[\s,]+/),n=i.length,r=0;r<n;r++)i[r]&&(t=i[r].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function o(){e.enable("")}function a(t){var i,n;for(i=0,n=e.skips.length;i<n;i++)if(e.skips[i].test(t))return!1;for(i=0,n=e.names.length;i<n;i++)if(e.names[i].test(t))return!0;return!1}function h(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=r,e.coerce=h,e.disable=o,e.enable=s,e.enabled=a,e.humanize=i(110),e.names=[],e.skips=[],e.formatters={};var l,c=0},function(t,e){function i(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var i=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return i*c;case"days":case"day":case"d":return i*l;case"hours":case"hour":case"hrs":case"hr":case"h":return i*h;case"minutes":case"minute":case"mins":case"min":case"m":return i*a;case"seconds":case"second":case"secs":case"sec":case"s":return i*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i}}}}function n(t){return t>=l?Math.round(t/l)+"d":t>=h?Math.round(t/h)+"h":t>=a?Math.round(t/a)+"m":t>=o?Math.round(t/o)+"s":t+"ms"}function r(t){return s(t,l,"day")||s(t,h,"hour")||s(t,a,"minute")||s(t,o,"second")||t+" ms"}function s(t,e,i){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+i:Math.ceil(t/e)+" "+i+"s"}var o=1e3,a=60*o,h=60*a,l=24*h,c=365.25*l;t.exports=function(t,e){return e=e||{},"string"==typeof t?i(t):e["long"]?r(t):n(t)}},function(t,e,i){(function(e){function n(){}function r(t){s.call(this,t),this.query=this.query||{},a||(e.___eio||(e.___eio=[]),a=e.___eio),this.index=a.length;var i=this;a.push(function(t){i.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){i.script&&(i.script.onerror=n)},!1)}var s=i(93),o=i(106);t.exports=r;var a,h=/\n/g,l=/\\n/g;o(r,s),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s.prototype.doClose.call(this)},r.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(e,i):(document.head||document.body).appendChild(e),this.script=e;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},r.prototype.doWrite=function(t,e){function i(){n(),e()}function n(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';s=document.createElement(e)}catch(t){s=document.createElement("iframe"),s.name=r.iframeId,s.src="javascript:0"}s.id=r.iframeId,r.form.appendChild(s),r.iframe=s}var r=this;if(!this.form){var s,o=document.createElement("form"),a=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=c,o.method="POST",o.setAttribute("accept-charset","utf-8"),a.name="d",o.appendChild(a),document.body.appendChild(o),this.form=o,this.area=a}this.form.action=this.uri(),n(),t=t.replace(l,"\\\n"),this.area.value=t.replace(h,"\\n");try{this.form.submit()}catch(u){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&i()}:this.iframe.onload=i}}).call(e,function(){return this}())},function(t,e,i){(function(e){function n(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,r.call(this,t)}var r=i(94),s=i(95),o=i(105),a=i(106),h=i(107),l=i(108)("engine.io-client:websocket"),c=e.WebSocket||e.MozWebSocket,u=c;if(!u&&"undefined"==typeof window)try{u=i(113)}catch(p){}t.exports=n,a(n,r),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,i={agent:this.agent,perMessageDeflate:this.perMessageDeflate};i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(i.headers=this.extraHeaders);try{this.ws=c?new u(t):new u(t,e,i)}catch(n){return this.emit("error",n)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(n.prototype.onData=function(t){var e=this;setTimeout(function(){r.prototype.onData.call(e,t)},0)}),n.prototype.write=function(t){function i(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var r=t.length,o=0,a=r;o<a;o++)!function(t){s.encodePacket(t,n.supportsBinary,function(s){if(!c){var o={};if(t.options&&(o.compress=t.options.compress),n.perMessageDeflate){var a="string"==typeof s?e.Buffer.byteLength(s):s.length;a<n.perMessageDeflate.threshold&&(o.compress=!1)}}try{c?n.ws.send(s):n.ws.send(s,o)}catch(h){l("websocket closed before onclose event")}--r||i()})}(t[o])},n.prototype.onClose=function(){r.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",i="";this.port&&("wss"===e&&443!==this.port||"ws"===e&&80!==this.port)&&(i=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=h()),this.supportsBinary||(t.b64=1),t=o.encode(t),t.length&&(t="?"+t);var n=this.hostname.indexOf(":")!==-1;return e+"://"+(n?"["+this.hostname+"]":this.hostname)+i+this.path+t},n.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===n.prototype.name)}}).call(e,function(){return this}())},35,function(t,e){var i=[].indexOf;t.exports=function(t,e){if(i)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,r=t.indexOf("["),s=t.indexOf("]");r!=-1&&s!=-1&&(t=t.substring(0,r)+t.substring(r,s).replace(/:/g,";")+t.substring(s,t.length));for(var o=i.exec(t||""),a={},h=14;h--;)a[n[h]]=o[h]||"";return r!=-1&&s!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e){(function(e){var i=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,o=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(o,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):i.test(t.replace(n,"@").replace(r,"]").replace(s,""))?new Function("return "+t)():void 0):null}}).call(e,function(){return this}())},function(t,e,i){var n=i(82),r=function(){this._actions=this._getActions()};r.prototype.parse=function(t,e){var i,r=[],s=t.split(n.MESSAGE_SEPERATOR);for(i=0;i<s.length;i++)s[i].length>2&&r.push(this._parseMessage(s[i],e));return r},r.prototype.convertTyped=function(t,e){var i=t.charAt(0);if(i===n.TYPES.STRING)return t.substr(1);if(i===n.TYPES.OBJECT)try{return JSON.parse(t.substr(1))}catch(r){return void e._$onError(n.TOPIC.ERROR,n.EVENT.MESSAGE_PARSE_ERROR,r.toString()+"("+t+")")}return i===n.TYPES.NUMBER?parseFloat(t.substr(1)):i===n.TYPES.NULL?null:i===n.TYPES.TRUE||i!==n.TYPES.FALSE&&void(i!==n.TYPES.UNDEFINED&&e._$onError(n.TOPIC.ERROR,n.EVENT.MESSAGE_PARSE_ERROR,"UNKNOWN_TYPE ("+t+")"))},r.prototype._getActions=function(){var t,e={};for(t in n.ACTIONS)e[n.ACTIONS[t]]=t;return e},r.prototype._parseMessage=function(t,e){var i=t.split(n.MESSAGE_PART_SEPERATOR),r={};return i.length<2?(t.processedError=!0,e._$onError(n.TOPIC.ERROR,n.EVENT.MESSAGE_PARSE_ERROR,"Insufficiant message parts"),null):void 0===this._actions[i[1]]?(t.processedError=!0,e._$onError(n.TOPIC.ERROR,n.EVENT.MESSAGE_PARSE_ERROR,"Unknown action "+i[1]),null):(r.raw=t,r.topic=i[0],r.action=i[1],r.data=i.splice(2),r)},t.exports=new r},function(t,e,i){var n=i(82),r=n.MESSAGE_PART_SEPERATOR;e.getMsg=function(t,e,i){if(i&&!(i instanceof Array))throw new Error("data must be an array");var s,o=[t,e];if(i)for(s=0;s<i.length;s++)"object"==typeof i[s]?o.push(JSON.stringify(i[s])):o.push(i[s]);return o.join(r)+n.MESSAGE_SEPERATOR},e.typed=function(t){var e=typeof t;if("string"===e)return n.TYPES.STRING+t;if(null===t)return n.TYPES.NULL;if("object"===e)return n.TYPES.OBJECT+JSON.stringify(t);if("number"===e)return n.TYPES.NUMBER+t.toString();if(t===!0)return n.TYPES.TRUE;if(t===!1)return n.TYPES.FALSE;if(void 0===t)return n.TYPES.UNDEFINED;throw new Error("Can't serialize type "+t)}},function(t,e,i){(function(e){var n=i(120),r=i(121),s=i(126),o=i(40),a=i(82),h=function(t){this._socket=null,this._url=t,this._messageBuffer="",this._destroyFn=this._destroy.bind(this),e.on("exit",this._destroyFn),this.open(),this._isOpen=!1};o.inherits(h,s.EventEmitter),h.prototype.open=function(){this._socket=n.createConnection(this._getOptions()),this._socket.setEncoding("utf8"),this._socket.setKeepAlive(!0,5e3),this._socket.setNoDelay(!0),this._socket.on("data",this._onData.bind(this)),this._socket.on("error",this._onError.bind(this)),this._socket.on("connect",this._onConnect.bind(this)),this._socket.on("close",this._onClose.bind(this))},h.prototype.send=function(t){this._isOpen===!0?this._socket.write(t):this.emit("error","attempt to send message on closed socket: "+t);
},h.prototype.close=function(){this._isOpen=!1,e.removeListener("exit",this._destroyFn),this._socket.end()},h.prototype._onError=function(t){var e;e="ECONNREFUSED"===t.code?"Can't connect! Deepstream server unreachable on "+this._url:t.toString(),this.emit("error",e)},h.prototype._onConnect=function(){this._isOpen=!0,this.emit("open")},h.prototype._onClose=function(){this._isOpen=!1,this.emit("close")},h.prototype._onData=function(t){if("string"!=typeof t)return void this.emit("error","received non-string message from socket");if(this._isOpen===!1)return void this.emit("error","received message on half closed socket: "+t);var e;return t.charAt(t.length-1)!==a.MESSAGE_SEPERATOR?void(this._messageBuffer+=t):(0!==this._messageBuffer.length?(e=this._messageBuffer+t,this._messageBuffer=""):e=t,void this.emit("message",e))},h.prototype._getOptions=function(){var t={};return this._url.indexOf("/")===-1?(t.hostname=this._url.split(":")[0],t.port=this._url.split(":")[1]):t=r.parse(this._url),{host:t.hostname,port:parseInt(t.port,10),allowHalfOpen:!1}},h.prototype._destroy=function(){this._socket.destroy()},t.exports=h}).call(e,i(41))},35,function(t,e,i){function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(t,e,i){if(t&&l(t)&&t instanceof n)return t;var r=new n;return r.parse(t,e,i),r}function s(t){return h(t)&&(t=r(t)),t instanceof n?t.format():n.prototype.format.call(t)}function o(t,e){return r(t,!1,!0).resolve(e)}function a(t,e){return t?r(t,!1,!0).resolveObject(e):e}function h(t){return"string"==typeof t}function l(t){return"object"==typeof t&&null!==t}function c(t){return null===t}function u(t){return null==t}var p=i(122);e.parse=r,e.resolve=o,e.resolveObject=a,e.format=s,e.Url=n;var f=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,m=["<",">",'"',"`"," ","\r","\n","\t"],y=["{","}","|","\\","^","`"].concat(m),g=["'"].concat(y),v=["%","/","?",";","#"].concat(g),_=["/","?","#"],b=255,E=/^[a-z0-9A-Z_-]{0,63}$/,T=/^([a-z0-9A-Z_-]{0,63})(.*)$/,A={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=i(123);n.prototype.parse=function(t,e,i){if(!h(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t;n=n.trim();var r=f.exec(n);if(r){r=r[0];var s=r.toLowerCase();this.protocol=s,n=n.substr(r.length)}if(i||r||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var o="//"===n.substr(0,2);!o||r&&w[r]||(n=n.substr(2),this.slashes=!0)}if(!w[r]&&(o||r&&!C[r])){for(var a=-1,l=0;l<_.length;l++){var c=n.indexOf(_[l]);c!==-1&&(a===-1||c<a)&&(a=c)}var u,d;d=a===-1?n.lastIndexOf("@"):n.lastIndexOf("@",a),d!==-1&&(u=n.slice(0,d),n=n.slice(d+1),this.auth=decodeURIComponent(u)),a=-1;for(var l=0;l<v.length;l++){var c=n.indexOf(v[l]);c!==-1&&(a===-1||c<a)&&(a=c)}a===-1&&(a=n.length),this.host=n.slice(0,a),n=n.slice(a),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var y=this.hostname.split(/\./),l=0,S=y.length;l<S;l++){var P=y[l];if(P&&!P.match(E)){for(var k="",I=0,R=P.length;I<R;I++)k+=P.charCodeAt(I)>127?"x":P[I];if(!k.match(E)){var N=y.slice(0,l),O=y.slice(l+1),M=P.match(T);M&&(N.push(M[1]),O.unshift(M[2])),O.length&&(n="/"+O.join(".")+n),this.hostname=N.join(".");break}}}if(this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),!m){for(var D=this.hostname.split("."),L=[],l=0;l<D.length;++l){var B=D[l];L.push(B.match(/[^A-Za-z0-9_-]/)?"xn--"+p.encode(B):B)}this.hostname=L.join(".")}var F=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+F,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!A[s])for(var l=0,S=g.length;l<S;l++){var V=g[l],H=encodeURIComponent(V);H===V&&(H=escape(V)),n=n.split(V).join(H)}var z=n.indexOf("#");z!==-1&&(this.hash=n.substr(z),n=n.slice(0,z));var G=n.indexOf("?");if(G!==-1?(this.search=n.substr(G),this.query=n.substr(G+1),e&&(this.query=x.parse(this.query)),n=n.slice(0,G)):e&&(this.search="",this.query={}),n&&(this.pathname=n),C[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",B=this.search||"";this.path=F+B}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",n=this.hash||"",r=!1,s="";this.host?r=t+this.host:this.hostname&&(r=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&l(this.query)&&Object.keys(this.query).length&&(s=x.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||C[e])&&r!==!1?(r="//"+(r||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),o=o.replace("#","%23"),e+r+i+o+n},n.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(h(t)){var e=new n;e.parse(t,!1,!0),t=e}var i=new n;if(Object.keys(this).forEach(function(t){i[t]=this[t]},this),i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(i[e]=t[e])}),C[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i;if(t.protocol&&t.protocol!==i.protocol){if(!C[t.protocol])return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.href=i.format(),i;if(i.protocol=t.protocol,t.host||w[t.protocol])i.pathname=t.pathname;else{for(var r=(t.pathname||"").split("/");r.length&&!(t.host=r.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),i.pathname=r.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var s=i.pathname||"",o=i.search||"";i.path=s+o}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var a=i.pathname&&"/"===i.pathname.charAt(0),l=t.host||t.pathname&&"/"===t.pathname.charAt(0),p=l||a||i.host&&t.pathname,f=p,d=i.pathname&&i.pathname.split("/")||[],r=t.pathname&&t.pathname.split("/")||[],m=i.protocol&&!C[i.protocol];if(m&&(i.hostname="",i.port=null,i.host&&(""===d[0]?d[0]=i.host:d.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===r[0]?r[0]=t.host:r.unshift(t.host)),t.host=null),p=p&&(""===r[0]||""===d[0])),l)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,d=r;else if(r.length)d||(d=[]),d.pop(),d=d.concat(r),i.search=t.search,i.query=t.query;else if(!u(t.search)){if(m){i.hostname=i.host=d.shift();var y=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@");y&&(i.auth=y.shift(),i.host=i.hostname=y.shift())}return i.search=t.search,i.query=t.query,c(i.pathname)&&c(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!d.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var g=d.slice(-1)[0],v=(i.host||t.host)&&("."===g||".."===g)||""===g,_=0,b=d.length;b>=0;b--)g=d[b],"."==g?d.splice(b,1):".."===g?(d.splice(b,1),_++):_&&(d.splice(b,1),_--);if(!p&&!f)for(;_--;_)d.unshift("..");!p||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),v&&"/"!==d.join("/").substr(-1)&&d.push("");var E=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(m){i.hostname=i.host=E?"":d.length?d.shift():"";var y=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@");y&&(i.auth=y.shift(),i.host=i.hostname=y.shift())}return p=p||i.host&&d.length,p&&!E&&d.unshift(""),d.length?i.pathname=d.join("/"):(i.pathname=null,i.path=null),c(i.pathname)&&c(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},n.prototype.parseHost=function(){var t=this.host,e=d.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,i){var n;(function(t,r){!function(s){function o(t){throw RangeError(N[t])}function a(t,e){for(var i=t.length,n=[];i--;)n[i]=e(t[i]);return n}function h(t,e){var i=t.split("@"),n="";i.length>1&&(n=i[0]+"@",t=i[1]),t=t.replace(R,".");var r=t.split("."),s=a(r,e).join(".");return n+s}function l(t){for(var e,i,n=[],r=0,s=t.length;r<s;)e=t.charCodeAt(r++),e>=55296&&e<=56319&&r<s?(i=t.charCodeAt(r++),56320==(64512&i)?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),r--)):n.push(e);return n}function c(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=D(t>>>10&1023|55296),t=56320|1023&t),e+=D(t)}).join("")}function u(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:E}function p(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function f(t,e,i){var n=0;for(t=i?M(t/C):t>>1,t+=M(t/e);t>O*A>>1;n+=E)t=M(t/O);return M(n+(O+1)*t/(t+w))}function d(t){var e,i,n,r,s,a,h,l,p,d,m=[],y=t.length,g=0,v=S,_=x;for(i=t.lastIndexOf(P),i<0&&(i=0),n=0;n<i;++n)t.charCodeAt(n)>=128&&o("not-basic"),m.push(t.charCodeAt(n));for(r=i>0?i+1:0;r<y;){for(s=g,a=1,h=E;r>=y&&o("invalid-input"),l=u(t.charCodeAt(r++)),(l>=E||l>M((b-g)/a))&&o("overflow"),g+=l*a,p=h<=_?T:h>=_+A?A:h-_,!(l<p);h+=E)d=E-p,a>M(b/d)&&o("overflow"),a*=d;e=m.length+1,_=f(g-s,e,0==s),M(g/e)>b-v&&o("overflow"),v+=M(g/e),g%=e,m.splice(g++,0,v)}return c(m)}function m(t){var e,i,n,r,s,a,h,c,u,d,m,y,g,v,_,w=[];for(t=l(t),y=t.length,e=S,i=0,s=x,a=0;a<y;++a)m=t[a],m<128&&w.push(D(m));for(n=r=w.length,r&&w.push(P);n<y;){for(h=b,a=0;a<y;++a)m=t[a],m>=e&&m<h&&(h=m);for(g=n+1,h-e>M((b-i)/g)&&o("overflow"),i+=(h-e)*g,e=h,a=0;a<y;++a)if(m=t[a],m<e&&++i>b&&o("overflow"),m==e){for(c=i,u=E;d=u<=s?T:u>=s+A?A:u-s,!(c<d);u+=E)_=c-d,v=E-d,w.push(D(p(d+_%v,0))),c=M(_/v);w.push(D(p(c,0))),s=f(i,g,n==r),i=0,++n}++i,++e}return w.join("")}function y(t){return h(t,function(t){return k.test(t)?d(t.slice(4).toLowerCase()):t})}function g(t){return h(t,function(t){return I.test(t)?"xn--"+m(t):t})}var v=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof r&&r);v.global!==v&&v.window!==v&&v.self!==v||(s=v);var _,b=2147483647,E=36,T=1,A=26,w=38,C=700,x=72,S=128,P="-",k=/^xn--/,I=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=E-T,M=Math.floor,D=String.fromCharCode;_={version:"1.3.2",ucs2:{decode:l,encode:c},decode:d,encode:m,toASCII:g,toUnicode:y},n=function(){return _}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(this)}).call(e,i(102)(t),function(){return this}())},function(t,e,i){"use strict";e.decode=e.parse=i(124),e.encode=e.stringify=i(125)},function(t,e){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,r){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var o=/\+/g;t=t.split(e);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var h=t.length;a>0&&h>a&&(h=a);for(var l=0;l<h;++l){var c,u,p,f,d=t[l].replace(o,"%20"),m=d.indexOf(n);m>=0?(c=d.substr(0,m),u=d.substr(m+1)):(c=d,u=""),p=decodeURIComponent(c),f=decodeURIComponent(u),i(s,p)?Array.isArray(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s}},function(t,e){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,r){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(r){var s=encodeURIComponent(i(r))+n;return Array.isArray(t[r])?t[r].map(function(t){return s+encodeURIComponent(i(t))}).join(e):s+encodeURIComponent(i(t[r]))}).join(e):r?encodeURIComponent(i(r))+n+encodeURIComponent(i(t)):""}},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function r(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!r(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,r,a,h,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(i=this._events[t],o(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(s(i))for(a=Array.prototype.slice.call(arguments,1),l=i.slice(),r=l.length,h=0;h<r;h++)l[h].apply(this,a);return!0},i.prototype.addListener=function(t,e){var r;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(r=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var r=!1;return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var i,r,o,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],o=i.length,r=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(i)){for(a=o;a-- >0;)if(i[a]===e||i[a].listener&&i[a].listener===e){r=a;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],n(i))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,i){(function(t){var i=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n="object";e.isNode="undefined"!=typeof t&&"[object process]"===t.toString(),e.nextTick=function(i){e.isNode?t.nextTick(i):setTimeout(i,0)},e.trim=function(t){return t.trim?t.trim():t.replace(i,"")},e.deepEquals=function(t,e){return t===e||typeof t===n&&typeof e===n&&JSON.stringify(t)===JSON.stringify(e)},e.deepCopy=function(t){return typeof t===n?JSON.parse(JSON.stringify(t)):t},e.shallowCopy=function(t){if(Array.isArray(t))return t.slice(0);if(typeof t===n){for(var e=Object.create(null),i=Object.keys(t),r=0;r<i.length;r++)e[i[r]]=t[i[r]];return e}return t}}).call(e,i(41))},function(t,e,i){var n=i(118),r=i(117),s=i(129),o=i(130),a=i(82),h=i(131),l=i(84),c=function(t,e,i){this._options=t,this._connection=e,this._client=i,this._emitter=new l,this._listener={},this._ackTimeoutRegistry=new s(i,a.TOPIC.EVENT,this._options.subscriptionTimeout),this._resubscribeNotifier=new o(this._client,this._resubscribe.bind(this))};c.prototype.subscribe=function(t,e){if("string"!=typeof t||0===t.length)throw new Error("invalid argument name");if("function"!=typeof e)throw new Error("invalid argument callback");this._emitter.hasListeners(t)||(this._ackTimeoutRegistry.add(t,a.ACTIONS.SUBSCRIBE),this._connection.sendMsg(a.TOPIC.EVENT,a.ACTIONS.SUBSCRIBE,[t])),this._emitter.on(t,e)},c.prototype.unsubscribe=function(t,e){if("string"!=typeof t||0===t.length)throw new Error("invalid argument name");if(void 0!==e&&"function"!=typeof e)throw new Error("invalid argument callback");this._emitter.off(t,e),this._emitter.hasListeners(t)||(this._ackTimeoutRegistry.add(t,a.ACTIONS.UNSUBSCRIBE),this._connection.sendMsg(a.TOPIC.EVENT,a.ACTIONS.UNSUBSCRIBE,[t]))},c.prototype.emit=function(t,e){if("string"!=typeof t||0===t.length)throw new Error("invalid argument name");this._connection.sendMsg(a.TOPIC.EVENT,a.ACTIONS.EVENT,[t,n.typed(e)]),this._emitter.emit(t,e)},c.prototype.listen=function(t,e){if("string"!=typeof t||0===t.length)throw new Error("invalid argument pattern");if("function"!=typeof e)throw new Error("invalid argument callback");return this._listener[t]&&!this._listener[t].destroyPending?this._client._$onError(a.TOPIC.EVENT,a.EVENT.LISTENER_EXISTS,t):(this._listener[t]&&this._listener[t].destroy(),void(this._listener[t]=new h(a.TOPIC.EVENT,t,e,this._options,this._client,this._connection)))},c.prototype.unlisten=function(t){if("string"!=typeof t||0===t.length)throw new Error("invalid argument pattern");var e=this._listener[t];e&&!e.destroyPending?e.sendDestroy():this._listener[t]?(this._ackTimeoutRegistry.add(t,a.EVENT.UNLISTEN),this._listener[t].destroy(),delete this._listener[t]):this._client._$onError(a.TOPIC.RECORD,a.EVENT.NOT_LISTENING,t)},c.prototype._$handle=function(t){var e=t.data[t.action===a.ACTIONS.ACK?1:0];if(t.action===a.ACTIONS.EVENT)return processed=!0,void(t.data&&2===t.data.length?this._emitter.emit(e,r.convertTyped(t.data[1],this._client)):this._emitter.emit(e));if(t.action===a.ACTIONS.ACK&&t.data[0]===a.ACTIONS.UNLISTEN&&this._listener[e]&&this._listener[e].destroyPending)return this._listener[e].destroy(),void delete this._listener[e];if(this._listener[e])return processed=!0,void this._listener[e]._$onMessage(t);if(t.action!==a.ACTIONS.SUBSCRIPTION_FOR_PATTERN_REMOVED&&t.action!==a.ACTIONS.SUBSCRIPTION_HAS_PROVIDER)return t.action===a.ACTIONS.ACK?void this._ackTimeoutRegistry.clear(t):t.action===a.ACTIONS.ERROR?(t.data[0]===a.EVENT.MESSAGE_DENIED?this._ackTimeoutRegistry.remove(t.data[1],t.data[2]):t.data[0]===a.EVENT.NOT_SUBSCRIBED&&this._ackTimeoutRegistry.remove(t.data[1],a.ACTIONS.UNSUBSCRIBE),t.processedError=!0,void this._client._$onError(a.TOPIC.EVENT,t.data[0],t.data[1])):void this._client._$onError(a.TOPIC.EVENT,a.EVENT.UNSOLICITED_MESSAGE,e)},c.prototype._resubscribe=function(){var t=this._emitter._callbacks;for(var e in t)this._connection.sendMsg(a.TOPIC.EVENT,a.ACTIONS.SUBSCRIBE,[e])},t.exports=c},function(t,e,i){var n=i(82),r=i(84),s=function(t,e,i){this._client=t,this._topic=e,this._timeoutDuration=i,this._register={}};r(s.prototype),s.prototype.add=function(t,e){var i=e?e+t:t;this.remove(t,e),this._register[i]=setTimeout(this._onTimeout.bind(this,i,t),this._timeoutDuration)},s.prototype.remove=function(t,e){var i=e?e+t:t;this._register[i]&&this.clear({data:[e,t]})},s.prototype.clear=function(t){var e=t.data[1],i=t.data[0]+e,r=this._register[i]||this._register[e];r?clearTimeout(r):this._client._$onError(this._topic,n.EVENT.UNSOLICITED_MESSAGE,t.raw)},s.prototype._onTimeout=function(t,e){delete this._register[t];var i="No ACK message received in time for "+e;this._client._$onError(this._topic,n.EVENT.ACK_TIMEOUT,i),this.emit("timeout",e)},t.exports=s},function(t,e,i){var n=i(82),r=function(t,e){this._client=t,this._resubscribe=e,this._isReconnecting=!1,this._connectionStateChangeHandler=this._handleConnectionStateChanges.bind(this),this._client.on("connectionStateChanged",this._connectionStateChangeHandler)};r.prototype.destroy=function(){this._client.removeListener("connectionStateChanged",this._connectionStateChangeHandler),this._connectionStateChangeHandler=null,this._client=null},r.prototype._handleConnectionStateChanges=function(){var t=this._client.getConnectionState();t===n.CONNECTION_STATE.RECONNECTING&&this._isReconnecting===!1&&(this._isReconnecting=!0),t===n.CONNECTION_STATE.OPEN&&this._isReconnecting===!0&&(this._isReconnecting=!1,this._resubscribe())},t.exports=r},function(t,e,i){var n=i(82),r=i(130),s=function(t,e,i,n,s,o){this._type=t,this._callback=i,this._pattern=e,this._options=n,this._client=s,this._connection=o,this._ackTimeout=setTimeout(this._onAckTimeout.bind(this),this._options.subscriptionTimeout),this._resubscribeNotifier=new r(s,this._sendListen.bind(this)),this._sendListen(),this.destroyPending=!1};s.prototype.sendDestroy=function(){this.destroyPending=!0,this._connection.sendMsg(this._type,n.ACTIONS.UNLISTEN,[this._pattern]),this._resubscribeNotifier.destroy()},s.prototype.destroy=function(){this._callback=null,this._pattern=null,this._client=null,this._connection=null},s.prototype.accept=function(t){this._connection.sendMsg(this._type,n.ACTIONS.LISTEN_ACCEPT,[this._pattern,t])},s.prototype.reject=function(t){this._connection.sendMsg(this._type,n.ACTIONS.LISTEN_REJECT,[this._pattern,t])},s.prototype._createCallbackResponse=function(t){return{accept:this.accept.bind(this,t.data[1]),reject:this.reject.bind(this,t.data[1])}},s.prototype._$onMessage=function(t){t.action===n.ACTIONS.ACK?clearTimeout(this._ackTimeout):t.action===n.ACTIONS.SUBSCRIPTION_FOR_PATTERN_FOUND?(this._showDeprecatedMessage(t),this._callback(t.data[1],!0,this._createCallbackResponse(t))):t.action===n.ACTIONS.SUBSCRIPTION_FOR_PATTERN_REMOVED?this._callback(t.data[1],!1):this._client._$onError(this._type,n.EVENT.UNSOLICITED_MESSAGE,t.data[0]+"|"+t.data[1])},s.prototype._sendListen=function(){this._connection.sendMsg(this._type,n.ACTIONS.LISTEN,[this._pattern])},s.prototype._onAckTimeout=function(){this._client._$onError(this._type,n.EVENT.ACK_TIMEOUT,"No ACK message received in time for "+this._pattern)},s.prototype._showDeprecatedMessage=function(t){if(3!==this._callback.length){var e="DEPRECATED: listen should explicitly accept or reject for pattern: "+t.data[0];e+="\nhttps://github.com/deepstreamIO/deepstream.io-client-js/issues/212",console&&console.warn&&console.warn(e)}},t.exports=s},function(t,e,i){var n=i(82),r=i(129),s=i(130),o=i(133),a=i(134),h=i(117),l=i(118),c=function(t,e,i){this._options=t,this._connection=e,this._client=i,this._rpcs={},this._providers={},this._provideAckTimeouts={},this._ackTimeoutRegistry=new r(i,n.TOPIC.RPC,this._options.subscriptionTimeout),this._resubscribeNotifier=new s(this._client,this._reprovide.bind(this))};c.prototype.provide=function(t,e){if("string"!=typeof t||0===t.length)throw new Error("invalid argument name");if(this._providers[t])throw new Error("RPC "+t+" already registered");if("function"!=typeof e)throw new Error("invalid argument callback");this._ackTimeoutRegistry.add(t,n.ACTIONS.SUBSCRIBE),this._providers[t]=e,this._connection.sendMsg(n.TOPIC.RPC,n.ACTIONS.SUBSCRIBE,[t])},c.prototype.unprovide=function(t){if("string"!=typeof t||0===t.length)throw new Error("invalid argument name");this._providers[t]&&(delete this._providers[t],this._ackTimeoutRegistry.add(t,n.ACTIONS.UNSUBSCRIBE),this._connection.sendMsg(n.TOPIC.RPC,n.ACTIONS.UNSUBSCRIBE,[t]))},c.prototype.make=function(t,e,i){if("string"!=typeof t||0===t.length)throw new Error("invalid argument name");if("function"!=typeof i)throw new Error("invalid argument callback");var r=this._client.getUid(),s=l.typed(e);this._rpcs[r]=new a(this._options,i,this._client),this._connection.sendMsg(n.TOPIC.RPC,n.ACTIONS.REQUEST,[t,r,s])},c.prototype._getRpc=function(t,e,i){var r=this._rpcs[t];return r?r:(this._client._$onError(n.TOPIC.RPC,n.EVENT.UNSOLICITED_MESSAGE,i),null)},c.prototype._respondToRpc=function(t){var e,i=t.data[0],r=t.data[1],s=null;t.data[2]&&(s=h.convertTyped(t.data[2],this._client)),this._providers[i]?(e=new o(this._connection,i,r),this._providers[i](s,e)):this._connection.sendMsg(n.TOPIC.RPC,n.ACTIONS.REJECTION,[i,r])},c.prototype._$handle=function(t){var e,i,r;if(t.action===n.ACTIONS.REQUEST)return void this._respondToRpc(t);if(t.action===n.ACTIONS.ACK&&(t.data[0]===n.ACTIONS.SUBSCRIBE||t.data[0]===n.ACTIONS.UNSUBSCRIBE))return void this._ackTimeoutRegistry.clear(t);if(t.action===n.ACTIONS.ERROR){if(t.data[0]===n.EVENT.MESSAGE_PERMISSION_ERROR)return;if(t.data[0]===n.EVENT.MESSAGE_DENIED){if(t.data[2]===n.ACTIONS.SUBSCRIBE)return void this._ackTimeoutRegistry.remove(t.data[1],n.ACTIONS.SUBSCRIBE);t.data[2]===n.ACTIONS.REQUEST&&(e=t.data[1],i=t.data[3])}else e=t.data[1],i=t.data[2]}else e=t.data[0],i=t.data[1];r=this._getRpc(i,e,t.raw),null!==r&&(t.action===n.ACTIONS.ACK?r.ack():t.action===n.ACTIONS.RESPONSE?(r.respond(t.data[2]),delete this._rpcs[i]):t.action===n.ACTIONS.ERROR&&(t.processedError=!0,r.error(t.data[0]),delete this._rpcs[i]))},c.prototype._reprovide=function(){for(var t in this._providers)this._connection.sendMsg(n.TOPIC.RPC,n.ACTIONS.SUBSCRIBE,[t])},t.exports=c},function(t,e,i){var n=i(82),r=i(127),s=i(118),o=function(t,e,i){this._connection=t,this._name=e,this._correlationId=i,this._isAcknowledged=!1,this._isComplete=!1,this.autoAck=!0,r.nextTick(this._performAutoAck.bind(this))};o.prototype.ack=function(){this._isAcknowledged===!1&&(this._connection.sendMsg(n.TOPIC.RPC,n.ACTIONS.ACK,[this._name,this._correlationId]),this._isAcknowledged=!0)},o.prototype.reject=function(){this.autoAck=!1,this._isComplete=!0,this._isAcknowledged=!0,this._connection.sendMsg(n.TOPIC.RPC,n.ACTIONS.REJECTION,[this._name,this._correlationId])},o.prototype.error=function(t){this.autoAck=!1,this._isComplete=!0,this._isAcknowledged=!0,this._connection.sendMsg(n.TOPIC.RPC,n.ACTIONS.ERROR,[t,this._name,this._correlationId])},o.prototype.send=function(t){if(this._isComplete===!0)throw new Error("Rpc "+this._name+" already completed");this.ack();var e=s.typed(t);this._connection.sendMsg(n.TOPIC.RPC,n.ACTIONS.RESPONSE,[this._name,this._correlationId,e]),this._isComplete=!0},o.prototype._performAutoAck=function(){this.autoAck===!0&&this.ack()},t.exports=o},function(t,e,i){var n=i(82),r=i(117),s=function(t,e,i){this._options=t,this._callback=e,this._client=i,this._ackTimeout=setTimeout(this.error.bind(this,n.EVENT.ACK_TIMEOUT),this._options.rpcAckTimeout),this._responseTimeout=setTimeout(this.error.bind(this,n.EVENT.RESPONSE_TIMEOUT),this._options.rpcResponseTimeout)};s.prototype.ack=function(){clearTimeout(this._ackTimeout)},s.prototype.respond=function(t){var e=r.convertTyped(t,this._client);this._callback(null,e),this._complete()},s.prototype.error=function(t){this._callback(t),this._complete()},s.prototype._complete=function(){clearTimeout(this._ackTimeout),clearTimeout(this._responseTimeout)},t.exports=s},function(t,e,i){var n=i(136),r=i(138),s=i(139),o=i(131),a=i(140),h=i(82),l=i(117),c=i(84),u=function(t,e,i){this._options=t,this._connection=e,this._client=i,this._records={},this._lists={},this._listener={},this._destroyEventEmitter=new c,this._hasRegistry=new a(i,e,h.TOPIC.RECORD,h.ACTIONS.HAS,this._options.recordReadTimeout),this._snapshotRegistry=new a(i,e,h.TOPIC.RECORD,h.ACTIONS.SNAPSHOT,this._options.recordReadTimeout)};u.prototype.getRecord=function(t,e){return this._records[t]||(this._records[t]=new n(t,e||{},this._connection,this._options,this._client),this._records[t].on("error",this._onRecordError.bind(this,t)),this._records[t].on("destroyPending",this._onDestroyPending.bind(this,t)),this._records[t].on("delete",this._removeRecord.bind(this,t)),this._records[t].on("discard",this._removeRecord.bind(this,t))),this._records[t].usages++,this._records[t]},u.prototype.getList=function(t,e){return this._lists[t]?this._records[t].usages++:this._lists[t]=new s(this,t,e),this._lists[t]},u.prototype.getAnonymousRecord=function(){return new r(this)},u.prototype.listen=function(t,e){if("string"!=typeof t||0===t.length)throw new Error("invalid argument pattern");if("function"!=typeof e)throw new Error("invalid argument callback");return this._listener[t]&&!this._listener[t].destroyPending?this._client._$onError(h.TOPIC.RECORD,h.EVENT.LISTENER_EXISTS,t):(this._listener[t]&&this._listener[t].destroy(),void(this._listener[t]=new o(h.TOPIC.RECORD,t,e,this._options,this._client,this._connection)))},u.prototype.unlisten=function(t){if("string"!=typeof t||0===t.length)throw new Error("invalid argument pattern");var e=this._listener[t];e&&!e.destroyPending?e.sendDestroy():this._listener[t]?(this._listener[t].destroy(),delete this._listener[t]):this._client._$onError(h.TOPIC.RECORD,h.EVENT.NOT_LISTENING,t)},u.prototype.snapshot=function(t,e){if("string"!=typeof t||0===t.length)throw new Error("invalid argument name");this._records[t]&&this._records[t].isReady?e(null,this._records[t].get()):this._snapshotRegistry.request(t,e)},u.prototype.has=function(t,e){if("string"!=typeof t||0===t.length)throw new Error("invalid argument name");this._records[t]?e(null,!0):this._hasRegistry.request(t,e)},u.prototype._$handle=function(t){var e;if(t.action===h.ACTIONS.ERROR&&t.data[0]!==h.EVENT.VERSION_EXISTS&&t.data[0]!==h.ACTIONS.SNAPSHOT&&t.data[0]!==h.ACTIONS.HAS&&t.data[0]!==h.EVENT.MESSAGE_DENIED)return t.processedError=!0,void this._client._$onError(h.TOPIC.RECORD,t.data[0],t.data[1]);if(t.action===h.ACTIONS.ACK||t.action===h.ACTIONS.ERROR){if(e=t.data[1],t.data[0]===h.ACTIONS.DELETE||t.data[0]===h.ACTIONS.UNSUBSCRIBE||t.data[0]===h.EVENT.MESSAGE_DENIED&&t.data[2]===h.ACTIONS.DELETE)return this._destroyEventEmitter.emit("destroy_ack_"+e,t),void(t.data[0]===h.ACTIONS.DELETE&&this._records[e]&&this._records[e]._$onMessage(t));if(t.data[0]===h.ACTIONS.SNAPSHOT)return t.processedError=!0,void this._snapshotRegistry.recieve(e,t.data[2]);if(t.data[0]===h.ACTIONS.HAS)return t.processedError=!0,void this._snapshotRegistry.recieve(e,t.data[2])}else e=t.data[0];var i=!1;this._records[e]&&(i=!0,this._records[e]._$onMessage(t)),t.action===h.ACTIONS.READ&&this._snapshotRegistry.hasRequest(e)&&(i=!0,this._snapshotRegistry.recieve(e,null,JSON.parse(t.data[2]))),t.action===h.ACTIONS.HAS&&this._hasRegistry.hasRequest(e)&&(i=!0,this._hasRegistry.recieve(e,null,l.convertTyped(t.data[1]))),t.action===h.ACTIONS.ACK&&t.data[0]===h.ACTIONS.UNLISTEN&&this._listener[e]&&this._listener[e].destroyPending?(i=!0,this._listener[e].destroy(),delete this._listener[e]):this._listener[e]?(i=!0,this._listener[e]._$onMessage(t)):t.action===h.ACTIONS.SUBSCRIPTION_FOR_PATTERN_REMOVED?i=!0:t.action===h.ACTIONS.SUBSCRIPTION_HAS_PROVIDER&&(i=!0),i||(t.processedError=!0,this._client._$onError(h.TOPIC.RECORD,h.EVENT.UNSOLICITED_MESSAGE,e))},u.prototype._onRecordError=function(t,e){this._client._$onError(h.TOPIC.RECORD,e,t)},u.prototype._onDestroyPending=function(t){if(!this._records[t])return void this.emit("error","Record '"+t+"' does not exists");var e=this._records[t]._$onMessage.bind(this._records[t]);this._destroyEventEmitter.once("destroy_ack_"+t,e),this._removeRecord(t)},u.prototype._removeRecord=function(t){delete this._records[t],delete this._lists[t]},t.exports=u},function(t,e,i){var n=i(137),r=(i(127),i(130)),s=i(84),o=i(82),a=i(118),h=i(117),l=function(t,e,i,n,a){if("string"!=typeof t||0===t.length)throw new Error("invalid argument name");
this.name=t,this.usages=0,this._recordOptions=e,this._connection=i,this._client=a,this._options=n,this.isReady=!1,this.isDestroyed=!1,this.hasProvider=!1,this._$data=Object.create(null),this.version=null,this._eventEmitter=new s,this._queuedMethodCalls=[],this._mergeStrategy=null,n.mergeStrategy&&this.setMergeStrategy(n.mergeStrategy),this._resubscribeNotifier=new r(this._client,this._sendRead.bind(this)),this._readAckTimeout=setTimeout(this._onTimeout.bind(this,o.EVENT.ACK_TIMEOUT),this._options.recordReadAckTimeout),this._readTimeout=setTimeout(this._onTimeout.bind(this,o.EVENT.RESPONSE_TIMEOUT),this._options.recordReadTimeout),this._sendRead()};s(l.prototype),l.prototype.setMergeStrategy=function(t){if("function"!=typeof t)throw new Error("Invalid merge strategy: Must be a Function");this._mergeStrategy=t},l.prototype.get=function(t){return n.get(this._$data,t,this._options.recordDeepCopy)},l.prototype.set=function(t,e){if(1===arguments.length&&"object"!=typeof t)throw new Error("invalid argument data");if(2===arguments.length&&("string"!=typeof t||0===t.length))throw new Error("invalid argument path");if(this._checkDestroyed("set"))return this;if(!this.isReady)return this._queuedMethodCalls.push({method:"set",args:arguments}),this;var i=1===arguments.length?void 0:t;e=i?e:t;var r=this._$data,s=n.set(r,i,e,this._options.recordDeepCopy);return r===s?this:(this._sendUpdate(i,e),this._applyChange(s),this)},l.prototype.subscribe=function(t,e,i){var n=this._normalizeArguments(arguments);if(void 0!==n.path&&("string"!=typeof n.path||0===n.path.length))throw new Error("invalid argument path");if("function"!=typeof n.callback)throw new Error("invalid argument callback");this._checkDestroyed("subscribe")||(n.triggerNow?this.whenReady(function(){this._eventEmitter.on(n.path,n.callback),n.callback(this.get(n.path))}.bind(this)):this._eventEmitter.on(n.path,n.callback))},l.prototype.unsubscribe=function(t,e){var i=this._normalizeArguments(arguments);if(void 0!==i.path&&("string"!=typeof i.path||0===i.path.length))throw new Error("invalid argument path");if(void 0!==i.callback&&"function"!=typeof i.callback)throw new Error("invalid argument callback");this._checkDestroyed("unsubscribe")||this._eventEmitter.off(i.path,i.callback)},l.prototype.discard=function(){this._checkDestroyed("discard")||this.whenReady(function(){this.usages--,this.usages<=0&&(this.emit("destroyPending"),this._discardTimeout=setTimeout(this._onTimeout.bind(this,o.EVENT.ACK_TIMEOUT),this._options.subscriptionTimeout),this._connection.sendMsg(o.TOPIC.RECORD,o.ACTIONS.UNSUBSCRIBE,[this.name]))}.bind(this))},l.prototype["delete"]=function(){this._checkDestroyed("delete")||this.whenReady(function(){this.emit("destroyPending"),this._deleteAckTimeout=setTimeout(this._onTimeout.bind(this,o.EVENT.DELETE_TIMEOUT),this._options.recordDeleteTimeout),this._connection.sendMsg(o.TOPIC.RECORD,o.ACTIONS.DELETE,[this.name])}.bind(this))},l.prototype.whenReady=function(t){this.isReady===!0?t(this):this.once("ready",t.bind(this,this))},l.prototype._$onMessage=function(t){if(t.action===o.ACTIONS.READ)null===this.version?(clearTimeout(this._readTimeout),this._onRead(t)):this._applyUpdate(t,this._client);else if(t.action===o.ACTIONS.ACK)this._processAckMessage(t);else if(t.action===o.ACTIONS.UPDATE||t.action===o.ACTIONS.PATCH)this._applyUpdate(t,this._client);else if(t.data[0]===o.EVENT.VERSION_EXISTS)this._recoverRecord(t.data[2],JSON.parse(t.data[3]),t);else if(t.data[0]===o.EVENT.MESSAGE_DENIED)this._clearTimeouts();else if(t.action===o.ACTIONS.SUBSCRIPTION_HAS_PROVIDER){var e=h.convertTyped(t.data[1],this._client);this.hasProvider=e,this.emit("hasProviderChanged",e)}},l.prototype._recoverRecord=function(t,e,i){i.processedError=!0,this._mergeStrategy?this._mergeStrategy(this,e,t,this._onRecordRecovered.bind(this,t,e)):this.emit("error",o.EVENT.VERSION_EXISTS,"received update for "+t+" but version is "+this.version)},l.prototype._sendUpdate=function(t,e){this.version++,t?this._connection.sendMsg(o.TOPIC.RECORD,o.ACTIONS.PATCH,[this.name,this.version,t,a.typed(e)]):this._connection.sendMsg(o.TOPIC.RECORD,o.ACTIONS.UPDATE,[this.name,this.version,e])},l.prototype._onRecordRecovered=function(t,e,i,r){if(i)this.emit("error",o.EVENT.VERSION_EXISTS,"received update for "+t+" but version is "+this.version);else{this.version=t;var s=this._$data,a=n.set(s,void 0,r,!1);if(s===a)return;this._sendUpdate(void 0,r),this._applyChange(a)}},l.prototype._processAckMessage=function(t){var e=t.data[0];e===o.ACTIONS.SUBSCRIBE?clearTimeout(this._readAckTimeout):e===o.ACTIONS.DELETE?(this.emit("delete"),this._destroy()):e===o.ACTIONS.UNSUBSCRIBE&&(this.emit("discard"),this._destroy())},l.prototype._applyUpdate=function(t){var e,i=parseInt(t.data[1],10);if(e=t.action===o.ACTIONS.PATCH?h.convertTyped(t.data[3],this._client):JSON.parse(t.data[2]),null===this.version)this.version=i;else if(this.version+1!==i)return void(t.action===o.ACTIONS.PATCH?this._connection.sendMsg(o.TOPIC.RECORD,o.ACTIONS.SNAPSHOT,[this.name]):this._recoverRecord(i,e,t));this.version=i,this._applyChange(n.set(this._$data,t.action===o.ACTIONS.PATCH?t.data[2]:void 0,e))},l.prototype._onRead=function(t){this.version=parseInt(t.data[1],10),this._applyChange(n.set(this._$data,void 0,JSON.parse(t.data[2]))),this._setReady()},l.prototype._setReady=function(){this.isReady=!0;for(var t=0;t<this._queuedMethodCalls.length;t++)this[this._queuedMethodCalls[t].method].apply(this,this._queuedMethodCalls[t].args);this._queuedMethodCalls=[],this.emit("ready")},l.prototype._sendRead=function(){this._connection.sendMsg(o.TOPIC.RECORD,o.ACTIONS.CREATEORREAD,[this.name])},l.prototype._applyChange=function(t){if(!this.isDestroyed){var e=this._$data;if(this._$data=t,this._eventEmitter._callbacks)for(var i=Object.keys(this._eventEmitter._callbacks),r=0;r<i.length;r++){var s=n.get(t,i[r],!1),o=n.get(e,i[r],!1);s!==o&&this._eventEmitter.emit(i[r],this.get(i[r]))}}},l.prototype._normalizeArguments=function(t){if(1===t.length&&"object"==typeof t[0])return t[0];for(var e=Object.create(null),i=0;i<t.length;i++)"string"==typeof t[i]?e.path=t[i]:"function"==typeof t[i]?e.callback=t[i]:"boolean"==typeof t[i]&&(e.triggerNow=t[i]);return e},l.prototype._clearTimeouts=function(){clearTimeout(this._readAckTimeout),clearTimeout(this._deleteAckTimeout),clearTimeout(this._discardTimeout),clearTimeout(this._deleteAckTimeout)},l.prototype._checkDestroyed=function(t){return!!this.isDestroyed&&(this.emit("error","Can't invoke '"+t+"'. Record '"+this.name+"' is already destroyed"),!0)},l.prototype._onTimeout=function(t){this._clearTimeouts(),this.emit("error",t)},l.prototype._destroy=function(){this._clearTimeouts(),this._eventEmitter.off(),this._resubscribeNotifier.destroy(),this.isDestroyed=!0,this.isReady=!1,this._client=null,this._eventEmitter=null,this._connection=null},t.exports=l},function(t,e,i){function n(t,e,i){var r;if(s.deepEquals(t,e))return t;if(Array.isArray(t)&&Array.isArray(e)){var o=[];for(r=0;r<e.length;r++)o[r]=n(t[r],e[r],i);return o}if(Array.isArray(e)||"object"!=typeof t||"object"!=typeof e)return i!==!1?s.deepCopy(e):e;var a=Object.keys(e),h=Object.create(null);for(r=0;r<a.length;r++)h[a[r]]=n(t[a[r]],e[a[r]],i);return h}function r(t){if(a[t])return a[t];var e="undefined"!==String(t)?String(t).match(o):[];if(!e)throw new Error("invalid path "+t);return a[t]=e.map(function(t){return isNaN(t)?t:parseInt(t,10)})}var s=i(127),o=/([^\.\[\]\s]+)/g,a=Object.create(null);t.exports.get=function(t,e,i){for(var n=r(e),o=0;o<n.length;o++){if(void 0===t)return;if("object"!=typeof t)throw new Error("invalid data or path");t=t[n[o]]}return i!==!1?s.deepCopy(t):t},t.exports.set=function(e,i,o,a){var h=r(i);if(0===h.length)return n(e,o,a);var l=t.exports.get(e,i,!1),c=n(l,o,a);if(c===l)return e;for(var u=s.shallowCopy(e),p=u,f=0;f<h.length;f++)f===h.length-1?p[h[f]]=c:p=void 0!==p[h[f]]?p[h[f]]=s.shallowCopy(p[h[f]]):h[f+1]&&!isNaN(h[f+1])?p[h[f]]=[]:p[h[f]]=Object.create(null);return u}},function(t,e,i){var n=i(136),r=i(84),s=function(t){this.name=null,this._recordHandler=t,this._record=null,this._subscriptions=[],this._proxyMethod("delete"),this._proxyMethod("set"),this._proxyMethod("discard")};r(s.prototype),s.prototype.get=function(t){if(null!==this._record)return this._record.get(t)},s.prototype.subscribe=function(){var t=n.prototype._normalizeArguments(arguments);t.triggerNow=!0,this._subscriptions.push(t),null!==this._record&&this._record.subscribe(t)},s.prototype.unsubscribe=function(){var t,e=n.prototype._normalizeArguments(arguments),i=[];for(t=0;t<this._subscriptions.length;t++)this._subscriptions[t].path===e.path&&this._subscriptions[t].callback===e.callback||i.push(this._subscriptions[t]);this._subscriptions=i,null!==this._record&&this._record.unsubscribe(e)},s.prototype.setName=function(t){this.name=t;var e;if(null!==this._record&&!this._record.isDestroyed){for(e=0;e<this._subscriptions.length;e++)this._record.unsubscribe(this._subscriptions[e]);this._record.discard()}for(this._record=this._recordHandler.getRecord(t),e=0;e<this._subscriptions.length;e++)this._record.subscribe(this._subscriptions[e]);this._record.whenReady(this.emit.bind(this,"ready")),this.emit("nameChanged",t)},s.prototype._proxyMethod=function(t){this[t]=this._callMethodOnRecord.bind(this,t)},s.prototype._callMethodOnRecord=function(t){if(null===this._record)throw new Error("Can`t invoke "+t+". AnonymousRecord not initialised. Call setName first");if("function"!=typeof this._record[t])throw new Error(t+" is not a method on the record");var e=Array.prototype.slice.call(arguments,1);return this._record[t].apply(this._record,e)},t.exports=s},function(t,e,i){var n=i(84),r=i(136),s=i(82),o="entry-added",a="entry-removed",h="entry-moved",l=function(t,e,i){if("string"!=typeof e||0===e.length)throw new Error("invalid argument name");this._recordHandler=t,this._record=this._recordHandler.getRecord(e,i),this._record._applyUpdate=this._applyUpdate.bind(this),this._record.on("delete",this.emit.bind(this,"delete")),this._record.on("discard",this._onDiscard.bind(this)),this._record.on("ready",this._onReady.bind(this)),this.isDestroyed=this._record.isDestroyed,this.isReady=this._record.isReady,this.name=e,this._queuedMethods=[],this._beforeStructure=null,this._hasAddListener=null,this._hasRemoveListener=null,this._hasMoveListener=null,this["delete"]=this._record["delete"].bind(this._record),this.discard=this._record.discard.bind(this._record),this.whenReady=this._record.whenReady.bind(this)};n(l.prototype),l.prototype.getEntries=function(){var t=this._record.get();return t instanceof Array?t:[]},l.prototype.isEmpty=function(){return 0===this.getEntries().length},l.prototype.setEntries=function(t){var e,i="entries must be an array of record names";if(!(t instanceof Array))throw new Error(i);for(e=0;e<t.length;e++)if("string"!=typeof t[e])throw new Error(i);this._record.isReady===!1?this._queuedMethods.push(this.setEntries.bind(this,t)):(this._beforeChange(),this._record.set(t),this._afterChange())},l.prototype.removeEntry=function(t,e){if(this._record.isReady===!1)return void this._queuedMethods.push(this.removeEntry.bind(this,t));var i,n=this._record.get(),r=this._hasIndex(e),s=[];for(i=0;i<n.length;i++)(n[i]!==t||r&&e!==i)&&s.push(n[i]);this._beforeChange(),this._record.set(s),this._afterChange()},l.prototype.addEntry=function(t,e){if("string"!=typeof t)throw new Error("Entry must be a recordName");if(this._record.isReady===!1)return void this._queuedMethods.push(this.addEntry.bind(this,t));var i=this._hasIndex(e),n=this.getEntries();i?n.splice(e,0,t):n.push(t),this._beforeChange(),this._record.set(n),this._afterChange()},l.prototype.subscribe=function(){var t=r.prototype._normalizeArguments(arguments);if(t.path)throw new Error("path is not supported for List.subscribe");var e=function(t){t(this.getEntries())}.bind(this,t.callback);t.callback.wrappedCallback=e,t.callback=e,this._record.subscribe(t)},l.prototype.unsubscribe=function(){var t=r.prototype._normalizeArguments(arguments);if(t.path)throw new Error("path is not supported for List.unsubscribe");t.callback=t.callback.wrappedCallback,this._record.unsubscribe(t)},l.prototype._onReady=function(){this.isReady=!0;for(var t=0;t<this._queuedMethods.length;t++)this._queuedMethods[t]();this.emit("ready")},l.prototype._onDiscard=function(){this.isDestroyed=!0,this.emit("discard")},l.prototype._applyUpdate=function(t){if(t.action===s.ACTIONS.PATCH)throw new Error("PATCH is not supported for Lists");"["!==t.data[2].charAt(0)&&(t.data[2]="[]"),this._beforeChange(),r.prototype._applyUpdate.call(this._record,t),this._afterChange()},l.prototype._hasIndex=function(t){var e=!1,i=this.getEntries();if(void 0!==t){if(isNaN(t))throw new Error("Index must be a number");if(t!==i.length&&(t>=i.length||t<0))throw new Error("Index must be within current entries");e=!0}return e},l.prototype._beforeChange=function(){this._hasAddListener=this.listeners(o).length>0,this._hasRemoveListener=this.listeners(a).length>0,this._hasMoveListener=this.listeners(h).length>0,this._hasAddListener||this._hasRemoveListener||this._hasMoveListener?this._beforeStructure=this._getStructure():this._beforeStructure=null},l.prototype._afterChange=function(){if(null!==this._beforeStructure){var t,e,i=this._getStructure(),n=this._beforeStructure;if(this._hasRemoveListener)for(t in n)for(e=0;e<n[t].length;e++)void 0!==i[t]&&void 0!==i[t][e]||this.emit(a,t,n[t][e]);if(this._hasAddListener||this._hasMoveListener)for(t in i)if(void 0===n[t])for(e=0;e<i[t].length;e++)this.emit(o,t,i[t][e]);else for(e=0;e<i[t].length;e++)n[t][e]!==i[t][e]&&(void 0===n[t][e]?this.emit(o,t,i[t][e]):this.emit(h,t,i[t][e]))}},l.prototype._getStructure=function(){var t,e={},i=this._record.get();for(t=0;t<i.length;t++)void 0===e[i[t]]?e[i[t]]=[t]:e[i[t]].push(t);return e},t.exports=l},function(t,e,n){var r=n(82),s=n(130),o=function(t,e,i,n,r){this._client=t,this._connection=e,this._topic=i,this._action=n,this._timeoutDuration=r,this._requests={},this._resubscribeNotifier=new s(this._client,this._resendRequests.bind(this))};o.prototype.hasRequest=function(t){return!!this._requests[t]},o.prototype.request=function(t,e){var i;this._requests[t]||(this._requests[t]=[],this._connection.sendMsg(this._topic,this._action,[t])),i=setTimeout(this._onResponseTimeout.bind(this,t),this._timeoutDuration),this._requests[t].push({timeout:i,callback:e})},o.prototype.recieve=function(t,e,n){var r=this._requests[t];for(i=0;i<r.length;i++)entry=r[i],clearTimeout(entry.timeout),entry.callback(e,n);delete this._requests[t]},o.prototype._onResponseTimeout=function(t){var e="No response received in time for "+this._topic+"|"+this._action+"|"+t;this._client._$onError(this._topic,r.EVENT.RESPONSE_TIMEOUT,e)},o.prototype._resendRequests=function(){for(var t in this._requests)this._connection.sendMsg(this._topic,this._action,[this._requests[t]])},t.exports=o},function(t,e,i){var n=i(82),r=(i(142),i(143)),s=i(129),o="callee-update",a=function(t,e,i){this._options=t,this._connection=e,this._client=i,this._localCallees={},this._remoteCallees=[],this._remoteCalleesCallback=null,this._ackTimeoutRegistry=new s(i,n.TOPIC.WEBRTC,this._options.calleeAckTimeout),this._ackTimeoutRegistry.on("timeout",this._removeCallee.bind(this)),this._calls={}};a.prototype.registerCallee=function(t,e){if(this._checkCompatibility(),"string"!=typeof t)throw new Error("Invalid callee name "+t);if("function"!=typeof e)throw new Error("Callback is not a function");if(this._localCallees[t])throw new Error("Callee "+t+" is already registered");this._localCallees[t]=e,this._ackTimeoutRegistry.add(t),this._connection.sendMsg(n.TOPIC.WEBRTC,n.ACTIONS.WEBRTC_REGISTER_CALLEE,[t])},a.prototype.unregisterCallee=function(t){if(!this._localCallees[t])throw new Error("Callee is not registered");this._removeCallee(t),this._ackTimeoutRegistry.add(t),this._connection.sendMsg(n.TOPIC.WEBRTC,n.ACTIONS.WEBRTC_UNREGISTER_CALLEE,[t])},a.prototype.makeCall=function(t,e,i){if(this._checkCompatibility(),"string"!=typeof t)throw new Error("Callee must be provided as string");if("object"!=typeof e)throw new Error("metaData must be provided");if(this._calls[t])throw new Error("Call with "+t+" is already in progress");var n=this._client.getUid();return this._ackTimeoutRegistry.add(n),this._createCall(t,{isOutgoing:!0,connection:this._connection,localId:n,remoteId:t,localStream:i,offer:null,metaData:e})},a.prototype.listenForCallees=function(t){if(null!==this._remoteCalleesCallback)throw new Error("Already listening for callees");this._remoteCalleesCallback=t,this._ackTimeoutRegistry.add(o),this._connection.sendMsg(n.TOPIC.WEBRTC,n.ACTIONS.WEBRTC_LISTEN_FOR_CALLEES)},a.prototype.unlistenForCallees=function(){if(!this._remoteCalleesCallback)throw new Error("Not listening for callees");this._remoteCalleesCallback=null,this._ackTimeoutRegistry.add(o),this._connection.sendMsg(n.TOPIC.WEBRTC,n.ACTIONS.WEBRTC_UNLISTEN_FOR_CALLEES)},a.prototype._handleIncomingCall=function(t){var e=t.data[0],i=t.data[1],n=JSON.parse(t.data[2]),r=this._createCall(e,{isOutgoing:!1,connection:this._connection,localId:i,remoteId:e,localStream:null,metaData:n.meta,offer:n});this._localCallees[i](r,n.meta)},a.prototype._removeCall=function(t){delete this._calls[t]},a.prototype._createCall=function(t,e){return this._calls[t]=new r(e,this._options),this._calls[t].on("ended",this._removeCall.bind(this,t)),this._calls[t]},a.prototype._isValidMessage=function(t){return 3===t.data.length&&"string"==typeof t.data[0]&&"string"==typeof t.data[1]&&"string"==typeof t.data[2]},a.prototype._isCalleeUpdate=function(t){return t.action===n.ACTIONS.WEBRTC_ALL_CALLEES||t.action===n.ACTIONS.WEBRTC_CALLEE_ADDED||t.action===n.ACTIONS.WEBRTC_CALLEE_REMOVED},a.prototype._checkCompatibility=function(){if("undefined"==typeof RTCPeerConnection||"undefined"==typeof RTCSessionDescription||"undefined"==typeof RTCIceCandidate){var t="RTC global objects not detected. \n";throw t+="deepstream expects a standardized WebRtc implementation (e.g. no vendor prefixes etc.) \n",t+="until WebRtc is fully supported, we recommend including the official WebRTC adapter script \n",t+="which can be found at https://github.com/webrtc/adapter",new Error(t)}},a.prototype._removeCallee=function(t){delete this._localCallees[t]},a.prototype._processCalleeUpdate=function(t){if(null===this._remoteCalleesCallback)return void this._client._$onError(n.TOPIC.WEBRTC,n.EVENT.UNSOLICITED_MESSAGE,t.raw);t.action===n.ACTIONS.WEBRTC_ALL_CALLEES&&(this._remoteCallees=t.data);var e=this._remoteCallees.indexOf(t.data[0]);if(t.action===n.ACTIONS.WEBRTC_CALLEE_ADDED){if(e!==-1)return;this._remoteCallees.push(t.data[0])}else if(t.action===n.ACTIONS.WEBRTC_CALLEE_REMOVED){if(e===-1)return;this._remoteCallees.splice(e,1)}this._remoteCalleesCallback(this._remoteCallees)},a.prototype._$handle=function(t){var e,i,r;return t.action===n.ACTIONS.ERROR?void this._client._$onError(n.TOPIC.WEBRTC,t.data[0],t.data[1]):t.action===n.ACTIONS.ACK?void this._ackTimeoutRegistry.clear(t):this._isCalleeUpdate(t)?void this._processCalleeUpdate(t):t.action===n.ACTIONS.WEBRTC_IS_ALIVE?void("false"===t.data[1]&&this._calls[t.data[0]]&&this._calls[t.data[0]]._$close()):this._isValidMessage(t)?t.action===n.ACTIONS.WEBRTC_OFFER?void this._handleIncomingCall(t):(e=this._calls[t.data[0]]||this._calls[t.data[1]])?t.action===n.ACTIONS.WEBRTC_ANSWER?(i=new RTCSessionDescription(JSON.parse(t.data[2])),void e._$webRtcConnection.setRemoteDescription(i)):t.action===n.ACTIONS.WEBRTC_ICE_CANDIDATE?(r=new RTCIceCandidate(JSON.parse(t.data[2])),void e._$addIceCandidate(r)):t.action===n.ACTIONS.WEBRTC_CALL_DECLINED?void e._$declineReceived(t.data[2]):t.action===n.ACTIONS.WEBRTC_CALL_ENDED?void e._$close():void this._client._$onError(n.TOPIC.WEBRTC,n.EVENT.EVENT.MESSAGE_PARSE_ERROR,"unsupported action "+t.action):void this._client._$onError(n.TOPIC.WEBRTC,n.EVENT.UNSOLICITED_MESSAGE,t.raw):void this._client._$onError(n.TOPIC.WEBRTC,n.EVENT.MESSAGE_PARSE_ERROR,t)},t.exports=a},function(t,e,i){var n=i(84),r=i(82),s=function(){},o=function(t,e,i,n){this._connection=t,this._remoteId=n,this._localId=i,this._peerConnection=new RTCPeerConnection(e.rtcPeerConnectionConfig),this._peerConnection.onaddstream=this._onStream.bind(this),this._peerConnection.onicecandidate=this._onIceCandidate.bind(this),this._peerConnection.oniceconnectionstatechange=this._onIceConnectionStateChange.bind(this),this._constraints={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}}};n(o.prototype),o.prototype.initiate=function(t,e){this._peerConnection.addStream(t),this._peerConnection.createOffer(this._onOfferCreated.bind(this,e),this._onError.bind(this))},o.prototype.close=function(){this._peerConnection.close()},o.prototype.addStream=function(t){this._peerConnection.addStream(t)},o.prototype.setRemoteDescription=function(t){this._peerConnection.setRemoteDescription(t,s,this._onError.bind(this))},o.prototype.createAnswer=function(){this._peerConnection.createAnswer(this._onAnswerCreated.bind(this),this._onError.bind(this),this._constraints)},o.prototype.addIceCandidate=function(t){this._peerConnection.addIceCandidate(t,s,this._onError.bind(this))},o.prototype._onStream=function(t){this.emit("stream",t.stream)},o.prototype._onOfferCreated=function(t,e){this._sendMsg(r.ACTIONS.WEBRTC_OFFER,JSON.stringify({sdp:e.sdp,type:e.type,meta:t})),this._peerConnection.setLocalDescription(e,s,this._onError.bind(this))},o.prototype._onAnswerCreated=function(t){this._sendMsg(r.ACTIONS.WEBRTC_ANSWER,t.toJSON()),this._peerConnection.setLocalDescription(t,s,this._onError.bind(this))},o.prototype._sendMsg=function(t,e){this._connection.sendMsg(r.TOPIC.WEBRTC,t,[this._localId,this._remoteId,e])},o.prototype._onIceCandidate=function(t){t.candidate&&this._sendMsg(r.ACTIONS.WEBRTC_ICE_CANDIDATE,t.candidate.toJSON())},o.prototype._onIceConnectionStateChange=function(){"disconnected"===this._peerConnection.iceConnectionState&&this._connection.sendMsg(r.TOPIC.WEBRTC,r.ACTIONS.WEBRTC_IS_ALIVE,[this._remoteId])},o.prototype._onError=function(t){this.emit("error",t)},t.exports=o},function(t,e,i){var n=i(142),r=i(84),s=i(82),o=function(t,e){this._connection=t.connection,this._localId=t.localId,this._remoteId=t.remoteId,this._localStream=t.localStream,this._offer=t.offer,this._$webRtcConnection=null,this._bufferedIceCandidates=[],this._options=e,this.state=s.CALL_STATE.INITIAL,this.metaData=t.metaData||null,this.callee=t.isOutgoing?t.remoteId:t.localId,this.isOutgoing=t.isOutgoing,this.isIncoming=!t.isOutgoing,this.isAccepted=!1,this.isDeclined=!1,this.isOutgoing&&this._initiate()};r(o.prototype),o.prototype.accept=function(t){if(this.isAccepted)throw new Error("Incoming call is already accepted");if(this.isDeclined)throw new Error("Can't accept incoming call. Call was already declined");this.isAccepted=!0,this._$webRtcConnection=new n(this._connection,this._options,this._localId,this._remoteId),t&&this._$webRtcConnection.addStream(t),this._$webRtcConnection.setRemoteDescription(new RTCSessionDescription(this._offer)),this._$webRtcConnection.createAnswer(),this._$webRtcConnection.on("stream",this._onEstablished.bind(this)),this._$webRtcConnection.on("error",this.emit.bind(this,"error"));for(var e=0;e<this._bufferedIceCandidates.length;e++)this._$webRtcConnection.addIceCandidate(this._bufferedIceCandidates[e]);this._bufferedIceCandidates=[],this._stateChange(s.CALL_STATE.ACCEPTED)},o.prototype.decline=function(t){if(this.isAccepted)throw new Error("Can't decline incoming call. Call was already accepted");if(this.isDeclined)throw new Error("Incoming call was already declined");this.isDeclined=!0,this._connection.sendMsg(s.TOPIC.WEBRTC,s.ACTIONS.WEBRTC_CALL_DECLINED,[this._localId,this._remoteId,t||null]),this._$declineReceived(t||null)},o.prototype.end=function(){this._connection.sendMsg(s.TOPIC.WEBRTC,s.ACTIONS.WEBRTC_CALL_ENDED,[this._localId,this._remoteId,null]),this._$close()},o.prototype._$close=function(){this._stateChange(s.CALL_STATE.ENDED),this._$webRtcConnection&&this._$webRtcConnection.close(),this.emit("ended")},o.prototype._$addIceCandidate=function(t){this.isIncoming&&this.isAccepted===!1?this._bufferedIceCandidates.push(t):this._$webRtcConnection.addIceCandidate(t)},o.prototype._$declineReceived=function(t){this.isDeclined=!0,this.isAccepted=!1,this._stateChange(s.CALL_STATE.DECLINED),this.emit("declined",t)},o.prototype._stateChange=function(t){this.state=t,this.emit("stateChange",t)},o.prototype._initiate=function(){this._stateChange(s.CALL_STATE.CONNECTING),this._$webRtcConnection=new n(this._connection,this._options,this._localId,this._remoteId),this._$webRtcConnection.initiate(this._localStream,this.metaData),this._$webRtcConnection.on("stream",this._onEstablished.bind(this))},o.prototype._onEstablished=function(t){this.isDeclined=!1,this.isAccepted=!0,this._stateChange(s.CALL_STATE.ESTABLISHED),this.emit("established",t)},t.exports=o},function(t,e,i){var n=i(83);t.exports={recordPersistDefault:!0,reconnectIntervalIncrement:4e3,maxReconnectInterval:18e4,maxReconnectAttempts:5,rpcAckTimeout:6e3,rpcResponseTimeout:1e4,subscriptionTimeout:2e3,maxMessagesPerPacket:100,timeBetweenSendingQueuedPackages:16,recordReadAckTimeout:1e3,recordReadTimeout:3e3,recordDeleteTimeout:3e3,calleeAckTimeout:3e3,rtcPeerConnectionConfig:{iceServers:[{url:"stun:stun.services.mozilla.com"},{url:"stun:stun.l.google.com:19302"}]},agent:!1,upgrade:!0,forceJSONP:!1,jsonp:!0,forceBase64:!1,enablesXDR:!1,timestampRequests:!1,timestampParam:"t",policyPort:843,path:"/deepstream",transports:["polling","websocket"],rememberUpgrade:!1,mergeStrategy:n.REMOTE_WINS,recordDeepCopy:!0}}]));